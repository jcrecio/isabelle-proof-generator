{"file_name": "/home/qj213/afp-2021-10-22/thys/Jinja/Compiler/Correctness1.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Jinja", "problem_names": ["lemma hidden_unmod: \"\\<And>Vs. hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs e) i\" and\n \"\\<And>Vs. hidden Vs i \\<Longrightarrow> unmods (compEs\\<^sub>1 Vs es) i\"", "lemma eval\\<^sub>1_preserves_unmod:\n  \"\\<lbrakk> P \\<turnstile>\\<^sub>1 \\<langle>e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>e',(h',ls')\\<rangle>; unmod e i; i < size ls \\<rbrakk>\n  \\<Longrightarrow> ls ! i = ls' ! i\"\nand \"\\<lbrakk> P \\<turnstile>\\<^sub>1 \\<langle>es,(h,ls)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',ls')\\<rangle>; unmods es i; i < size ls \\<rbrakk>\n      \\<Longrightarrow> ls ! i = ls' ! i\"", "lemma LAss_lem:\n  \"\\<lbrakk>x \\<in> set xs; size xs \\<le> size ys \\<rbrakk>\n  \\<Longrightarrow> m\\<^sub>1 \\<subseteq>\\<^sub>m m\\<^sub>2(xs[\\<mapsto>]ys) \\<Longrightarrow> m\\<^sub>1(x\\<mapsto>y) \\<subseteq>\\<^sub>m m\\<^sub>2(xs[\\<mapsto>]ys[last_index xs x := y])\"", "lemma Block_lem:\nfixes l :: \"'a \\<rightharpoonup> 'b\"\nassumes 0: \"l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\"\n    and 1: \"l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V\\<mapsto>v]\"\n    and hidden: \"V \\<in> set Vs \\<Longrightarrow> ls ! last_index Vs V = ls' ! last_index Vs V\"\n    and size: \"size ls = size ls'\"    \"size Vs < size ls'\"\nshows \"l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\"", "theorem assumes wf: \"wwf_J_prog P\"\nshows eval\\<^sub>1_eval: \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>\n  \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> fv e \\<subseteq> set Vs;  l \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls]; size Vs + max_vars e \\<le> size ls \\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h',ls')\\<rangle> \\<and> l' \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls'])\"\n(*<*)\n  (is \"_ \\<Longrightarrow> (\\<And>Vs ls. PROP ?P e h l e' h' l' Vs ls)\"\n   is \"_ \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> _; _; _ \\<rbrakk> \\<Longrightarrow> \\<exists>ls'. ?Post e h l e' h' l' Vs ls ls')\")\n(*>*)\n\nand evals\\<^sub>1_evals: \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle>\n    \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> fvs es \\<subseteq> set Vs;  l \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls]; size Vs + max_varss es \\<le> size ls \\<rbrakk>\n         \\<Longrightarrow> \\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,(h,ls)\\<rangle> [\\<Rightarrow>] \\<langle>compEs\\<^sub>1 Vs es',(h',ls')\\<rangle> \\<and>\n                      l' \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls'])\"\n(*<*)\n  (is \"_ \\<Longrightarrow> (\\<And>Vs ls. PROP ?Ps es h l es' h' l' Vs ls)\"\n   is \"_ \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> _; _; _\\<rbrakk> \\<Longrightarrow> \\<exists>ls'. ?Posts es h l es' h' l' Vs ls ls')\")", "lemma compE\\<^sub>1_pres_wt: \"\\<And>Vs Ts U.\n  \\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> e :: U; size Ts = size Vs \\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1 compE\\<^sub>1 Vs e :: U\"\nand  \"\\<And>Vs Ts Us.\n  \\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> es [::] Us; size Ts = size Vs \\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1 compEs\\<^sub>1 Vs es [::] Us\"", "lemma \\<B>: \"\\<And>Vs n. size Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs e) n\"\nand \\<B>s: \"\\<And>Vs n. size Vs = n \\<Longrightarrow> \\<B>s (compEs\\<^sub>1 Vs es) n\"", "lemma image_last_index: \"A \\<subseteq> set(xs@[x]) \\<Longrightarrow> last_index (xs @ [x]) ` A =\n  (if x \\<in> A then insert (size xs) (last_index xs ` (A-{x})) else last_index xs ` A)\"", "lemma A_compE\\<^sub>1_None[simp]:\n      \"\\<And>Vs. \\<A> e = None \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) = None\"\nand \"\\<And>Vs. \\<A>s es = None \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) = None\"", "lemma A_compE\\<^sub>1:\n      \"\\<And>A Vs. \\<lbrakk> \\<A> e = \\<lfloor>A\\<rfloor>; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` A\\<rfloor>\"\nand \"\\<And>A Vs. \\<lbrakk> \\<A>s es = \\<lfloor>A\\<rfloor>; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) = \\<lfloor>last_index Vs ` A\\<rfloor>\"", "lemma D_None[iff]: \"\\<D> (e::'a exp) None\" and [iff]: \"\\<D>s (es::'a exp list) None\"", "lemma D_last_index_compE\\<^sub>1:\n      \"\\<And>A Vs. \\<lbrakk> A \\<subseteq> set Vs; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow>\n                \\<D> e \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>\"\nand \"\\<And>A Vs. \\<lbrakk> A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow>\n                \\<D>s es \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` A\\<rfloor>\"", "lemma last_index_image_set: \"distinct xs \\<Longrightarrow> last_index xs ` set xs = {..<size xs}\"", "lemma D_compE\\<^sub>1:\n  \"\\<lbrakk> \\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs; distinct Vs \\<rbrakk> \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>{..<length Vs}\\<rfloor>\"", "lemma D_compE\\<^sub>1':\nassumes \"\\<D> e \\<lfloor>set(V#Vs)\\<rfloor>\" and \"fv e \\<subseteq> set(V#Vs)\" and \"distinct(V#Vs)\"\nshows \"\\<D> (compE\\<^sub>1 (V#Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\"", "lemma compP\\<^sub>1_pres_wf: \"wf_J_prog P \\<Longrightarrow> wf_J\\<^sub>1_prog (compP\\<^sub>1 P)\""], "translations": [["", "lemma hidden_unmod: \"\\<And>Vs. hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs e) i\" and\n \"\\<And>Vs. hidden Vs i \\<Longrightarrow> unmods (compEs\\<^sub>1 Vs es) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs.\n        hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs e) i) &&&\n    (\\<And>Vs.\n        hidden Vs i \\<Longrightarrow> unmods (compEs\\<^sub>1 Vs es) i)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs.\n        hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs e) i) &&&\n    (\\<And>Vs.\n        hidden Vs i \\<Longrightarrow> unmods (compEs\\<^sub>1 Vs es) i)", "apply(induct e and es rule: compE\\<^sub>1.induct compEs\\<^sub>1.induct)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>x Vs.\n       hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (new x)) i\n 2. \\<And>x1 x2 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x2) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (Cast x1 x2)) i\n 3. \\<And>x Vs.\n       hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (Val x)) i\n 4. \\<And>x1 x2 x3 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x1) i;\n        \\<And>Vs.\n           hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs x3) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          i\n 5. \\<And>x Vs.\n       hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (Var x)) i\n 6. \\<And>x1 x2 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x2) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (x1:=x2)) i\n 7. \\<And>x1 x2 x3 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x1) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) i\n 8. \\<And>x1 x2 x3 x4 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x1) i;\n        \\<And>Vs.\n           hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs x4) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          i\n 9. \\<And>x1 x2 x3 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x1) i;\n        \\<And>Vs.\n           hidden Vs i \\<Longrightarrow> unmods (compEs\\<^sub>1 Vs x3) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> unmod (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) i\n 10. \\<And>x1 x2 x3 Vs.\n        \\<lbrakk>\\<And>Vs.\n                    hidden Vs i \\<Longrightarrow>\n                    unmod (compE\\<^sub>1 Vs x3) i;\n         hidden Vs i\\<rbrakk>\n        \\<Longrightarrow> unmod (compE\\<^sub>1 Vs {x1:x2; x3}) i\nA total of 17 subgoals...", "apply (simp_all add:hidden_inacc)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x4 Vs.\n       \\<lbrakk>\\<And>Vs.\n                   hidden Vs i \\<Longrightarrow>\n                   unmod (compE\\<^sub>1 Vs x1) i;\n        \\<And>Vs.\n           hidden Vs i \\<Longrightarrow> unmod (compE\\<^sub>1 Vs x4) i;\n        hidden Vs i\\<rbrakk>\n       \\<Longrightarrow> length Vs \\<noteq> i", "apply(auto simp add:hidden_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma eval\\<^sub>1_preserves_unmod:\n  \"\\<lbrakk> P \\<turnstile>\\<^sub>1 \\<langle>e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>e',(h',ls')\\<rangle>; unmod e i; i < size ls \\<rbrakk>\n  \\<Longrightarrow> ls ! i = ls' ! i\"\nand \"\\<lbrakk> P \\<turnstile>\\<^sub>1 \\<langle>es,(h,ls)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',ls')\\<rangle>; unmods es i; i < size ls \\<rbrakk>\n      \\<Longrightarrow> ls ! i = ls' ! i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n(h, ls)\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',(h', ls')\\<rangle>;\n      unmod e i; i < length ls\\<rbrakk>\n     \\<Longrightarrow> ls ! i = ls' ! i) &&&\n    (\\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>es,\n(h, ls)\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',(h', ls')\\<rangle>;\n      unmods es i; i < length ls\\<rbrakk>\n     \\<Longrightarrow> ls ! i = ls' ! i)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n(h, ls)\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',(h', ls')\\<rangle>;\n      unmod e i; i < length ls\\<rbrakk>\n     \\<Longrightarrow> ls ! i = ls' ! i) &&&\n    (\\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>es,\n(h, ls)\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',(h', ls')\\<rangle>;\n      unmods es i; i < length ls\\<rbrakk>\n     \\<Longrightarrow> ls ! i = ls' ! i)", "apply(induct rule:eval\\<^sub>1_evals\\<^sub>1_inducts)"], ["proof (prove)\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs)); unmod (new C) i;\n        i < length l\\<rbrakk>\n       \\<Longrightarrow> l ! i = l ! i\n 2. \\<And>h C l.\n       \\<lbrakk>new_Addr h = None; unmod (new C) i; i < length l\\<rbrakk>\n       \\<Longrightarrow> l ! i = l ! i\n 3. \\<And>e a b aa h l D fs C.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<lbrakk>unmod e i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = l ! i;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; unmod (Cast C e) i;\n        i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = l ! i\n 4. \\<And>e a b aa ba C.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>null,(aa, ba)\\<rangle>;\n        \\<lbrakk>unmod e i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = ba ! i;\n        unmod (Cast C e) i; i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = ba ! i\n 5. \\<And>e a b aa h l D fs C.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<lbrakk>unmod e i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = l ! i;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*; unmod (Cast C e) i;\n        i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = l ! i\n 6. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<lbrakk>unmod e i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = ba ! i;\n        unmod (Cast C e) i; i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = ba ! i\n 7. \\<And>v a b.\n       \\<lbrakk>unmod (Val v) i; i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = b ! i\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e\\<^sub>1,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<lbrakk>unmod e\\<^sub>1 i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = ba ! i;\n        P \\<turnstile>\\<^sub>1 \\<langle>e\\<^sub>2,\n                                (aa, ba)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<lbrakk>unmod e\\<^sub>2 i; i < length ba\\<rbrakk>\n        \\<Longrightarrow> ba ! i = bb ! i;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        unmod (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) i;\n        i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = bb ! i\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e\\<^sub>1,\n  (a, b)\\<rangle> \\<Rightarrow>\n \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<lbrakk>unmod e\\<^sub>1 i; i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = ba ! i;\n        unmod (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) i;\n        i < length b\\<rbrakk>\n       \\<Longrightarrow> b ! i = ba ! i\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop.\n        \\<lbrakk>P \\<turnstile>\\<^sub>1 \\<langle>e\\<^sub>1,\n   (a, b)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<lbrakk>unmod e\\<^sub>1 i; i < length b\\<rbrakk>\n         \\<Longrightarrow> b ! i = ba ! i;\n         P \\<turnstile>\\<^sub>1 \\<langle>e\\<^sub>2,\n                                 (aa, ba)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<lbrakk>unmod e\\<^sub>2 i; i < length ba\\<rbrakk>\n         \\<Longrightarrow> ba ! i = bb ! i;\n         unmod (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) i;\n         i < length b\\<rbrakk>\n        \\<Longrightarrow> b ! i = bb ! i\nA total of 43 subgoals...", "apply(auto dest!:eval\\<^sub>1_preserves_len split:if_split_asm)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma LAss_lem:\n  \"\\<lbrakk>x \\<in> set xs; size xs \\<le> size ys \\<rbrakk>\n  \\<Longrightarrow> m\\<^sub>1 \\<subseteq>\\<^sub>m m\\<^sub>2(xs[\\<mapsto>]ys) \\<Longrightarrow> m\\<^sub>1(x\\<mapsto>y) \\<subseteq>\\<^sub>m m\\<^sub>2(xs[\\<mapsto>]ys[last_index xs x := y])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> set xs; length xs \\<le> length ys;\n     m\\<^sub>1 \\<subseteq>\\<^sub>m m\\<^sub>2(xs [\\<mapsto>] ys)\\<rbrakk>\n    \\<Longrightarrow> m\\<^sub>1(x \\<mapsto> y) \\<subseteq>\\<^sub>m m\\<^sub>2\n                      (xs [\\<mapsto>] ys[last_index xs x := y])", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> set xs; length xs \\<le> length ys;\n     m\\<^sub>1 \\<subseteq>\\<^sub>m m\\<^sub>2(xs [\\<mapsto>] ys)\\<rbrakk>\n    \\<Longrightarrow> m\\<^sub>1(x \\<mapsto> y) \\<subseteq>\\<^sub>m m\\<^sub>2\n                      (xs [\\<mapsto>] ys[last_index xs x := y])", "by(simp add:map_le_def fun_upds_apply eq_sym_conv)"], ["", "(*>*)"], ["", "lemma Block_lem:\nfixes l :: \"'a \\<rightharpoonup> 'b\"\nassumes 0: \"l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\"\n    and 1: \"l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V\\<mapsto>v]\"\n    and hidden: \"V \\<in> set Vs \\<Longrightarrow> ls ! last_index Vs V = ls' ! last_index Vs V\"\n    and size: \"size ls = size ls'\"    \"size Vs < size ls'\"\nshows \"l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "have \"l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V\\<mapsto>v](V := l V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> v]\n    (V := l V)", "using 1"], ["proof (prove)\nusing this:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> v]\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> v]\n    (V := l V)", "by(rule map_le_upd)"], ["proof (state)\nthis:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> v]\n  (V := l V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "also"], ["proof (state)\nthis:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> v]\n  (V := l V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "have \"\\<dots> = [Vs [\\<mapsto>] ls'](V := l V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls', V \\<mapsto> v](V := l V) = [Vs [\\<mapsto>] ls']\n    (V := l V)", "by simp"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls', V \\<mapsto> v](V := l V) = [Vs [\\<mapsto>] ls']\n  (V := l V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "also"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls', V \\<mapsto> v](V := l V) = [Vs [\\<mapsto>] ls']\n  (V := l V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "have \"\\<dots> \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "proof (cases \"l V\")"], ["proof (state)\ngoal (2 subgoals):\n 1. l V = None \\<Longrightarrow>\n    [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "case None"], ["proof (state)\nthis:\n  l V = None\n\ngoal (2 subgoals):\n 1. l V = None \\<Longrightarrow>\n    [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "thus ?thesis"], ["proof (prove)\nusing this:\n  l V = None\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by simp"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "case (Some w)"], ["proof (state)\nthis:\n  l V = \\<lfloor>w\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "hence \"[Vs [\\<mapsto>] ls] V = Some w\""], ["proof (prove)\nusing this:\n  l V = \\<lfloor>w\\<rfloor>\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls] V = \\<lfloor>w\\<rfloor>", "using 0"], ["proof (prove)\nusing this:\n  l V = \\<lfloor>w\\<rfloor>\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls] V = \\<lfloor>w\\<rfloor>", "by(force simp add: map_le_def split:if_splits)"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls] V = \\<lfloor>w\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "hence VinVs: \"V \\<in> set Vs\" and w: \"w = ls ! last_index Vs V\""], ["proof (prove)\nusing this:\n  [Vs [\\<mapsto>] ls] V = \\<lfloor>w\\<rfloor>\n\ngoal (1 subgoal):\n 1. V \\<in> set Vs &&& w = ls ! last_index Vs V", "using size"], ["proof (prove)\nusing this:\n  [Vs [\\<mapsto>] ls] V = \\<lfloor>w\\<rfloor>\n  length ls = length ls'\n  length Vs < length ls'\n\ngoal (1 subgoal):\n 1. V \\<in> set Vs &&& w = ls ! last_index Vs V", "by(auto simp add:fun_upds_apply split:if_splits)"], ["proof (state)\nthis:\n  V \\<in> set Vs\n  w = ls ! last_index Vs V\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "hence \"w = ls' ! last_index Vs V\""], ["proof (prove)\nusing this:\n  V \\<in> set Vs\n  w = ls ! last_index Vs V\n\ngoal (1 subgoal):\n 1. w = ls' ! last_index Vs V", "using hidden[OF VinVs]"], ["proof (prove)\nusing this:\n  V \\<in> set Vs\n  w = ls ! last_index Vs V\n  ls ! last_index Vs V = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. w = ls' ! last_index Vs V", "by simp"], ["proof (state)\nthis:\n  w = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "hence \"[Vs [\\<mapsto>] ls'](V := l V) = [Vs [\\<mapsto>] ls']\""], ["proof (prove)\nusing this:\n  w = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls'](V := l V) = [Vs [\\<mapsto>] ls']", "using Some size VinVs"], ["proof (prove)\nusing this:\n  w = ls' ! last_index Vs V\n  l V = \\<lfloor>w\\<rfloor>\n  length ls = length ls'\n  length Vs < length ls'\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls'](V := l V) = [Vs [\\<mapsto>] ls']", "by(simp add: map_upds_upd_conv_last_index)"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls'](V := l V) = [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls']", "thus ?thesis"], ["proof (prove)\nusing this:\n  [Vs [\\<mapsto>] ls'](V := l V) = [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by simp"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] ls'](V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "finally"], ["proof (chain)\npicking this:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "show ?thesis"], ["proof (prove)\nusing this:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "."], ["proof (state)\nthis:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)\n\n(*<*)"], ["", "declare fun_upd_apply[simp del]"], ["", "(*>*)"], ["", "text\\<open>\\noindent The main theorem:\\<close>"], ["", "theorem assumes wf: \"wwf_J_prog P\"\nshows eval\\<^sub>1_eval: \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>\n  \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> fv e \\<subseteq> set Vs;  l \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls]; size Vs + max_vars e \\<le> size ls \\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h',ls')\\<rangle> \\<and> l' \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls'])\"\n(*<*)\n  (is \"_ \\<Longrightarrow> (\\<And>Vs ls. PROP ?P e h l e' h' l' Vs ls)\"\n   is \"_ \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> _; _; _ \\<rbrakk> \\<Longrightarrow> \\<exists>ls'. ?Post e h l e' h' l' Vs ls ls')\")\n(*>*)\n\nand evals\\<^sub>1_evals: \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle>\n    \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> fvs es \\<subseteq> set Vs;  l \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls]; size Vs + max_varss es \\<le> size ls \\<rbrakk>\n         \\<Longrightarrow> \\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,(h,ls)\\<rangle> [\\<Rightarrow>] \\<langle>compEs\\<^sub>1 Vs es',(h',ls')\\<rangle> \\<and>\n                      l' \\<subseteq>\\<^sub>m [Vs[\\<mapsto>]ls'])\"\n(*<*)\n  (is \"_ \\<Longrightarrow> (\\<And>Vs ls. PROP ?Ps es h l es' h' l' Vs ls)\"\n   is \"_ \\<Longrightarrow> (\\<And>Vs ls. \\<lbrakk> _; _; _\\<rbrakk> \\<Longrightarrow> \\<exists>ls'. ?Posts es h l es' h' l' Vs ls ls')\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>Vs ls.\n         \\<lbrakk>fv e \\<subseteq> set Vs;\n          l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n          length Vs + max_vars e \\<le> length ls\\<rbrakk>\n         \\<Longrightarrow> \\<exists>ls'.\n                              compP\\<^sub>1\n                               P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                          Vs e,\n                 (h, ls)\\<rangle> \\<Rightarrow>\n                \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n                              l' \\<subseteq>\\<^sub>m\n                              [Vs [\\<mapsto>] ls'])) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>Vs ls.\n         \\<lbrakk>fvs es \\<subseteq> set Vs;\n          l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n          length Vs + max_varss es \\<le> length ls\\<rbrakk>\n         \\<Longrightarrow> \\<exists>ls'.\n                              compP\\<^sub>1\n                               P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                          Vs es,\n                 (h, ls)\\<rangle> [\\<Rightarrow>]\n                \\<langle>compEs\\<^sub>1 Vs es',(h', ls')\\<rangle> \\<and>\n                              l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']))", "proof (induct rule:eval_evals_inducts)"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 43 subgoals...", "case Nil"], ["proof (state)\nthis:\n  fvs [] \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss [] \\<le> length ls\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 43 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  fvs [] \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss [] \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs [],\n                                (a_, ls)\\<rangle> [\\<Rightarrow>]\n                               \\<langle>compEs\\<^sub>1 Vs [],\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:Nil\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs [],\n                              (a_, ls)\\<rangle> [\\<Rightarrow>]\n                             \\<langle>compEs\\<^sub>1 Vs [],\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "case (Cons e h l v h' l' es es' h\\<^sub>2 l\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h', l')\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h', l')\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h', ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs es',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "have \"PROP ?P e h l (Val v) h' l' Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                         l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "with Cons.prems"], ["proof (chain)\npicking this:\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls' where 1: \"?Post e h l (Val v) h' l' Vs ls ls'\"\n    \"size ls = size ls'\""], ["proof (prove)\nusing this:\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                 l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         length ls = length ls'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  length ls = length ls'\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "have \"PROP ?Ps es h' l' es' h\\<^sub>2 l\\<^sub>2 Vs ls'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fvs es \\<subseteq> set Vs;\n     l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n     length Vs + max_varss es \\<le> length ls'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'a.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                     es,\n            (h', ls')\\<rangle> [\\<Rightarrow>]\n           \\<langle>compEs\\<^sub>1 Vs es',(h\\<^sub>2, ls'a)\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'a]", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n   length Vs + max_varss es \\<le> length ls'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'a.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h', ls')\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs es',(h\\<^sub>2, ls'a)\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'a]\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "with 1 Cons.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  length ls = length ls'\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n   length Vs + max_varss es \\<le> length ls'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'a.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h', ls')\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs es',(h\\<^sub>2, ls'a)\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'a]", "obtain ls\\<^sub>2 where 2: \"?Posts es h' l' es' h\\<^sub>2 l\\<^sub>2 Vs ls' ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  length ls = length ls'\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n   length Vs + max_varss es \\<le> length ls'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'a.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h', ls')\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs es',(h\\<^sub>2, ls'a)\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'a]\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                                 (h', ls')\\<rangle> [\\<Rightarrow>]\n                                \\<langle>compEs\\<^sub>1 Vs es',\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h', ls')\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs es',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 42 subgoals...", "from 1 2 Cons"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  length ls = length ls'\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h', ls')\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs es',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h', l')\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h', l')\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h', ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs es',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  length ls = length ls'\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h', ls')\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs es',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h', l')\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h', l')\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h', ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs es',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fvs (e # es) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e # es) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs (e # es),\n                                (h, ls)\\<rangle> [\\<Rightarrow>]\n                               \\<langle>compEs\\<^sub>1 Vs (Val v # es'),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:Cons\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs (e # es),\n                              (h, ls)\\<rangle> [\\<Rightarrow>]\n                             \\<langle>compEs\\<^sub>1 Vs (Val v # es'),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 41 subgoals...", "case ConsThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fvs (e_ # es_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e_ # es_) \\<le> length ls\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fvs (e_ # es_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_varss (e_ # es_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs (e_ # es_),\n                                (a___, ls)\\<rangle> [\\<Rightarrow>]\n                               \\<langle>compEs\\<^sub>1 Vs (throw e'_ # es_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:ConsThrow\\<^sub>1 dest: eval_final)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs (e_ # es_),\n                              (a___, ls)\\<rangle> [\\<Rightarrow>]\n                             \\<langle>compEs\\<^sub>1 Vs (throw e'_ # es_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "next"], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "case (Block e h l V e' h' l' T)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l(V := None) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv {V:T; e} \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars {V:T; e} \\<le> length ls\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "let ?Vs = \"Vs @ [V]\""], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have IH:\n  \"\\<lbrakk>fv e \\<subseteq> set ?Vs; l(V := None) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls];\n    size ?Vs + max_vars e \\<le> size ls\\<rbrakk>\n   \\<Longrightarrow> \\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n             l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\" and\n  fv: \"fv {V:T; e} \\<subseteq> set Vs\" and rel: \"l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\" and\n  len: \"length Vs + max_vars {V:T; e} \\<le> length ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lbrakk>fv e \\<subseteq> set (Vs @ [V]);\n       l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls];\n       length (Vs @ [V]) + max_vars e \\<le> length ls\\<rbrakk>\n      \\<Longrightarrow> \\<exists>ls'.\n                           compP\\<^sub>1\n                            P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                       (Vs @ [V]) e,\n              (h, ls)\\<rangle> \\<Rightarrow>\n             \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n                           l' \\<subseteq>\\<^sub>m\n                           [Vs @ [V] [\\<mapsto>] ls']) &&&\n     fv {V:T; e} \\<subseteq> set Vs) &&&\n    l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls] &&&\n    length Vs + max_vars {V:T; e} \\<le> length ls", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set (Vs @ [V]);\n   l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls];\n   length (Vs @ [V]) + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (Vs @ [V]) e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\n  fv {V:T; e} \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars {V:T; e} \\<le> length ls\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have len': \"length Vs < length ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Vs < length ls", "using len"], ["proof (prove)\nusing this:\n  length Vs + max_vars {V:T; e} \\<le> length ls\n\ngoal (1 subgoal):\n 1. length Vs < length ls", "by auto"], ["proof (state)\nthis:\n  length Vs < length ls\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have \"fv e \\<subseteq> set ?Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv e \\<subseteq> set (Vs @ [V])", "using fv"], ["proof (prove)\nusing this:\n  fv {V:T; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> set (Vs @ [V])", "by auto"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V])\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "moreover"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V])\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have \"l(V := None) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]", "using rel len'"], ["proof (prove)\nusing this:\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs < length ls\n\ngoal (1 subgoal):\n 1. l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]", "by simp"], ["proof (state)\nthis:\n  l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "moreover"], ["proof (state)\nthis:\n  l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have \"size ?Vs + max_vars e \\<le> size ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (Vs @ [V]) + max_vars e \\<le> length ls", "using len"], ["proof (prove)\nusing this:\n  length Vs + max_vars {V:T; e} \\<le> length ls\n\ngoal (1 subgoal):\n 1. length (Vs @ [V]) + max_vars e \\<le> length ls", "by simp"], ["proof (state)\nthis:\n  length (Vs @ [V]) + max_vars e \\<le> length ls\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  fv e \\<subseteq> set (Vs @ [V])\n  l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]\n  length (Vs @ [V]) + max_vars e \\<le> length ls", "obtain ls' where\n   1: \"compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h',ls')\\<rangle>\"\n   and rel': \"l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\""], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V])\n  l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]\n  length (Vs @ [V]) + max_vars e \\<le> length ls\n\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V])\n             e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>;\n         l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V])\n  l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls]\n  length (Vs @ [V]) + max_vars e \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set (Vs @ [V]);\n   l(V := None) \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls];\n   length (Vs @ [V]) + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (Vs @ [V]) e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V])\n             e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>;\n         l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V]) e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n  l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "have [simp]: \"length ls = length ls'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length ls = length ls'", "by(rule eval\\<^sub>1_preserves_len[OF 1])"], ["proof (state)\nthis:\n  length ls = length ls'\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 40 subgoals...", "show \"\\<exists>ls'. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h',ls')\\<rangle>\n              \\<and> l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\" (is \"\\<exists>ls'. ?R ls'\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h', ls')\\<rangle> \\<and>\n       l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h', ?ls')\\<rangle> \\<and>\n    l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ?ls']", "show \"?R ls'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h', ls')\\<rangle> \\<and>\n    l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n 2. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "show \"compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h',ls')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>", "using 1"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V]) e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>", "by(simp add:Block\\<^sub>1)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "show \"l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "have \"l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]", "using len' rel'"], ["proof (prove)\nusing this:\n  length Vs < length ls\n  l' \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]", "by simp"], ["proof (state)\nthis:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "moreover"], ["proof (state)\nthis:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "{"], ["proof (state)\nthis:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "assume VinVs: \"V \\<in> set Vs\""], ["proof (state)\nthis:\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "hence \"hidden (Vs @ [V]) (last_index Vs V)\""], ["proof (prove)\nusing this:\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. hidden (Vs @ [V]) (last_index Vs V)", "by(rule hidden_last_index)"], ["proof (state)\nthis:\n  hidden (Vs @ [V]) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "hence \"unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)\""], ["proof (prove)\nusing this:\n  hidden (Vs @ [V]) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)", "by(rule hidden_unmod)"], ["proof (state)\nthis:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "moreover"], ["proof (state)\nthis:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "have \"last_index Vs V < length ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. last_index Vs V < length ls", "using len' VinVs"], ["proof (prove)\nusing this:\n  length Vs < length ls\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. last_index Vs V < length ls", "by simp"], ["proof (state)\nthis:\n  last_index Vs V < length ls\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "ultimately"], ["proof (chain)\npicking this:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)\n  last_index Vs V < length ls", "have \"ls ! last_index Vs V = ls' ! last_index Vs V\""], ["proof (prove)\nusing this:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e) (last_index Vs V)\n  last_index Vs V < length ls\n\ngoal (1 subgoal):\n 1. ls ! last_index Vs V = ls' ! last_index Vs V", "by(rule eval\\<^sub>1_preserves_unmod[OF 1])"], ["proof (state)\nthis:\n  ls ! last_index Vs V = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "}"], ["proof (state)\nthis:\n  V \\<in> set Vs \\<Longrightarrow>\n  ls ! last_index Vs V = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "ultimately"], ["proof (chain)\npicking this:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls ! last_index Vs V = ls' ! last_index Vs V", "show ?thesis"], ["proof (prove)\nusing this:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls ! last_index Vs V = ls' ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "using Block_lem[OF rel] len'"], ["proof (prove)\nusing this:\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls', V \\<mapsto> ls' ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls ! last_index Vs V = ls' ! last_index Vs V\n  \\<lbrakk>?l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ?ls', ?V \\<mapsto> ?v];\n   ?V \\<in> set Vs \\<Longrightarrow>\n   ls ! last_index Vs ?V = ?ls' ! last_index Vs ?V;\n   length ls = length ?ls'; length Vs < length ?ls'\\<rbrakk>\n  \\<Longrightarrow> ?l'(?V := l ?V) \\<subseteq>\\<^sub>m\n                    [Vs [\\<mapsto>] ?ls']\n  length Vs < length ls\n\ngoal (1 subgoal):\n 1. l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by auto"], ["proof (state)\nthis:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle> \\<and>\n  l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs {V:T; e},\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h', ls')\\<rangle> \\<and>\n     l'(V := l V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (39 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 39 subgoals...", "next"], ["proof (state)\ngoal (39 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 39 subgoals...", "case (TryThrow e' h l a h' l' D fs C V e\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e',(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h', l')\\<rangle>\n  \\<lbrakk>fv e' \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e' \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e',\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h' a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  fv (try e' catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e' catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (39 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 39 subgoals...", "have \"PROP ?P e' h l (Throw a) h' l' Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e' \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e' \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e',\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                         l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e' \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e' \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (39 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 39 subgoals...", "with TryThrow.prems"], ["proof (chain)\npicking this:\n  fv (try e' catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e' catch(C V) e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e' \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e' \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls' where 1: \"?Post e' h l (Throw a) h' l' Vs ls ls'\""], ["proof (prove)\nusing this:\n  fv (try e' catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e' catch(C V) e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e' \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e' \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n                                 (h, ls)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (Throw a),\n                                 (h', ls')\\<rangle> \\<and>\n        l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Throw a),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (39 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 39 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (try e' catch(C V) e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Throw a),\n                                (h', ls')\\<rangle> \\<and>\n       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "using 1 TryThrow.hyps"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e',\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Throw a),\n                           (h', ls')\\<rangle> \\<and>\n  l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e',(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h', l')\\<rangle>\n  \\<lbrakk>fv e' \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e' \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e',\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h', ls')\\<rangle> \\<and>\n                       l' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h' a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (try e' catch(C V) e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Throw a),\n                                (h', ls')\\<rangle> \\<and>\n       l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:eval\\<^sub>1_evals\\<^sub>1.TryThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (try e' catch(C V) e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Throw a),\n                              (h', ls')\\<rangle> \\<and>\n     l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "next"], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "case (TryCatch e\\<^sub>1 h l a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e' h\\<^sub>2 l\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                   Addr a))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "let ?e = \"try e\\<^sub>1 catch(C V) e\\<^sub>2\""], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have IH\\<^sub>1: \"\\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs; l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n              size Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n          \\<Longrightarrow> \\<exists>ls\\<^sub>1. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,(h,ls)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (Throw a),(h\\<^sub>1,ls\\<^sub>1)\\<rangle> \\<and>\n                    l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\" and\n    fv: \"fv ?e \\<subseteq> set Vs\" and\n    rel: \"l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\" and\n    len: \"length Vs + max_vars ?e \\<le> length ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n       l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n       length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n      \\<Longrightarrow> \\<exists>ls\\<^sub>1.\n                           compP\\<^sub>1\n                            P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                       e\\<^sub>1,\n              (h, ls)\\<rangle> \\<Rightarrow>\n             \\<langle>fin\\<^sub>1 (Throw a),\n              (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                           l\\<^sub>1 \\<subseteq>\\<^sub>m\n                           [Vs [\\<mapsto>] ls\\<^sub>1]) &&&\n     fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs) &&&\n    l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls] &&&\n    length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2)\n    \\<le> length ls", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls\\<^sub>1.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m\n                       [Vs [\\<mapsto>] ls\\<^sub>1]\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have \"fv e\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv e\\<^sub>1 \\<subseteq> set Vs", "using fv"], ["proof (prove)\nusing this:\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv e\\<^sub>1 \\<subseteq> set Vs\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "moreover"], ["proof (state)\nthis:\n  fv e\\<^sub>1 \\<subseteq> set Vs\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have \"length Vs + max_vars e\\<^sub>1 \\<le> length ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Vs + max_vars e\\<^sub>1 \\<le> length ls", "using len"], ["proof (prove)\nusing this:\n  length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. length Vs + max_vars e\\<^sub>1 \\<le> length ls", "by(auto)"], ["proof (state)\nthis:\n  length Vs + max_vars e\\<^sub>1 \\<le> length ls\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  fv e\\<^sub>1 \\<subseteq> set Vs\n  length Vs + max_vars e\\<^sub>1 \\<le> length ls", "obtain ls\\<^sub>1 where\n    1: \"compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>Throw a,(h\\<^sub>1,ls\\<^sub>1)\\<rangle>\"\n    and rel\\<^sub>1: \"l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\""], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set Vs\n  length Vs + max_vars e\\<^sub>1 \\<le> length ls\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>1,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw a,(h\\<^sub>1, ls\\<^sub>1)\\<rangle>;\n         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH\\<^sub>1 rel"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set Vs\n  length Vs + max_vars e\\<^sub>1 \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls\\<^sub>1.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Throw a),\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m\n                       [Vs [\\<mapsto>] ls\\<^sub>1]\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>1,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw a,(h\\<^sub>1, ls\\<^sub>1)\\<rangle>;\n         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw a,(h\\<^sub>1, ls\\<^sub>1)\\<rangle>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "from 1"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw a,(h\\<^sub>1, ls\\<^sub>1)\\<rangle>", "have [simp]: \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw a,(h\\<^sub>1, ls\\<^sub>1)\\<rangle>\n\ngoal (1 subgoal):\n 1. length ls = length ls\\<^sub>1", "by(rule eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  length ls = length ls\\<^sub>1\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "let ?Vs = \"Vs @ [V]\""], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "let ?ls = \"(ls\\<^sub>1[size Vs:=Addr a])\""], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have IH\\<^sub>2: \"\\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs; l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n              length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk> \\<Longrightarrow> \\<exists>ls\\<^sub>2.\n       compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e\\<^sub>2,(h\\<^sub>1,?ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls\\<^sub>2]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n     l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n     [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]];\n     length (Vs @ [V]) + max_vars e\\<^sub>2\n     \\<le> length (ls\\<^sub>1[length Vs := Addr a])\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls\\<^sub>2.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                     (Vs @ [V]) e\\<^sub>2,\n            (h\\<^sub>1, ls\\<^sub>1\n             [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m\n                         [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n   l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n   [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]];\n   length (Vs @ [V]) + max_vars e\\<^sub>2\n   \\<le> length (ls\\<^sub>1[length Vs := Addr a])\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls\\<^sub>2.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (Vs @ [V]) e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1\n           [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m\n                       [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have len\\<^sub>1: \"size Vs < size ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Vs < length ls\\<^sub>1", "using len"], ["proof (prove)\nusing this:\n  length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. length Vs < length ls\\<^sub>1", "by(auto)"], ["proof (state)\nthis:\n  length Vs < length ls\\<^sub>1\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have \"fv e\\<^sub>2 \\<subseteq> set ?Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])", "using fv"], ["proof (prove)\nusing this:\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])", "by auto"], ["proof (state)\nthis:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "moreover"], ["proof (state)\nthis:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have \"l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n    [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]", "using rel\\<^sub>1 len\\<^sub>1"], ["proof (prove)\nusing this:\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length Vs < length ls\\<^sub>1\n\ngoal (1 subgoal):\n 1. l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n    [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]", "by simp"], ["proof (state)\nthis:\n  l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n  [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "moreover"], ["proof (state)\nthis:\n  l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n  [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "have \"length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (Vs @ [V]) + max_vars e\\<^sub>2\n    \\<le> length (ls\\<^sub>1[length Vs := Addr a])", "using len"], ["proof (prove)\nusing this:\n  length Vs + max_vars (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. length (Vs @ [V]) + max_vars e\\<^sub>2\n    \\<le> length (ls\\<^sub>1[length Vs := Addr a])", "by(auto)"], ["proof (state)\nthis:\n  length (Vs @ [V]) + max_vars e\\<^sub>2\n  \\<le> length (ls\\<^sub>1[length Vs := Addr a])\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])\n  l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n  [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]\n  length (Vs @ [V]) + max_vars e\\<^sub>2\n  \\<le> length (ls\\<^sub>1[length Vs := Addr a])", "obtain ls\\<^sub>2 where\n    2: \"compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e\\<^sub>2,(h\\<^sub>1,?ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle>\"\n    and rel\\<^sub>2: \"l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls\\<^sub>2]\""], ["proof (prove)\nusing this:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])\n  l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n  [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]\n  length (Vs @ [V]) + max_vars e\\<^sub>2\n  \\<le> length (ls\\<^sub>1[length Vs := Addr a])\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V])\n             e\\<^sub>2,\n    (h\\<^sub>1, ls\\<^sub>1[length Vs := Addr a])\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle>;\n         l\\<^sub>2 \\<subseteq>\\<^sub>m\n         [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH\\<^sub>2"], ["proof (prove)\nusing this:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V])\n  l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n  [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]]\n  length (Vs @ [V]) + max_vars e\\<^sub>2\n  \\<le> length (ls\\<^sub>1[length Vs := Addr a])\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n   l\\<^sub>1(V \\<mapsto> Addr a) \\<subseteq>\\<^sub>m\n   [Vs @ [V] [\\<mapsto>] ls\\<^sub>1[length Vs := Addr a]];\n   length (Vs @ [V]) + max_vars e\\<^sub>2\n   \\<le> length (ls\\<^sub>1[length Vs := Addr a])\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls\\<^sub>2.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (Vs @ [V]) e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1\n           [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m\n                       [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V])\n             e\\<^sub>2,\n    (h\\<^sub>1, ls\\<^sub>1[length Vs := Addr a])\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls\\<^sub>2)\\<rangle>;\n         l\\<^sub>2 \\<subseteq>\\<^sub>m\n         [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1\n                            [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "from 2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1\n                            [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>", "have [simp]: \"size ls\\<^sub>1 = size ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1\n                            [length Vs := Addr a])\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. length ls\\<^sub>1 = length ls\\<^sub>2", "by(fastforce dest: eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  length ls\\<^sub>1 = length ls\\<^sub>2\n\ngoal (38 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 38 subgoals...", "show \"\\<exists>ls\\<^sub>2. compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs ?e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h\\<^sub>2,ls\\<^sub>2)\\<rangle> \\<and>\n              l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\"  (is \"\\<exists>ls\\<^sub>2. ?R ls\\<^sub>2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ls\\<^sub>2.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n       l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n       [Vs [\\<mapsto>] ls\\<^sub>2]", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ?ls\\<^sub>2)\\<rangle> \\<and>\n    l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ?ls\\<^sub>2]", "show \"?R ls\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n    l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n 2. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "have hp: \"h\\<^sub>1 a = Some (D, fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n\ngoal (2 subgoals):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n 2. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "have \"P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> D \\<preceq>\\<^sup>* C", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (2 subgoals):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n 2. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "hence caught: \"compP\\<^sub>1 P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (prove)\nusing this:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. compP\\<^sub>1 P \\<turnstile> D \\<preceq>\\<^sup>* C", "by simp"], ["proof (state)\nthis:\n  compP\\<^sub>1 P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (2 subgoals):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n 2. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "from TryCatch\\<^sub>1[OF 1 _ caught len\\<^sub>1 2, OF hp]"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>try compE\\<^sub>1 Vs e\\<^sub>1\n                           catch(C length\n                                    Vs) compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>", "show \"compP\\<^sub>1 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs ?e,(h,ls)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e',(h\\<^sub>2,ls\\<^sub>2)\\<rangle>\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>try compE\\<^sub>1 Vs e\\<^sub>1\n                           catch(C length\n                                    Vs) compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n(try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                             (h, ls)\\<rangle> \\<Rightarrow>\n                            \\<langle>fin\\<^sub>1 e',\n                             (h\\<^sub>2, ls\\<^sub>2)\\<rangle>", "by simp"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                                    (try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "show \"l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "have \"l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l\\<^sub>2 \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]", "using len\\<^sub>1 rel\\<^sub>2"], ["proof (prove)\nusing this:\n  length Vs < length ls\\<^sub>1\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs @ [V] [\\<mapsto>] ls\\<^sub>2]\n\ngoal (1 subgoal):\n 1. l\\<^sub>2 \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]", "by simp"], ["proof (state)\nthis:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "moreover"], ["proof (state)\nthis:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "{"], ["proof (state)\nthis:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "assume VinVs: \"V \\<in> set Vs\""], ["proof (state)\nthis:\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "hence \"hidden (Vs @ [V]) (last_index Vs V)\""], ["proof (prove)\nusing this:\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. hidden (Vs @ [V]) (last_index Vs V)", "by(rule hidden_last_index)"], ["proof (state)\nthis:\n  hidden (Vs @ [V]) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "hence \"unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)\""], ["proof (prove)\nusing this:\n  hidden (Vs @ [V]) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)", "by(rule hidden_unmod)"], ["proof (state)\nthis:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "moreover"], ["proof (state)\nthis:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "have \"last_index Vs V < length ?ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. last_index Vs V < length (ls\\<^sub>1[length Vs := Addr a])", "using len\\<^sub>1 VinVs"], ["proof (prove)\nusing this:\n  length Vs < length ls\\<^sub>1\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. last_index Vs V < length (ls\\<^sub>1[length Vs := Addr a])", "by simp"], ["proof (state)\nthis:\n  last_index Vs V < length (ls\\<^sub>1[length Vs := Addr a])\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "ultimately"], ["proof (chain)\npicking this:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)\n  last_index Vs V < length (ls\\<^sub>1[length Vs := Addr a])", "have \"?ls ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\""], ["proof (prove)\nusing this:\n  unmod (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2) (last_index Vs V)\n  last_index Vs V < length (ls\\<^sub>1[length Vs := Addr a])\n\ngoal (1 subgoal):\n 1. ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n    ls\\<^sub>2 ! last_index Vs V", "by(rule eval\\<^sub>1_preserves_unmod[OF 2])"], ["proof (state)\nthis:\n  ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n  ls\\<^sub>2 ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "moreover"], ["proof (state)\nthis:\n  ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n  ls\\<^sub>2 ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "have \"last_index Vs V < size Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. last_index Vs V < length Vs", "using VinVs"], ["proof (prove)\nusing this:\n  V \\<in> set Vs\n\ngoal (1 subgoal):\n 1. last_index Vs V < length Vs", "by simp"], ["proof (state)\nthis:\n  last_index Vs V < length Vs\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "ultimately"], ["proof (chain)\npicking this:\n  ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n  ls\\<^sub>2 ! last_index Vs V\n  last_index Vs V < length Vs", "have \"ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\""], ["proof (prove)\nusing this:\n  ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n  ls\\<^sub>2 ! last_index Vs V\n  last_index Vs V < length Vs\n\ngoal (1 subgoal):\n 1. ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V", "using len\\<^sub>1"], ["proof (prove)\nusing this:\n  ls\\<^sub>1[length Vs := Addr a] ! last_index Vs V =\n  ls\\<^sub>2 ! last_index Vs V\n  last_index Vs V < length Vs\n  length Vs < length ls\\<^sub>1\n\ngoal (1 subgoal):\n 1. ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V", "by(simp del:size_last_index_conv)"], ["proof (state)\nthis:\n  ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "}"], ["proof (state)\nthis:\n  V \\<in> set Vs \\<Longrightarrow>\n  ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "ultimately"], ["proof (chain)\npicking this:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V", "show ?thesis"], ["proof (prove)\nusing this:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "using Block_lem[OF rel\\<^sub>1] len\\<^sub>1"], ["proof (prove)\nusing this:\n  l\\<^sub>2 \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2, V \\<mapsto> ls\\<^sub>2 ! length Vs]\n  V \\<in> set Vs \\<Longrightarrow>\n  ls\\<^sub>1 ! last_index Vs V = ls\\<^sub>2 ! last_index Vs V\n  \\<lbrakk>?l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ?ls', ?V \\<mapsto> ?v];\n   ?V \\<in> set Vs \\<Longrightarrow>\n   ls\\<^sub>1 ! last_index Vs ?V = ?ls' ! last_index Vs ?V;\n   length ls\\<^sub>1 = length ?ls'; length Vs < length ?ls'\\<rbrakk>\n  \\<Longrightarrow> ?l'(?V := l\\<^sub>1 ?V) \\<subseteq>\\<^sub>m\n                    [Vs [\\<mapsto>] ?ls']\n  length Vs < length ls\\<^sub>1\n\ngoal (1 subgoal):\n 1. l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n    [Vs [\\<mapsto>] ls\\<^sub>2]", "by simp"], ["proof (state)\nthis:\n  l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                                    (try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n  [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>ls\\<^sub>2.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (try e\\<^sub>1 catch(C V) e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n     l\\<^sub>2(V := l\\<^sub>1 V) \\<subseteq>\\<^sub>m\n     [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (37 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 37 subgoals...", "next"], ["proof (state)\ngoal (37 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 37 subgoals...", "case Try"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (37 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 37 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Val v\\<^sub>1_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:Try\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Val v\\<^sub>1_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (36 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 36 subgoals...", "next"], ["proof (state)\ngoal (36 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 36 subgoals...", "case Throw"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr aa___),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (36 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 36 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr aa___),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Throw aa___),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:Throw\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Throw aa___),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (35 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 35 subgoals...", "next"], ["proof (state)\ngoal (35 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 35 subgoals...", "case ThrowNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (35 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 35 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:ThrowNull\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (34 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 34 subgoals...", "next"], ["proof (state)\ngoal (34 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 34 subgoals...", "case ThrowThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (34 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 34 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (throw e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (throw e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:ThrowThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (throw e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "next"], ["proof (state)\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "case (CondT e h l h\\<^sub>1 l\\<^sub>1 e\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 e\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "have \"PROP ?P e h l true h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "with CondT.prems"], ["proof (chain)\npicking this:\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l true h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "have \"PROP ?P e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "with 1 CondT.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (33 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 33 subgoals...", "from 1 2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (if (e) e\\<^sub>1 else e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:CondT\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (if (e) e\\<^sub>1 else e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "next"], ["proof (state)\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "case (CondF e h l h\\<^sub>1 l\\<^sub>1 e\\<^sub>2 e' h\\<^sub>2 l\\<^sub>2 e\\<^sub>1 Vs ls)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "have \"PROP ?P e h l false h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "with CondF.prems"], ["proof (chain)\npicking this:\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l false h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 false,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 false,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "have \"PROP ?P e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>2,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "with 1 CondF.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 false,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 false,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e) e\\<^sub>1 else e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (32 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 32 subgoals...", "from 1 2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 false,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 false,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (if (e) e\\<^sub>1 else e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:CondF\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (if (e) e\\<^sub>1 else e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (31 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 31 subgoals...", "next"], ["proof (state)\ngoal (31 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 31 subgoals...", "case CondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<le> length ls\n\ngoal (31 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 31 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (if (e_) e\\<^sub>1_ else e\\<^sub>2_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:CondThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (if (e_) e\\<^sub>1_ else e\\<^sub>2_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "next"], ["proof (state)\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "case (Seq e h l v h\\<^sub>1 l\\<^sub>1 e\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "have \"PROP ?P e h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "with Seq.prems"], ["proof (chain)\npicking this:\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "have \"PROP ?P e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "with 1 Seq.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (30 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 30 subgoals...", "from 1 2 Seq"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e;; e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e;; e\\<^sub>1) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e;; e\\<^sub>1),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:Seq\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e;; e\\<^sub>1),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (29 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 29 subgoals...", "next"], ["proof (state)\ngoal (29 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 29 subgoals...", "case SeqThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>0_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>0_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>0_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>0_;; e\\<^sub>1_) \\<le> length ls\n\ngoal (29 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 29 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>0_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>0_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>0_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>0_;; e\\<^sub>1_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>0_;; e\\<^sub>1_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:SeqThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>0_;; e\\<^sub>1_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (28 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 28 subgoals...", "next"], ["proof (state)\ngoal (28 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 28 subgoals...", "case WhileF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e_) c_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e_) c_) \\<le> length ls\n\ngoal (28 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 28 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 false,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e_) c_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e_) c_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e_) c_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 unit,\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e_) c_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 unit,\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "next"], ["proof (state)\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "case (WhileT e h l h\\<^sub>1 l\\<^sub>1 c v h\\<^sub>2 l\\<^sub>2 e' h\\<^sub>3 l\\<^sub>3)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>c,(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv c \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars c \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs c,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>while (e) c,\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  \\<lbrakk>fv (while (e) c) \\<subseteq> set ?Vs;\n   l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars (while (e) c) \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   (while (e) c),\n          (h\\<^sub>2, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "have \"PROP ?P e h l true h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "with WhileT.prems"], ["proof (chain)\npicking this:\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l true h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "have \"PROP ?P c h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv c \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     c,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "with 1 WhileT.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post c h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\"\n    \"size ls\\<^sub>1 = size ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n    (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n                 l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n         length ls\\<^sub>1 = length ls\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "have \"PROP ?P (While (e) c) h\\<^sub>2 l\\<^sub>2 e' h\\<^sub>3 l\\<^sub>3 Vs ls\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv (while (e) c) \\<subseteq> set Vs;\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n     length Vs + max_vars (while (e) c) \\<le> length ls\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     (while (e) c),\n            (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                         l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv (while (e) c) \\<subseteq> set Vs;\n   l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n   length Vs + max_vars (while (e) c) \\<le> length ls\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   (while (e) c),\n          (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "with 1 2 WhileT.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv (while (e) c) \\<subseteq> set Vs;\n   l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n   length Vs + max_vars (while (e) c) \\<le> length ls\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   (while (e) c),\n          (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>3 where 3: \"?Post (While (e) c) h\\<^sub>2 l\\<^sub>2 e' h\\<^sub>3 l\\<^sub>3 Vs ls\\<^sub>2 ls\\<^sub>3\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv (while (e) c) \\<subseteq> set Vs;\n   l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n   length Vs + max_vars (while (e) c) \\<le> length ls\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   (while (e) c),\n          (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>3.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                                 (h\\<^sub>2,\n                                  ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n        l\\<^sub>3 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>3] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>3]\n\ngoal (27 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 27 subgoals...", "from 1 2 3"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>3]", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>3]\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 e',\n                                (h\\<^sub>3, ls')\\<rangle> \\<and>\n       l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:WhileT\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h\\<^sub>3, ls')\\<rangle> \\<and>\n     l\\<^sub>3 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "next"], ["proof (state)\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "case (WhileBodyThrow e h l h\\<^sub>1 l\\<^sub>1 c e' h\\<^sub>2 l\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>c,(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv c \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars c \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs c,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "have \"PROP ?P e h l true h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "with WhileBodyThrow.prems"], ["proof (chain)\npicking this:\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l true h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 true,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "have \"PROP ?P c h\\<^sub>1 l\\<^sub>1 (throw e') h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv c \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     c,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (throw e'),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "with 1 WhileBodyThrow.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post c h\\<^sub>1 l\\<^sub>1 (throw e') h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (while (e) c) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e) c) \\<le> length ls\n  \\<lbrakk>fv c \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars c \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (throw e'),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (26 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 26 subgoals...", "from 1 2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 true,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs c,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:WhileBodyThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e) c),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (25 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 25 subgoals...", "next"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 25 subgoals...", "case WhileCondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e_) c_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e_) c_) \\<le> length ls\n\ngoal (25 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (while (e_) c_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (while (e_) c_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e_) c_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:WhileCondThrow\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (while (e_) c_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (24 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 24 subgoals...", "case New"], ["proof (state)\nthis:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  fv (new C_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (new C_) \\<le> length ls\n\ngoal (24 subgoals):\n 1. \\<And>h a C FDTs h' l Vs ls.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr a),(h', ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                    (aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs +\n         max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  fv (new C_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (new C_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (new C_),\n                                (h_, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (addr a_),\n                                (h'_, ls')\\<rangle> \\<and>\n       l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (new C_),\n                              (h_, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (addr a_),\n                              (h'_, ls')\\<rangle> \\<and>\n     l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (23 subgoals):\n 1. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>l V v h Vs ls.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n         l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (Var V),\n                (h, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>l V v h Vs ls.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n         l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (Var V),\n                (h, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 23 subgoals...", "case NewFail"], ["proof (state)\nthis:\n  new_Addr h_ = None\n  fv (new C_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (new C_) \\<le> length ls\n\ngoal (23 subgoals):\n 1. \\<And>h C l Vs ls.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (new C) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (new C),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>l V v h Vs ls.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n         l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (Var V),\n                (h, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 23 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = None\n  fv (new C_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (new C_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (new C_),\n                                (h_, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n                                (h_, ls')\\<rangle> \\<and>\n       l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (new C_),\n                              (h_, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW OutOfMemory),\n                              (h_, ls')\\<rangle> \\<and>\n     l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (22 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v h l l' V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                             l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v h l l' V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                             l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 22 subgoals...", "case Cast"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (22 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v h l l' V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                             l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 22 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (addr a_),\n                                (h_, ls')\\<rangle> \\<and>\n       l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (addr a_),\n                              (h_, ls')\\<rangle> \\<and>\n     l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (21 subgoals):\n 1. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 21 subgoals...", "case CastNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (21 subgoals):\n 1. \\<And>e a b aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba V Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (V:=e) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (V:=e),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 21 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 null,\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 null,\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (20 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa h l C fs F D v Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa h l C fs F D v Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 20 subgoals...", "case CastThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (20 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa h l C fs F D v Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                 l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                             l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 20 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (Cast C_ e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C_ e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C_ e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (19 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 19 subgoals...", "case (CastFail e h l a h\\<^sub>1 l\\<^sub>1 D fs C)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  fv (Cast C e) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C e) \\<le> length ls\n\ngoal (19 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 19 subgoals...", "have \"PROP ?P e h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (19 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 19 subgoals...", "with CastFail.prems"], ["proof (chain)\npicking this:\n  fv (Cast C e) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C e) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (Cast C e) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Cast C e) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                                 (h, ls)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (addr a),\n                                 (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n        l\\<^sub>1 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>1] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n\ngoal (19 subgoals):\n 1. \\<And>e a b aa h l D fs C Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Cast C e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Cast C e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW ClassCast),\n               (h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 19 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C e),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW ClassCast),\n                                (h\\<^sub>1, ls')\\<rangle> \\<and>\n       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "using 1 CastFail.hyps"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C e),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW ClassCast),\n                                (h\\<^sub>1, ls')\\<rangle> \\<and>\n       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:CastFail\\<^sub>1[where D=D])"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Cast C e),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW ClassCast),\n                              (h\\<^sub>1, ls')\\<rangle> \\<and>\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (18 subgoals):\n 1. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 18 subgoals...", "case Val"], ["proof (state)\nthis:\n  fv (Val v_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Val v_) \\<le> length ls\n\ngoal (18 subgoals):\n 1. \\<And>v a b Vs ls.\n       \\<lbrakk>fv (Val v) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Val v) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Val v),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(a, ls')\\<rangle> \\<and>\n                            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>F{D}),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 18 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  fv (Val v_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Val v_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Val v_),\n                                (a_, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Val v_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Val v_),\n                              (a_, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Val v_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "case (BinOp e h l v\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e\\<^sub>1 v\\<^sub>2 h\\<^sub>2 l\\<^sub>2 bop v)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "have \"PROP ?P e h l (Val v\\<^sub>1) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n            (h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "with BinOp.prems"], ["proof (chain)\npicking this:\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l (Val v\\<^sub>1) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n    (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "have \"PROP ?P e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 (Val v\\<^sub>2) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n            (h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "with 1 BinOp.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 (Val v\\<^sub>2) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v Vs\n       ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (ab, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']\nA total of 17 subgoals...", "from 1 2 BinOp"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>2),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\n  fv (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Val v),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:BinOp\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Val v),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "case (BinOpThrow2 e\\<^sub>0 h l v\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e\\<^sub>1 e h\\<^sub>2 l\\<^sub>2 bop)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>0 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>0,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "have \"PROP ?P e\\<^sub>0 h l (Val v\\<^sub>1) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e\\<^sub>0 \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>0,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n            (h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>0 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>0,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "with BinOpThrow2.prems"], ["proof (chain)\npicking this:\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>0 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>0,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e\\<^sub>0 h l (Val v\\<^sub>1) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>0 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>0,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>0,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n    (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>0,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "have \"PROP ?P e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 (throw e) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "with 1 BinOpThrow2.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>0,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 (throw e) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>0,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (throw e),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (16 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                   (aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 16 subgoals...", "from 1 2 BinOpThrow2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>0,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>0,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>0 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>0,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>0,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>0,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>0 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>0 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>0,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v\\<^sub>1),\n          (h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1)\n  \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:BinOpThrow\\<^sub>2\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>0 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>1),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (15 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 15 subgoals...", "case BinOpThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (15 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs +\n        max_vars (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs +\n  max_vars (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro!:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (14 subgoals):\n 1. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 14 subgoals...", "case Var"], ["proof (state)\nthis:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n  fv (Var V_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Var V_) \\<le> length ls\n\ngoal (14 subgoals):\n 1. \\<And>l V v h Vs ls.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> set Vs;\n        l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (Var V) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (Var V),\n               (h, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>1,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e\\<^sub>2,\n                    (aa, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n         \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n  fv (Var V_) \\<subseteq> set Vs\n  l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (Var V_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Var V_),\n                                (h_, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Val v_),\n                                (h_, ls')\\<rangle> \\<and>\n       l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(force intro!:Var\\<^sub>1 simp add: map_le_def fun_upds_apply)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (Var V_),\n                              (h_, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Val v_),\n                              (h_, ls')\\<rangle> \\<and>\n     l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (13 subgoals):\n 1. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba M ps Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba M ps Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 13 subgoals...", "case LAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a_, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  l'_ = l_(V_ \\<mapsto> v_)\n  fv (V_:=e_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (V_:=e_) \\<le> length ls\n\ngoal (13 subgoals):\n 1. \\<And>e a b v h l l' V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h, ls')\\<rangle> \\<and>\n                            l' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b e' aa ba M ps Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a_, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  l'_ = l_(V_ \\<mapsto> v_)\n  fv (V_:=e_) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (V_:=e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (V_:=e_),\n                                (a_, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 unit,\n                                (h_, ls')\\<rangle> \\<and>\n       l'_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce simp add: LAss_lem intro:eval\\<^sub>1_evals\\<^sub>1.intros\n                dest:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (V_:=e_),\n                              (a_, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 unit,\n                              (h_, ls')\\<rangle> \\<and>\n     l'_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (12 subgoals):\n 1. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs es \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss es \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs es,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(es)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs es \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss es \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs es,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(es)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 12 subgoals...", "case LAssThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (V_:=e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (V_:=e_) \\<le> length ls\n\ngoal (12 subgoals):\n 1. \\<And>e a b e' aa ba V Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (V:=e) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (V:=e) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (V:=e),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs es \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss es \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs es,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(es)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (V_:=e_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (V_:=e_) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (V_:=e_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (V_:=e_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (11 subgoals):\n 1. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 11 subgoals...", "case FAcc"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (11 subgoals):\n 1. \\<And>e a b aa h l C fs F D v Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(h, ls')\\<rangle> \\<and>\n                                l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (Val v),(h, ls')\\<rangle> \\<and>\n                            l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (aa, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (ab, ls')\\<rangle> \\<and>\n                                 bb \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                (ab, ls')\\<rangle> \\<and>\n                             bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a_),(h_, ls')\\<rangle> \\<and>\n                       l_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e_\\<bullet>F_{D_}),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (Val v_),\n                                (h_, ls')\\<rangle> \\<and>\n       l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e_\\<bullet>F_{D_}),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (Val v_),\n                              (h_, ls')\\<rangle> \\<and>\n     l_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (ab, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv body \\<subseteq> set Vs;\n             l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars body \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs body,\n                    (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                 l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (ab, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv body \\<subseteq> set Vs;\n             l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars body \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs body,\n                    (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                 l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']", "case FAccNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv e \\<subseteq> set Vs;\n             b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars e \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs e,\n                    (a, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                 ba \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fvs ps \\<subseteq> set Vs;\n             ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                             Vs ps,\n                    (ab, ls)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                    (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                 l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>Vs ls.\n            \\<lbrakk>fv body \\<subseteq> set Vs;\n             l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n             length Vs + max_vars body \\<le> length ls\\<rbrakk>\n            \\<Longrightarrow> \\<exists>ls'.\n                                 compP\\<^sub>1\n                                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                             Vs body,\n                    (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                   \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                 l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                 [Vs [\\<mapsto>] ls'];\n         fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n         b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n         length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n        \\<Longrightarrow> \\<exists>ls'.\n                             compP\\<^sub>1\n                              P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                         Vs (e\\<bullet>M(ps)),\n                (a, ls)\\<rangle> \\<Rightarrow>\n               \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                             l\\<^sub>2 \\<subseteq>\\<^sub>m\n                             [Vs [\\<mapsto>] ls']", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e_\\<bullet>F_{D_}),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e_\\<bullet>F_{D_}),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (9 subgoals):\n 1. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case FAccThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (9 subgoals):\n 1. \\<And>e a b e' aa ba F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>F{D}) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>F{D}) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>F{D}),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>F_{D_}) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e_\\<bullet>F_{D_}),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e_\\<bullet>F_{D_}),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (FAss e\\<^sub>1 h l a h\\<^sub>1 l\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F D h\\<^sub>2')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  fs' = fs((F, D) \\<mapsto> v)\n  h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>1 h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with FAss.prems"], ["proof (chain)\npicking this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e\\<^sub>1 h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>1,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>2,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 FAss.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (Val v),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (8 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (ab, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 unit,(h\\<^sub>2', ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 FAss"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  fs' = fs((F, D) \\<mapsto> v)\n  h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  fs' = fs((F, D) \\<mapsto> v)\n  h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 unit,\n                                (h\\<^sub>2', ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:FAss\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 unit,\n                              (h\\<^sub>2', ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (FAssNull e\\<^sub>1 h l h\\<^sub>1 l\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 F D)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>1 h l null h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with FAssNull.prems"], ["proof (chain)\npicking this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e\\<^sub>1 h l null h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>1,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>2,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 FAssNull.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (Val v) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (Val v),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (7 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 FAssNull"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:FAssNull\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case FAssThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_)\n  \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (FAssThrow2 e\\<^sub>1 h l v h\\<^sub>1 l\\<^sub>1 e\\<^sub>2 e h\\<^sub>2 l\\<^sub>2 F D)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>1 h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>1,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with FAssThrow2.prems"], ["proof (chain)\npicking this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e\\<^sub>1 h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>1,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n             e\\<^sub>1,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (throw e) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e\\<^sub>2,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 FAssThrow2.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Post e\\<^sub>2 h\\<^sub>1 l\\<^sub>1 (throw e) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 (throw e),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>1 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>1,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e\\<^sub>2 \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e\\<^sub>2,\n                   (aa, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n        \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 FAssThrow2"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>1,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e\\<^sub>2,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (throw e),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e\\<^sub>1,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>1 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>1,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e\\<^sub>2 \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e\\<^sub>2,\n          (h\\<^sub>1, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e),(h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(auto intro!:FAssThrow\\<^sub>2\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (CallNull e h l h\\<^sub>1 l\\<^sub>1 es vs h\\<^sub>2 l\\<^sub>2 M)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e h l null h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with CallNull.prems"], ["proof (chain)\npicking this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l null h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?Ps es h\\<^sub>1 l\\<^sub>1 (map Val vs) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fvs es \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                     es,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n           \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n            (h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 CallNull.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Posts es h\\<^sub>1 l\\<^sub>1 (map Val vs) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                                \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (4 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ba ps vs ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 null,(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (THROW NullPointer),\n               (ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 CallNull"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 null,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 null,(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by (auto simp add: comp_def elim!: CallNull\\<^sub>1)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (THROW NullPointer),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (3 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case CallObjThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>M_(ps_)) \\<le> length ls\n\ngoal (3 subgoals):\n 1. \\<And>e a b e' aa ba M ps Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw e'),(aa, ls')\\<rangle> \\<and>\n                            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  \\<lbrakk>fv e_ \\<subseteq> set ?Vs;\n   b___ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e_ \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   e_,\n          (a___, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (throw e'_),(a_, ls')\\<rangle> \\<and>\n                       b_ \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> set Vs\n  b___ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e_\\<bullet>M_(ps_)) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n   (e_\\<bullet>M_(ps_)),\n                                (a___, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw e'_),\n                                (a_, ls')\\<rangle> \\<and>\n       b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce intro:eval\\<^sub>1_evals\\<^sub>1.intros)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e_\\<bullet>M_(ps_)),\n                              (a___, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw e'_),\n                              (a_, ls')\\<rangle> \\<and>\n     b_ \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (CallParamsThrow e h l v h\\<^sub>1 l\\<^sub>1 es vs ex es' h\\<^sub>2 l\\<^sub>2 M)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ throw ex # es',\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with CallParamsThrow.prems"], ["proof (chain)\npicking this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l (Val v) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?Ps es h\\<^sub>1 l\\<^sub>1 (map Val vs @ throw ex # es') h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fvs es \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                     es,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n           \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n            (h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 CallParamsThrow.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Posts es h\\<^sub>1 l\\<^sub>1 (map Val vs @ throw ex # es') h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                                 (h\\<^sub>1,\n                                  ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                                \\<langle>compEs\\<^sub>1 Vs\n    (map Val vs @ throw ex # es'),\n                                 (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n        l\\<^sub>2 \\<subseteq>\\<^sub>m\n        [Vs [\\<mapsto>] ls\\<^sub>2] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs\n                                    (map Val vs @ throw ex # es'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (Val v),(aa, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs es \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss es \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs es,\n                   (aa, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs @ throw ex # es'),\n                   (ab, ls')\\<rangle> \\<and>\n                                bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(es)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(es)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 (throw ex),(ab, ls')\\<rangle> \\<and>\n                            bb \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 CallParamsThrow"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs\n                                    (map Val vs @ throw ex # es'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ throw ex # es',\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (Val v),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs\n                                    (map Val vs @ throw ex # es'),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (Val v),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ throw ex # es',\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs @ throw ex # es'),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 (throw ex),\n                                (h\\<^sub>2, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by (auto simp add: comp_def\n             elim!: CallParamsThrow\\<^sub>1 dest!:evals_final)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 (throw ex),\n                              (h\\<^sub>2, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "case (Call e h l a h\\<^sub>1 l\\<^sub>1 es vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D l\\<^sub>2' b' h\\<^sub>3 l\\<^sub>3)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  \\<lbrakk>fv e \\<subseteq> set ?Vs;\n   l \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars e \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs e,\n          (h, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  P \\<turnstile> \\<langle>es,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  \\<lbrakk>fvs es \\<subseteq> set ?Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_varss es \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 ?Vs\n                   es,\n          (h\\<^sub>1, ?ls)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 ?Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>b',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  \\<lbrakk>fv body \\<subseteq> set ?Vs;\n   l\\<^sub>2' \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ?ls];\n   length ?Vs + max_vars body \\<le> length ?ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 ?Vs\n                   body,\n          (h\\<^sub>2, ?ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 b',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m [?Vs [\\<mapsto>] ls']\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P e h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv e \\<subseteq> set Vs;\n     l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n     length Vs + max_vars e \\<le> length ls\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs\n                     e,\n            (h, ls)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                         l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with Call.prems"], ["proof (chain)\npicking this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>1 where 1: \"?Post e h l (addr a) h\\<^sub>1 l\\<^sub>1 Vs ls ls\\<^sub>1\"\n    \"size ls = size ls\\<^sub>1\""], ["proof (prove)\nusing this:\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv e \\<subseteq> set Vs;\n   l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n   length Vs + max_vars e \\<le> length ls\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n          (h, ls)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls')\\<rangle> \\<and>\n                       l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>1.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n    (h, ls)\\<rangle> \\<Rightarrow>\n   \\<langle>fin\\<^sub>1 (addr a),(h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n                 l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n         length ls = length ls\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:eval\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?Ps es h\\<^sub>1 l\\<^sub>1 (map Val vs) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fvs es \\<subseteq> set Vs;\n     l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n     length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                     es,\n            (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n           \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n            (h\\<^sub>2, ls')\\<rangle> \\<and>\n                         l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 Call.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "obtain ls\\<^sub>2 where 2: \"?Posts es h\\<^sub>1 l\\<^sub>1 (map Val vs) h\\<^sub>2 l\\<^sub>2 Vs ls\\<^sub>1 ls\\<^sub>2\"\n    \"size ls\\<^sub>1 = size ls\\<^sub>2\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fvs es \\<subseteq> set Vs;\n   l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1];\n   length Vs + max_varss es \\<le> length ls\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs\n                   es,\n          (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n         \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n          (h\\<^sub>2, ls')\\<rangle> \\<and>\n                       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>2.\n        \\<lbrakk>compP\\<^sub>1\n                  P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n    (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n   \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n    (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n                 l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2];\n         length ls\\<^sub>1 = length ls\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro!:evals\\<^sub>1_preserves_len)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "let ?Vs = \"this#pns\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "let ?ls = \"Addr a # vs @ replicate (max_vars body) undefined\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have mdecl: \"P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have fv_body: \"fv body \\<subseteq> set ?Vs\" and wf_size: \"size Ts = size pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv body \\<subseteq> set (this # pns) &&& length Ts = length pns", "using wf mdecl"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n\ngoal (1 subgoal):\n 1. fv body \\<subseteq> set (this # pns) &&& length Ts = length pns", "by(auto dest!:sees_wf_mdecl simp:wf_mdecl_def)"], ["proof (state)\nthis:\n  fv body \\<subseteq> set (this # pns)\n  length Ts = length pns\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have mdecl\\<^sub>1: \"compP\\<^sub>1 P \\<turnstile> C sees M: Ts\\<rightarrow>T = (compE\\<^sub>1 ?Vs body) in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n            body in D", "using sees_method_compP[OF mdecl, of \"\\<lambda>(pns,e). compE\\<^sub>1 (this#pns) e\"]"], ["proof (prove)\nusing this:\n  compP (\\<lambda>(pns, e). compE\\<^sub>1 (this # pns) e)\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = (case (pns, body) of\n          (pns, e) \\<Rightarrow> compE\\<^sub>1 (this # pns) e) in D\n\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n            body in D", "by(simp)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in D\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have [simp]: \"l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]", "by fact"], ["proof (state)\nthis:\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have Call_size: \"size vs = size pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length vs = length pns", "by fact"], ["proof (state)\nthis:\n  length vs = length pns\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have \"PROP ?P body h\\<^sub>2 l\\<^sub>2' b' h\\<^sub>3 l\\<^sub>3 ?Vs ?ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>fv body \\<subseteq> set (this # pns);\n     l\\<^sub>2' \\<subseteq>\\<^sub>m\n     [this # pns [\\<mapsto>]\n      Addr a # vs @ replicate (max_vars body) undefined];\n     length (this # pns) + max_vars body\n     \\<le> length\n            (Addr a # vs @ replicate (max_vars body) undefined)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ls'.\n                         compP\\<^sub>1\n                          P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                     (this # pns) body,\n            (h\\<^sub>2,\n             Addr a #\n             vs @\n             replicate (max_vars body) undefined)\\<rangle> \\<Rightarrow>\n           \\<langle>fin\\<^sub>1 b',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                         l\\<^sub>3 \\<subseteq>\\<^sub>m\n                         [this # pns [\\<mapsto>] ls']", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>fv body \\<subseteq> set (this # pns);\n   l\\<^sub>2' \\<subseteq>\\<^sub>m\n   [this # pns [\\<mapsto>]\n    Addr a # vs @ replicate (max_vars body) undefined];\n   length (this # pns) + max_vars body\n   \\<le> length (Addr a # vs @ replicate (max_vars body) undefined)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (this # pns) body,\n          (h\\<^sub>2,\n           Addr a #\n           vs @ replicate (max_vars body) undefined)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 b',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m\n                       [this # pns [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "with 1 2 fv_body Call_size Call.prems"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  fv body \\<subseteq> set (this # pns)\n  length vs = length pns\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv body \\<subseteq> set (this # pns);\n   l\\<^sub>2' \\<subseteq>\\<^sub>m\n   [this # pns [\\<mapsto>]\n    Addr a # vs @ replicate (max_vars body) undefined];\n   length (this # pns) + max_vars body\n   \\<le> length (Addr a # vs @ replicate (max_vars body) undefined)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (this # pns) body,\n          (h\\<^sub>2,\n           Addr a #\n           vs @ replicate (max_vars body) undefined)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 b',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m\n                       [this # pns [\\<mapsto>] ls']", "obtain ls\\<^sub>3 where 3: \"?Post body h\\<^sub>2 l\\<^sub>2' b' h\\<^sub>3 l\\<^sub>3 ?Vs ?ls ls\\<^sub>3\""], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  fv body \\<subseteq> set (this # pns)\n  length vs = length pns\n  fv (e\\<bullet>M(es)) \\<subseteq> set Vs\n  l \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls]\n  length Vs + max_vars (e\\<bullet>M(es)) \\<le> length ls\n  \\<lbrakk>fv body \\<subseteq> set (this # pns);\n   l\\<^sub>2' \\<subseteq>\\<^sub>m\n   [this # pns [\\<mapsto>]\n    Addr a # vs @ replicate (max_vars body) undefined];\n   length (this # pns) + max_vars body\n   \\<le> length (Addr a # vs @ replicate (max_vars body) undefined)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ls'.\n                       compP\\<^sub>1\n                        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                   (this # pns) body,\n          (h\\<^sub>2,\n           Addr a #\n           vs @ replicate (max_vars body) undefined)\\<rangle> \\<Rightarrow>\n         \\<langle>fin\\<^sub>1 b',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                       l\\<^sub>3 \\<subseteq>\\<^sub>m\n                       [this # pns [\\<mapsto>] ls']\n\ngoal (1 subgoal):\n 1. (\\<And>ls\\<^sub>3.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                                 (h\\<^sub>2,\n                                  Addr a #\n                                  vs @\n                                  replicate (max_vars body)\n                                   undefined)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 b',\n                                 (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n        l\\<^sub>3 \\<subseteq>\\<^sub>m\n        [this # pns [\\<mapsto>] ls\\<^sub>3] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h\\<^sub>2,\n                            Addr a #\n                            vs @\n                            replicate (max_vars body)\n                             undefined)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 b',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [this # pns [\\<mapsto>] ls\\<^sub>3]\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "have hp: \"h\\<^sub>2 a = Some (C, fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 Vs ls.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv e \\<subseteq> set Vs;\n            b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars e \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs e,\n                   (a, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 (addr aa),(ab, ls')\\<rangle> \\<and>\n                                ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls'];\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fvs ps \\<subseteq> set Vs;\n            ba \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_varss ps \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1\n                            Vs ps,\n                   (ab, ls)\\<rangle> [\\<Rightarrow>]\n                  \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                   (h\\<^sub>2, ls')\\<rangle> \\<and>\n                                l\\<^sub>2 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>Vs ls.\n           \\<lbrakk>fv body \\<subseteq> set Vs;\n            l\\<^sub>2' \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n            length Vs + max_vars body \\<le> length ls\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ls'.\n                                compP\\<^sub>1\n                                 P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                            Vs body,\n                   (h\\<^sub>2, ls)\\<rangle> \\<Rightarrow>\n                  \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                                l\\<^sub>3 \\<subseteq>\\<^sub>m\n                                [Vs [\\<mapsto>] ls'];\n        fv (e\\<bullet>M(ps)) \\<subseteq> set Vs;\n        b \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls];\n        length Vs + max_vars (e\\<bullet>M(ps)) \\<le> length ls\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ls'.\n                            compP\\<^sub>1\n                             P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1\n                        Vs (e\\<bullet>M(ps)),\n               (a, ls)\\<rangle> \\<Rightarrow>\n              \\<langle>fin\\<^sub>1 e',(h\\<^sub>3, ls')\\<rangle> \\<and>\n                            l\\<^sub>2 \\<subseteq>\\<^sub>m\n                            [Vs [\\<mapsto>] ls']", "from 1 2 3 hp mdecl\\<^sub>1 wf_size Call_size"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h\\<^sub>2,\n                            Addr a #\n                            vs @\n                            replicate (max_vars body)\n                             undefined)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 b',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [this # pns [\\<mapsto>] ls\\<^sub>3]\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in D\n  length Ts = length pns\n  length vs = length pns", "show ?case"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs e,\n                           (h, ls)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 (addr a),\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> \\<and>\n  l\\<^sub>1 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>1]\n  length ls = length ls\\<^sub>1\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compEs\\<^sub>1 Vs es,\n                           (h\\<^sub>1, ls\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>compEs\\<^sub>1 Vs (map Val vs),\n                           (h\\<^sub>2, ls\\<^sub>2)\\<rangle> \\<and>\n  l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls\\<^sub>2]\n  length ls\\<^sub>1 = length ls\\<^sub>2\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h\\<^sub>2,\n                            Addr a #\n                            vs @\n                            replicate (max_vars body)\n                             undefined)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 b',\n                           (h\\<^sub>3, ls\\<^sub>3)\\<rangle> \\<and>\n  l\\<^sub>3 \\<subseteq>\\<^sub>m [this # pns [\\<mapsto>] ls\\<^sub>3]\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in D\n  length Ts = length pns\n  length vs = length pns\n\ngoal (1 subgoal):\n 1. \\<exists>ls'.\n       compP\\<^sub>1\n        P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                                (h, ls)\\<rangle> \\<Rightarrow>\n                               \\<langle>fin\\<^sub>1 b',\n                                (h\\<^sub>3, ls')\\<rangle> \\<and>\n       l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']", "by(fastforce simp add: comp_def\n                intro!: Call\\<^sub>1 dest!:evals_final)"], ["proof (state)\nthis:\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 Vs (e\\<bullet>M(es)),\n                              (h, ls)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 b',\n                              (h\\<^sub>3, ls')\\<rangle> \\<and>\n     l\\<^sub>2 \\<subseteq>\\<^sub>m [Vs [\\<mapsto>] ls']\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "subsection\\<open>Preservation of well-formedness\\<close>"], ["", "text\\<open>The compiler preserves well-formedness. Is less trivial than it\nmay appear. We start with two simple properties: preservation of\nwell-typedness\\<close>"], ["", "lemma compE\\<^sub>1_pres_wt: \"\\<And>Vs Ts U.\n  \\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> e :: U; size Ts = size Vs \\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1 compE\\<^sub>1 Vs e :: U\"\nand  \"\\<And>Vs Ts Us.\n  \\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> es [::] Us; size Ts = size Vs \\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1 compEs\\<^sub>1 Vs es [::] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs Ts U.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs e :: U) &&&\n    (\\<And>Vs Ts Us.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> es [::] Us;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compEs\\<^sub>1 Vs es [::] Us)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs Ts U.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs e :: U) &&&\n    (\\<And>Vs Ts Us.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> es [::] Us;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compEs\\<^sub>1 Vs es [::] Us)", "apply(induct e and es rule: compE\\<^sub>1.induct compEs\\<^sub>1.induct)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (new x) :: U\n 2. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast x1 x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Cast x1 x2) :: U\n 3. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Val x) :: U\n 4. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> x1 \\<guillemotleft>x2\\<guillemotright> x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) :: U\n 5. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Var x) :: U\n 6. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 7. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 8. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 9. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 10. \\<And>x1 x2 x3 Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x3 :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs {x1:x2; x3} :: U\nA total of 17 subgoals...", "apply clarsimp"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast x1 x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Cast x1 x2) :: U\n 2. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Val x) :: U\n 3. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> x1 \\<guillemotleft>x2\\<guillemotright> x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) :: U\n 4. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Var x) :: U\n 5. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 6. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 7. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 8. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 9. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 10. \\<And>x1 x2 Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x1 :: U;\n         \\<And>Vs Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compE\\<^sub>1 Vs x2 :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs (x1;; x2) :: U\nA total of 16 subgoals...", "apply(fastforce)"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Val x) :: U\n 2. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> x1 \\<guillemotleft>x2\\<guillemotright> x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) :: U\n 3. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Var x) :: U\n 4. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 5. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 6. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 7. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 8. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 9. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 10. \\<And>x1 x2 x3 Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x1 :: U;\n         \\<And>Vs Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compE\\<^sub>1 Vs x2 :: U;\n         \\<And>Vs Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compE\\<^sub>1 Vs x3 :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\nA total of 15 subgoals...", "apply clarsimp"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> x1 \\<guillemotleft>x2\\<guillemotright> x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) :: U\n 2. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Var x) :: U\n 3. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 4. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 5. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 6. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 7. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 8. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 9. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 10. \\<And>x1 x2 Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x1 :: U;\n         \\<And>Vs Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compE\\<^sub>1 Vs x2 :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs (while (x1) x2) :: U\nA total of 14 subgoals...", "apply(fastforce split:bop.splits)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>x Vs Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (Var x) :: U\n 2. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 3. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 4. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 5. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 6. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 7. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 8. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 9. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 10. \\<And>x Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs (throw x) :: U\nA total of 13 subgoals...", "apply (fastforce simp:map_upds_apply_eq_Some split:if_split_asm)"], ["proof (prove)\ngoal (12 subgoals):\n 1. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1:=x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1:=x2) :: U\n 2. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 3. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 4. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 5. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 6. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 7. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 8. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 9. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 10. \\<And>x1 x2 x3 x4 Vs Ts U.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x1 :: U;\n         \\<And>Vs Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compE\\<^sub>1 Vs x4 :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\nA total of 12 subgoals...", "apply (fastforce simp:map_upds_apply_eq_Some split:if_split_asm)"], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}) :: U\n 2. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 3. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 4. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 5. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 6. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 7. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 8. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 9. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 10. \\<And>Vs Ts Us.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compEs\\<^sub>1 Vs [] [::] Us\nA total of 11 subgoals...", "apply (fastforce)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2{x3} := x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4) :: U\n 2. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 3. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 4. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 5. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 6. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 7. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 8. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 9. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 10. \\<And>x1 x2 Vs Ts Us.\n        \\<lbrakk>\\<And>Vs Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\ncompE\\<^sub>1 Vs x1 :: U;\n         \\<And>Vs Ts Us.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                              compEs\\<^sub>1 Vs x2 [::] Us;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                          compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x3 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1\\<bullet>x2(x3) :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)) :: U\n 2. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 3. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 4. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 5. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 6. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 7. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 8. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 9. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce dest!: sees_method_compP[where f = f])"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> {x1:x2; x3} :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs {x1:x2; x3} :: U\n 2. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 3. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 4. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 5. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 6. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 7. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 8. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce simp:nth_append)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1;; x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (x1;; x2) :: U\n 2. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 3. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 4. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 5. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 6. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 7. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>x1 x2 x3 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x3 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x3 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> if (x1) x2 else x3 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (if (x1) x2 else x3) :: U\n 2. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 3. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 4. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 5. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 6. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x1 x2 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x2 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> while (x1) x2 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (while (x1) x2) :: U\n 2. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 3. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 4. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 5. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> throw x :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (throw x) :: U\n 2. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 3. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 4. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 x3 x4 Vs Ts U.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x4 :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 Vs x4 :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> try x1 catch(x2 x3) x4 :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compE\\<^sub>1 Vs (try x1 catch(x2 x3) x4) :: U\n 2. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 3. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce simp:nth_append)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>Vs Ts Us.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> [] [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs [] [::] Us\n 2. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x2 Vs Ts Us.\n       \\<lbrakk>\\<And>Vs Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                                     compE\\<^sub>1 Vs x1 :: U;\n        \\<And>Vs Ts Us.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> x2 [::] Us;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                             compEs\\<^sub>1 Vs x2 [::] Us;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> x1 # x2 [::] Us;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>\\<^sub>1\n                         compEs\\<^sub>1 Vs (x1 # x2) [::] Us", "apply (fastforce)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "text\\<open>\\noindent and the correct block numbering:\\<close>"], ["", "lemma \\<B>: \"\\<And>Vs n. size Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs e) n\"\nand \\<B>s: \"\\<And>Vs n. size Vs = n \\<Longrightarrow> \\<B>s (compEs\\<^sub>1 Vs es) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs n.\n        length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs e) n) &&&\n    (\\<And>Vs n.\n        length Vs = n \\<Longrightarrow> \\<B>s (compEs\\<^sub>1 Vs es) n)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs n.\n        length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs e) n) &&&\n    (\\<And>Vs n.\n        length Vs = n \\<Longrightarrow> \\<B>s (compEs\\<^sub>1 Vs es) n)", "apply (induction e and es rule: \\<B>.induct \\<B>s.induct)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>x Vs n.\n       length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (new x)) n\n 2. \\<And>x1 x2 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x2) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (Cast x1 x2)) n\n 3. \\<And>x Vs n.\n       length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (Val x)) n\n 4. \\<And>x1 x2 x3 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x1) n;\n        \\<And>Vs n.\n           length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs x3) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          n\n 5. \\<And>x Vs n.\n       length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (Var x)) n\n 6. \\<And>x1 x2 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x2) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (x1:=x2)) n\n 7. \\<And>x1 x2 x3 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x1) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) n\n 8. \\<And>x1 x2 x3 x4 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x1) n;\n        \\<And>Vs n.\n           length Vs = n \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs x4) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) n\n 9. \\<And>x1 x2 x3 Vs n.\n       \\<lbrakk>\\<And>Vs n.\n                   length Vs = n \\<Longrightarrow>\n                   \\<B> (compE\\<^sub>1 Vs x1) n;\n        \\<And>Vs n.\n           length Vs = n \\<Longrightarrow> \\<B>s (compEs\\<^sub>1 Vs x3) n;\n        length Vs = n\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) n\n 10. \\<And>x1 x2 x3 Vs n.\n        \\<lbrakk>\\<And>Vs n.\n                    length Vs = n \\<Longrightarrow>\n                    \\<B> (compE\\<^sub>1 Vs x3) n;\n         length Vs = n\\<rbrakk>\n        \\<Longrightarrow> \\<B> (compE\\<^sub>1 Vs {x1:x2; x3}) n\nA total of 17 subgoals...", "apply (auto dest: sym)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x3 Vs.\n       (\\<And>Vs. \\<B> (compE\\<^sub>1 Vs x3) (length Vs)) \\<Longrightarrow>\n       \\<B> (compE\\<^sub>1 (Vs @ [x1]) x3) (Suc (length Vs))\n 2. \\<And>x1 x3 x4 Vs.\n       \\<lbrakk>\\<And>Vs. \\<B> (compE\\<^sub>1 Vs x1) (length Vs);\n        \\<And>Vs. \\<B> (compE\\<^sub>1 Vs x4) (length Vs)\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 (Vs @ [x3]) x4)\n                          (Suc (length Vs))", "apply (metis length_append_singleton)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x3 x4 Vs.\n       \\<lbrakk>\\<And>Vs. \\<B> (compE\\<^sub>1 Vs x1) (length Vs);\n        \\<And>Vs. \\<B> (compE\\<^sub>1 Vs x4) (length Vs)\\<rbrakk>\n       \\<Longrightarrow> \\<B> (compE\\<^sub>1 (Vs @ [x3]) x4)\n                          (Suc (length Vs))", "apply (metis length_append_singleton)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "text\\<open>The main complication is preservation of definite assignment\n@{term\"\\<D>\"}.\\<close>"], ["", "lemma image_last_index: \"A \\<subseteq> set(xs@[x]) \\<Longrightarrow> last_index (xs @ [x]) ` A =\n  (if x \\<in> A then insert (size xs) (last_index xs ` (A-{x})) else last_index xs ` A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> set (xs @ [x]) \\<Longrightarrow>\n    last_index (xs @ [x]) ` A =\n    (if x \\<in> A then insert (length xs) (last_index xs ` (A - {x}))\n     else last_index xs ` A)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> set (xs @ [x]) \\<Longrightarrow>\n    last_index (xs @ [x]) ` A =\n    (if x \\<in> A then insert (length xs) (last_index xs ` (A - {x}))\n     else last_index xs ` A)", "by(auto simp:image_def)"], ["", "(*>*)"], ["", "lemma A_compE\\<^sub>1_None[simp]:\n      \"\\<And>Vs. \\<A> e = None \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) = None\"\nand \"\\<And>Vs. \\<A>s es = None \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs.\n        \\<A> e = None \\<Longrightarrow>\n        \\<A> (compE\\<^sub>1 Vs e) = None) &&&\n    (\\<And>Vs.\n        \\<A>s es = None \\<Longrightarrow>\n        \\<A>s (compEs\\<^sub>1 Vs es) = None)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Vs.\n        \\<A> e = None \\<Longrightarrow>\n        \\<A> (compE\\<^sub>1 Vs e) = None) &&&\n    (\\<And>Vs.\n        \\<A>s es = None \\<Longrightarrow>\n        \\<A>s (compEs\\<^sub>1 Vs es) = None)", "by(induct e and es rule: compE\\<^sub>1.induct compEs\\<^sub>1.induct)(auto simp:hyperset_defs)"], ["", "(*>*)"], ["", "lemma A_compE\\<^sub>1:\n      \"\\<And>A Vs. \\<lbrakk> \\<A> e = \\<lfloor>A\\<rfloor>; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` A\\<rfloor>\"\nand \"\\<And>A Vs. \\<lbrakk> \\<A>s es = \\<lfloor>A\\<rfloor>; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) = \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A Vs.\n        \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n         fv e \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>) &&&\n    (\\<And>A Vs.\n        \\<lbrakk>\\<A>s es = \\<lfloor>A\\<rfloor>;\n         fvs es \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A Vs.\n        \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n         fv e \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs e) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>) &&&\n    (\\<And>A Vs.\n        \\<lbrakk>\\<A>s es = \\<lfloor>A\\<rfloor>;\n         fvs es \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs es) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>)", "proof(induct e and es rule: fv.induct fvs.induct)"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "case (Block V' T e)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> {V':T; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T; e} \\<subseteq> set Vs\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "hence \"fv e \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> {V':T; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> set (Vs @ [V'])", "by fastforce"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V'])\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "moreover"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V'])\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "obtain B where \"\\<A> e = \\<lfloor>B\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<A> e = \\<lfloor>B\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Block.prems"], ["proof (prove)\nusing this:\n  \\<A> {V':T; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<A> e = \\<lfloor>B\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "from calculation"], ["proof (chain)\npicking this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>", "have \"B \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. B \\<subseteq> set (Vs @ [V'])", "by(auto dest!:A_fv)"], ["proof (state)\nthis:\n  B \\<subseteq> set (Vs @ [V'])\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n                     fv x3 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> {x1:x2; x3} = \\<lfloor>A\\<rfloor>;\n         fv {x1:x2; x3} \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs {x1:x2; x3}) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])", "show ?case"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs {V':T; e}) = \\<lfloor>last_index Vs ` A\\<rfloor>", "using Block"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> {V':T; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs {V':T; e}) = \\<lfloor>last_index Vs ` A\\<rfloor>", "by(auto simp add: hyperset_defs image_last_index last_index_size_conv)"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs {V':T; e}) = \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "case (TryCatch e\\<^sub>1 C V' e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "hence fve\\<^sub>2: \"fv e\\<^sub>2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "by auto"], ["proof (state)\nthis:\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "assume A\\<^sub>1: \"\\<A> e\\<^sub>1 = None\""], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "then"], ["proof (chain)\npicking this:\n  \\<A> e\\<^sub>1 = None", "obtain A\\<^sub>2 where A\\<^sub>2: \"\\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>2.\n        \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using TryCatch"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>2.\n        \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(simp add:hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"A\\<^sub>2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "using TryCatch.prems A_fv[OF A\\<^sub>2]"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> fv e\\<^sub>2\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "by simp blast"], ["proof (state)\nthis:\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "using TryCatch fve\\<^sub>2 A\\<^sub>1 A\\<^sub>2"], ["proof (prove)\nusing this:\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  fv e\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n  \\<A> e\\<^sub>1 = None\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "by(auto simp add:hyperset_defs image_last_index last_index_size_conv)"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "fix A\\<^sub>1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "assume A\\<^sub>1: \"\\<A> e\\<^sub>1 =  \\<lfloor>A\\<^sub>1\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases  \"\\<A> e\\<^sub>2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "assume A\\<^sub>2: \"\\<A> e\\<^sub>2 = None\""], ["proof (state)\nthis:\n  \\<A> e\\<^sub>2 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n    \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "then"], ["proof (chain)\npicking this:\n  \\<A> e\\<^sub>2 = None", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>2 = None\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "using TryCatch A\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>2 = None\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "by(simp add:hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "fix A\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "assume A\\<^sub>2: \"\\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>1 \\<subseteq> set Vs", "using TryCatch.prems A_fv[OF A\\<^sub>1]"], ["proof (prove)\nusing this:\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A\\<^sub>2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "using TryCatch.prems A_fv[OF A\\<^sub>2]"], ["proof (prove)\nusing this:\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> fv e\\<^sub>2\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "by simp blast"], ["proof (state)\nthis:\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n       \\<lfloor>last_index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])", "show ?thesis"], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "using TryCatch A\\<^sub>1 A\\<^sub>2"], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (try e\\<^sub>1 catch(C V') e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (try e\\<^sub>1 catch(C V') e\\<^sub>2) \\<subseteq> set Vs\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "by (auto simp add: Diff_subset_conv last_index_size_conv subsetD hyperset_defs dest!: sym [of _ A])"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V') e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "case (Cond e e\\<^sub>1 e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "{"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "assume \"\\<A> e = None \\<or> \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None\""], ["proof (state)\nthis:\n  \\<A> e = None \\<or> \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "hence ?case"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or> \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or> \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "by (auto simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "}"], ["proof (state)\nthis:\n  \\<A> e = None \\<or>\n  \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = None \\<or>\n  \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "{"], ["proof (state)\nthis:\n  \\<A> e = None \\<or>\n  \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "fix A A\\<^sub>1 A\\<^sub>2"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "assume \"\\<A> e = \\<lfloor>A\\<rfloor>\" and A\\<^sub>1: \"\\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\" and A\\<^sub>2: \"\\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "have \"A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>1 \\<subseteq> set Vs", "using Cond.prems A_fv[OF A\\<^sub>1]"], ["proof (prove)\nusing this:\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A__\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "have \"A\\<^sub>2 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set Vs", "using Cond.prems A_fv[OF A\\<^sub>2]"], ["proof (prove)\nusing this:\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A__\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> fv e\\<^sub>2\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A\\<^sub>2 \\<subseteq> set Vs\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set Vs", "have ?case"], ["proof (prove)\nusing this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A__\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n  \\<A> e\\<^sub>2 = \\<lfloor>A\\<^sub>2\\<rfloor>\n  A\\<^sub>1 \\<subseteq> set Vs\n  A\\<^sub>2 \\<subseteq> set Vs\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>1 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>1 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e\\<^sub>2 = \\<lfloor>?A\\<rfloor>;\n   fv e\\<^sub>2 \\<subseteq> set ?Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>2) =\n                    \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e\\<^sub>1 else e\\<^sub>2) = \\<lfloor>A__\\<rfloor>\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A__\\<rfloor>", "by(auto simp add:hyperset_defs image_Un\n          inj_on_image_Int[OF inj_on_last_index])"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A__\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?Aa2\\<rfloor>;\n   \\<A> e\\<^sub>1 = \\<lfloor>?A\\<^sub>12\\<rfloor>;\n   \\<A> e\\<^sub>2 = \\<lfloor>?A\\<^sub>22\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A>\n                     (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n                    \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> e = None \\<or>\n  \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<lbrakk>\\<A> e = \\<lfloor>?Aa2\\<rfloor>;\n   \\<A> e\\<^sub>1 = \\<lfloor>?A\\<^sub>12\\<rfloor>;\n   \\<A> e\\<^sub>2 = \\<lfloor>?A\\<^sub>22\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A>\n                     (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n                    \\<lfloor>last_index Vs ` A\\<rfloor>", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or>\n  \\<A> e\\<^sub>1 = None \\<or> \\<A> e\\<^sub>2 = None \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<lbrakk>\\<A> e = \\<lfloor>?Aa2\\<rfloor>;\n   \\<A> e\\<^sub>1 = \\<lfloor>?A\\<^sub>12\\<rfloor>;\n   \\<A> e\\<^sub>2 = \\<lfloor>?A\\<^sub>22\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A>\n                     (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n                    \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n    \\<lfloor>last_index Vs ` A\\<rfloor>", "by fastforce"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2)) =\n  \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (new x) = \\<lfloor>A\\<rfloor>;\n        fv (new x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (new x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (Cast x1 x2) = \\<lfloor>A\\<rfloor>;\n        fv (Cast x1 x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Cast x1 x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Val x) = \\<lfloor>A\\<rfloor>;\n        fv (Val x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Val x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x3 = \\<lfloor>A\\<rfloor>;\n            fv x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1 \\<guillemotleft>x2\\<guillemotright> x3) =\n        \\<lfloor>A\\<rfloor>;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>\\<A> (Var x) = \\<lfloor>A\\<rfloor>;\n        fv (Var x) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (Var x)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n                    fv x2 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1:=x2) = \\<lfloor>A\\<rfloor>;\n        fv (x1:=x2) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1:=x2)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3}) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3})) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A> x4 = \\<lfloor>A\\<rfloor>;\n            fv x4 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x4) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2{x3} := x4) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4)) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                    fv x1 \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n                                     \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>\\<A>s x3 = \\<lfloor>A\\<rfloor>;\n            fvs x3 \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A>s (compEs\\<^sub>1 Vs x3) =\n                             \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<A> (x1\\<bullet>x2(x3)) = \\<lfloor>A\\<rfloor>;\n        fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3))) =\n                         \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>\\<A> x1 = \\<lfloor>A\\<rfloor>;\n                     fv x1 \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x1) =\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>\\<A> x2 = \\<lfloor>A\\<rfloor>;\n             fv x2 \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs x2) =\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<A> (x1;; x2) = \\<lfloor>A\\<rfloor>;\n         fv (x1;; x2) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE\\<^sub>1 Vs (x1;; x2)) =\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "qed (auto simp add:hyperset_defs)"], ["", "(*>*)"], ["", "lemma D_None[iff]: \"\\<D> (e::'a exp) None\" and [iff]: \"\\<D>s (es::'a exp list) None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> e None &&& \\<D>s es None", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> e None &&& \\<D>s es None", "by(induct e and es rule: \\<D>.induct \\<D>s.induct)(simp_all)"], ["", "(*>*)"], ["", "lemma D_last_index_compE\\<^sub>1:\n      \"\\<And>A Vs. \\<lbrakk> A \\<subseteq> set Vs; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow>\n                \\<D> e \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>\"\nand \"\\<And>A Vs. \\<lbrakk> A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow>\n                \\<D>s es \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n         \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e)\n                           \\<lfloor>last_index Vs ` A\\<rfloor>) &&&\n    (\\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs;\n         \\<D>s es \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs es)\n                           \\<lfloor>last_index Vs ` A\\<rfloor>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n         \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e)\n                           \\<lfloor>last_index Vs ` A\\<rfloor>) &&&\n    (\\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs;\n         \\<D>s es \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs es)\n                           \\<lfloor>last_index Vs ` A\\<rfloor>)", "proof(induct e and es rule: \\<D>.induct \\<D>s.induct)"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                     \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n         \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "case (BinOp e\\<^sub>1 bop e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                     \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n         \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE\\<^sub>1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                     \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n         \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using BinOp"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D>\n   (compE\\<^sub>1 Vs\n     (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] BinOp.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using BinOp.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using BinOp Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n  \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n   \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>\n        (compE\\<^sub>1 Vs\n          (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>\n     (compE\\<^sub>1 Vs\n       (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>\n   (compE\\<^sub>1 Vs\n     (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D>\n   (compE\\<^sub>1 Vs\n     (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n         \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n         \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "case (FAss e\\<^sub>1 F D e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n         \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 x4 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n            \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x4)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3} := x4))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n         \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using FAss"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] FAss.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using FAss.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using FAss Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n         \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n         \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "case (Call e\\<^sub>1 M es)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n         \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n            \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2(x3)))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n         \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using Call"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] Call.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using Call.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using Call Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1\\<bullet>M(es)))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "case (TryCatch e\\<^sub>1 C V e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "have \"\\<lbrakk> A\\<union>{V} \\<subseteq> set(Vs@[V]); fv e\\<^sub>2 \\<subseteq> set(Vs@[V]); \\<D> e\\<^sub>2 \\<lfloor>A\\<union>{V}\\<rfloor>\\<rbrakk> \\<Longrightarrow>\n        \\<D> (compE\\<^sub>1 (Vs@[V]) e\\<^sub>2) \\<lfloor>last_index (Vs@[V]) ` (A\\<union>{V})\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n     fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n     \\<D> e\\<^sub>2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n                       \\<lfloor>last_index (Vs @ [V]) `\n                                (A \\<union> {V})\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e\\<^sub>2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n                     \\<lfloor>last_index (Vs @ [V]) `\n                              (A \\<union> {V})\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "hence \"\\<D> (compE\\<^sub>1 (Vs@[V]) e\\<^sub>2) \\<lfloor>last_index (Vs@[V]) ` (A\\<union>{V})\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e\\<^sub>2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n                     \\<lfloor>last_index (Vs @ [V]) `\n                              (A \\<union> {V})\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n     \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>", "using TryCatch.prems"], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e\\<^sub>2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e\\<^sub>2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n                     \\<lfloor>last_index (Vs @ [V]) `\n                              (A \\<union> {V})\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n     \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>", "by(simp add:Diff_subset_conv)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n   \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n   \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "have \"last_index (Vs@[V]) ` A \\<subseteq> last_index Vs ` A \\<union> {size Vs}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. last_index (Vs @ [V]) ` A\n    \\<subseteq> last_index Vs ` A \\<union> {length Vs}", "using TryCatch.prems"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. last_index (Vs @ [V]) ` A\n    \\<subseteq> last_index Vs ` A \\<union> {length Vs}", "by(auto simp add: image_last_index split:if_split_asm)"], ["proof (state)\nthis:\n  last_index (Vs @ [V]) ` A\n  \\<subseteq> last_index Vs ` A \\<union> {length Vs}\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n   \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  last_index (Vs @ [V]) ` A\n  \\<subseteq> last_index Vs ` A \\<union> {length Vs}", "show ?case"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n   \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  last_index (Vs @ [V]) ` A\n  \\<subseteq> last_index Vs ` A \\<union> {length Vs}\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using TryCatch"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e\\<^sub>2)\n   \\<lfloor>last_index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  last_index (Vs @ [V]) ` A\n  \\<subseteq> last_index Vs ` A \\<union> {length Vs}\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by(auto simp:hyperset_defs elim!:D_mono')"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (try e\\<^sub>1 catch(C V) e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "case (Seq e\\<^sub>1 e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1;; x2) \\<subseteq> set Vs;\n        \\<D> (x1;; x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1;; x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n         \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using Seq"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] Seq.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using Seq.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using Seq Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e\\<^sub>1;; e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (e\\<^sub>1;; e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "case (Cond e e\\<^sub>1 e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (if (x1) x2 else x3) \\<subseteq> set Vs;\n        \\<D> (if (x1) x2 else x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (if (x1) x2 else x3))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e = None\n\ngoal (2 subgoals):\n 1. \\<A> e = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some B)"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexB: \"\\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` B\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` B\\<rfloor>", "using A_compE\\<^sub>1[OF Some] Cond.prems"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e) = \\<lfloor>last_index ?Vs ` B\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` B\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> B \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> B \\<subseteq> set Vs", "using Cond.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  B \\<subseteq> fv e\n\ngoal (1 subgoal):\n 1. A \\<union> B \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> B \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\"\n      and \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> B \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n     \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor> &&&\n    \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>", "using Cond Some"], ["proof (prove)\nusing this:\n  A \\<union> B \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n     \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor> &&&\n    \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n   \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\"\n      and \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n   \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> B)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor> &&&\n    \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>", "by(simp add: image_Un)+"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexB"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` B\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e) = \\<lfloor>last_index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (if (e) e\\<^sub>1 else e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (11 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n         \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n         \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 11 subgoals...", "case (While e\\<^sub>1 e\\<^sub>2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (11 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n         \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 11 subgoals...", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (11 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (while (x1) x2) \\<subseteq> set Vs;\n        \\<D> (while (x1) x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (while (x1) x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>A Vs.\n        \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n         \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                           \\<lfloor>last_index Vs ` A\\<rfloor>\nA total of 11 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using While"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] While.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using While.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using While Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>2 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>2)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e\\<^sub>1) e\\<^sub>2) \\<subseteq> set Vs\n  \\<D> (while (e\\<^sub>1) e\\<^sub>2) \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>2) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>2)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs (while (e\\<^sub>1) e\\<^sub>2))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Block V T e)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv {V:T; e} \\<subseteq> set Vs\n  \\<D> {V:T; e} \\<lfloor>A\\<rfloor>\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"\\<lbrakk> A-{V} \\<subseteq> set(Vs@[V]); fv e \\<subseteq> set(Vs@[V]); \\<D> e \\<lfloor>A-{V}\\<rfloor> \\<rbrakk> \\<Longrightarrow>\n        \\<D> (compE\\<^sub>1 (Vs@[V]) e) \\<lfloor>last_index (Vs@[V]) ` (A-{V})\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A - {V} \\<subseteq> set (Vs @ [V]);\n     fv e \\<subseteq> set (Vs @ [V]);\n     \\<D> e \\<lfloor>A - {V}\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n                       \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>A - {V} \\<subseteq> set (Vs @ [V]);\n   fv e \\<subseteq> set (Vs @ [V]);\n   \\<D> e \\<lfloor>A - {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n                     \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D> (compE\\<^sub>1 (Vs@[V]) e) \\<lfloor>last_index (Vs@[V]) ` (A-{V})\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>A - {V} \\<subseteq> set (Vs @ [V]);\n   fv e \\<subseteq> set (Vs @ [V]);\n   \\<D> e \\<lfloor>A - {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n                     \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n     \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>", "using Block.prems"], ["proof (prove)\nusing this:\n  \\<lbrakk>A - {V} \\<subseteq> set (Vs @ [V]);\n   fv e \\<subseteq> set (Vs @ [V]);\n   \\<D> e \\<lfloor>A - {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n                     \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  A \\<subseteq> set Vs\n  fv {V:T; e} \\<subseteq> set Vs\n  \\<D> {V:T; e} \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n     \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>", "by(simp add:Diff_subset_conv)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n   \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n   \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"size Vs \\<notin> last_index Vs ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Vs \\<notin> last_index Vs ` A", "using Block.prems"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv {V:T; e} \\<subseteq> set Vs\n  \\<D> {V:T; e} \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. length Vs \\<notin> last_index Vs ` A", "by(auto simp add:image_def size_last_index_conv)"], ["proof (state)\nthis:\n  length Vs \\<notin> last_index Vs ` A\n\ngoal (10 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n                    \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x3)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv {x1:x2; x3} \\<subseteq> set Vs;\n        \\<D> {x1:x2; x3} \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs {x1:x2; x3})\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n \\<lfloor>last_index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n             \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                               \\<lfloor>last_index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n         \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                           \\<lfloor>last_index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n   \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  length Vs \\<notin> last_index Vs ` A", "show ?case"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n   \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  length Vs \\<notin> last_index Vs ` A\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs {V:T; e}) \\<lfloor>last_index Vs ` A\\<rfloor>", "using Block"], ["proof (prove)\nusing this:\n  \\<D> (compE\\<^sub>1 (Vs @ [V]) e)\n   \\<lfloor>last_index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  length Vs \\<notin> last_index Vs ` A\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv {V:T; e} \\<subseteq> set Vs\n  \\<D> {V:T; e} \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs {V:T; e}) \\<lfloor>last_index Vs ` A\\<rfloor>", "by(auto simp add: image_last_index Diff_subset_conv hyperset_defs elim!: D_mono')"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs {V:T; e}) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (9 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n            \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n        \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n            \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n        \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Cons_exp e\\<^sub>1 es)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (9 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n            \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n        \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>", "hence IH\\<^sub>1: \"\\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (9 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fvs x2 \\<subseteq> set Vs;\n            \\<D>s x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs x2)\n                              \\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fvs (x1 # x2) \\<subseteq> set Vs;\n        \\<D>s (x1 # x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs (x1 # x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e\\<^sub>1 = None \\<Longrightarrow>\n    \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using Cons_exp"], ["proof (prove)\nusing this:\n  \\<A> e\\<^sub>1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "case (Some A\\<^sub>1)"], ["proof (state)\nthis:\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have indexA\\<^sub>1: \"\\<A> (compE\\<^sub>1 Vs e\\<^sub>1) = \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "using A_compE\\<^sub>1[OF Some] Cons_exp.prems"], ["proof (prove)\nusing this:\n  fv e\\<^sub>1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE\\<^sub>1 ?Vs e\\<^sub>1) =\n  \\<lfloor>last_index ?Vs ` A\\<^sub>1\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n    \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "have \"A \\<union> A\\<^sub>1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "using Cons_exp.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n  A\\<^sub>1 \\<subseteq> fv e\\<^sub>1\n\ngoal (1 subgoal):\n 1. A \\<union> A\\<^sub>1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "using Cons_exp Some"], ["proof (prove)\nusing this:\n  A \\<union> A\\<^sub>1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e\\<^sub>1 \\<subseteq> set ?Vs;\n   \\<D> e\\<^sub>1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE\\<^sub>1 ?Vs e\\<^sub>1)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 ?Vs es)\n                     \\<lfloor>last_index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e\\<^sub>1 # es) \\<subseteq> set Vs\n  \\<D>s (e\\<^sub>1 # es) \\<lfloor>A\\<rfloor>\n  \\<A> e\\<^sub>1 = \\<lfloor>A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs\\<^sub>1 Vs es) \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` (A \\<union> A\\<^sub>1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs es)\n     \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e\\<^sub>1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n        \\<lfloor>last_index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "using IH\\<^sub>1 indexA\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<D>s (compEs\\<^sub>1 Vs es)\n   \\<lfloor>last_index Vs ` A \\<union> last_index Vs ` A\\<^sub>1\\<rfloor>\n  \\<D> (compE\\<^sub>1 Vs e\\<^sub>1) \\<lfloor>last_index Vs ` A\\<rfloor>\n  \\<A> (compE\\<^sub>1 Vs e\\<^sub>1) =\n  \\<lfloor>last_index Vs ` A\\<^sub>1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n     \\<lfloor>last_index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D>s (compEs\\<^sub>1 Vs (e\\<^sub>1 # es))\n   \\<lfloor>last_index Vs ` A\\<rfloor>\n\ngoal (8 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (new x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Cast x1 x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 3. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Val x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 4. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (Var x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 5. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x2)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1:=x2))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x1)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs x)\n\\<lfloor>last_index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n        \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs (throw x))\n                          \\<lfloor>last_index Vs ` A\\<rfloor>\n 8. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fvs [] \\<subseteq> set Vs;\n        \\<D>s [] \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>s (compEs\\<^sub>1 Vs [])\n                          \\<lfloor>last_index Vs ` A\\<rfloor>", "qed (simp_all add:hyperset_defs)"], ["", "(*>*)"], ["", "lemma last_index_image_set: \"distinct xs \\<Longrightarrow> last_index xs ` set xs = {..<size xs}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct xs \\<Longrightarrow> last_index xs ` set xs = {..<length xs}", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct xs \\<Longrightarrow> last_index xs ` set xs = {..<length xs}", "by(induct xs rule:rev_induct) (auto simp add: image_last_index)"], ["", "(*>*)"], ["", "lemma D_compE\\<^sub>1:\n  \"\\<lbrakk> \\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs; distinct Vs \\<rbrakk> \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e) \\<lfloor>{..<length Vs}\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs;\n     distinct Vs\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e)\n                       \\<lfloor>{..<length Vs}\\<rfloor>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs;\n     distinct Vs\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE\\<^sub>1 Vs e)\n                       \\<lfloor>{..<length Vs}\\<rfloor>", "by(fastforce dest!: D_last_index_compE\\<^sub>1[OF subset_refl] simp add:last_index_image_set)"], ["", "(*>*)"], ["", "lemma D_compE\\<^sub>1':\nassumes \"\\<D> e \\<lfloor>set(V#Vs)\\<rfloor>\" and \"fv e \\<subseteq> set(V#Vs)\" and \"distinct(V#Vs)\"\nshows \"\\<D> (compE\\<^sub>1 (V#Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "have \"{..size Vs} = {..<size(V#Vs)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {..length Vs} = {..<length (V # Vs)}", "by auto"], ["proof (state)\nthis:\n  {..length Vs} = {..<length (V # Vs)}\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  {..length Vs} = {..<length (V # Vs)}\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "using assms"], ["proof (prove)\nusing this:\n  {..length Vs} = {..<length (V # Vs)}\n  \\<D> e \\<lfloor>set (V # Vs)\\<rfloor>\n  fv e \\<subseteq> set (V # Vs)\n  distinct (V # Vs)\n\ngoal (1 subgoal):\n 1. \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "by (simp only:)(rule D_compE\\<^sub>1)"], ["proof (state)\nthis:\n  \\<D> (compE\\<^sub>1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma compP\\<^sub>1_pres_wf: \"wf_J_prog P \\<Longrightarrow> wf_J\\<^sub>1_prog (compP\\<^sub>1 P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf_J_prog P \\<Longrightarrow> wf_J\\<^sub>1_prog (compP\\<^sub>1 P)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf_J_prog P \\<Longrightarrow> wf_J\\<^sub>1_prog (compP\\<^sub>1 P)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf_J_prog P \\<Longrightarrow>\n    wf_J\\<^sub>1_prog\n     (compP (\\<lambda>(pns, body). compE\\<^sub>1 (this # pns) body) P)", "apply(rule wf_prog_compPI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = m in C;\n        wf_mdecl ?wf\\<^sub>1 P C (M, Ts, T, m)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J\\<^sub>1_mdecl\n                          (compP\n                            (\\<lambda>(pns, body).\n                                compE\\<^sub>1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             case m of\n                             (pns, body) \\<Rightarrow>\n                               compE\\<^sub>1 (this # pns) body)\n 2. wf_J_prog P \\<Longrightarrow> wf_prog ?wf\\<^sub>1 P", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. wf_J_prog P \\<Longrightarrow> wf_prog ?wf\\<^sub>1 P\n 2. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = m in C;\n        wf_mdecl ?wf\\<^sub>1 P C (M, Ts, T, m)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J\\<^sub>1_mdecl\n                          (compP\n                            (\\<lambda>(pns, body).\n                                compE\\<^sub>1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             case m of\n                             (pns, body) \\<Rightarrow>\n                               compE\\<^sub>1 (this # pns) body)", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = m in C;\n        wf_mdecl wf_J_mdecl P C (M, Ts, T, m)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J\\<^sub>1_mdecl\n                          (compP\n                            (\\<lambda>(pns, body).\n                                compE\\<^sub>1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             case m of\n                             (pns, body) \\<Rightarrow>\n                               compE\\<^sub>1 (this # pns) body)", "apply(case_tac m)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m a b.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = m in C;\n        wf_mdecl wf_J_mdecl P C (M, Ts, T, m); m = (a, b)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J\\<^sub>1_mdecl\n                          (compP\n                            (\\<lambda>(pns, body).\n                                compE\\<^sub>1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             case m of\n                             (pns, body) \\<Rightarrow>\n                               compE\\<^sub>1 (this # pns) body)", "apply(simp add:wf_mdecl_def wf_J\\<^sub>1_mdecl_def wf_J_mdecl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m a b.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (a, b) in C;\n        (\\<forall>x\\<in>set Ts. is_type P x) \\<and>\n        is_type P T \\<and>\n        length Ts = length a \\<and>\n        distinct a \\<and>\n        this \\<notin> set a \\<and>\n        (\\<exists>T'.\n            P,[this \\<mapsto> Class C, a [\\<mapsto>]\n               Ts] \\<turnstile> b :: T' \\<and>\n            P \\<turnstile> T' \\<le> T) \\<and>\n        \\<D> b \\<lfloor>insert this (set a)\\<rfloor>;\n        m = (a, b)\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>(pns, y).\n                                  compE\\<^sub>1 (this # pns) y)\n                              P,Class C # Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 (this # a) b :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE\\<^sub>1 (this # a) b)\n                          \\<lfloor>{..length a}\\<rfloor> \\<and>\n                         \\<B> (compE\\<^sub>1 (this # a) b) (Suc (length a))", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T a b aa ba T'.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (aa, ba) in C;\n        Ball (set Ts) (is_type P); is_type P T; length Ts = length aa;\n        distinct aa; this \\<notin> set aa;\n        \\<D> ba \\<lfloor>insert this (set aa)\\<rfloor>;\n        P,[this \\<mapsto> Class C, aa [\\<mapsto>] Ts] \\<turnstile> ba :: T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>(pns, y).\n                                  compE\\<^sub>1 (this # pns) y)\n                              P,Class C # Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 (this # aa) ba :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE\\<^sub>1 (this # aa) ba)\n                          \\<lfloor>{..length aa}\\<rfloor> \\<and>\n                         \\<B> (compE\\<^sub>1 (this # aa) ba)\n                          (Suc (length aa))", "apply(frule WT_fv)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T a b aa ba T'.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (aa, ba) in C;\n        Ball (set Ts) (is_type P); is_type P T; length Ts = length aa;\n        distinct aa; this \\<notin> set aa;\n        \\<D> ba \\<lfloor>insert this (set aa)\\<rfloor>;\n        P,[this \\<mapsto> Class C, aa [\\<mapsto>] Ts] \\<turnstile> ba :: T';\n        P \\<turnstile> T' \\<le> T;\n        fv ba\n        \\<subseteq> dom [this \\<mapsto> Class C, aa [\\<mapsto>] Ts]\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>(pns, y).\n                                  compE\\<^sub>1 (this # pns) y)\n                              P,Class C # Ts \\<turnstile>\\<^sub>1\n                             compE\\<^sub>1 (this # aa) ba :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE\\<^sub>1 (this # aa) ba)\n                          \\<lfloor>{..length aa}\\<rfloor> \\<and>\n                         \\<B> (compE\\<^sub>1 (this # aa) ba)\n                          (Suc (length aa))", "apply(fastforce intro!: compE\\<^sub>1_pres_wt D_compE\\<^sub>1' \\<B>)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "end"]]}