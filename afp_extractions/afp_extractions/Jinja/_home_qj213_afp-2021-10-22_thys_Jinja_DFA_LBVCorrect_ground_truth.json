{"file_name": "/home/qj213/afp-2021-10-22/thys/Jinja/DFA/LBVCorrect.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Jinja", "problem_names": ["lemma (in lbvs) phi_None [intro?]:\n  \"\\<lbrakk> pc < size ins; c!pc = \\<bottom> \\<rbrakk> \\<Longrightarrow> \\<tau>s!pc = wtl (take pc ins) c 0 s\\<^sub>0\"", "lemma (in lbvs) phi_Some [intro?]:\n  \"\\<lbrakk> pc < size ins; c!pc \\<noteq> \\<bottom> \\<rbrakk> \\<Longrightarrow> \\<tau>s!pc = c!pc\"", "lemma (in lbvs) phi_len [simp]: \"size \\<tau>s = size ins\"", "lemma (in lbvs) wtl_suc_pc:\n  assumes all: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes pc:  \"pc+1 < size ins\"\n  shows \"wtl (take (pc+1) ins) c 0 s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!(pc+1)\"", "lemma (in lbvs) wtl_stable:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes s\\<^sub>0:  \"s\\<^sub>0 \\<in> A\" and  pc:  \"pc < size ins\" \n  shows \"stable r step \\<tau>s pc\"", "lemma (in lbvs) phi_not_top:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and pc:  \"pc < size ins\"\n  shows \"\\<tau>s!pc \\<noteq> \\<top>\"", "lemma (in lbvs) phi_in_A:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and s\\<^sub>0: \"s\\<^sub>0 \\<in> A\"\n  shows \"\\<tau>s \\<in> list (size ins) A\"", "lemma (in lbvs) phi0:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and 0: \"0 < size ins\"\n  shows \"s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!0\"", "theorem (in lbvs) wtl_sound:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and s\\<^sub>0: \"s\\<^sub>0 \\<in> A\" \n  shows \"\\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s\"", "theorem (in lbvs) wtl_sound_strong:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes s\\<^sub>0: \"s\\<^sub>0 \\<in> A\" and ins: \"0 < size ins\"\n  shows \"\\<exists>\\<tau>s \\<in> list (size ins) A. wt_step r \\<top> step \\<tau>s \\<and> s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!0\""], "translations": [["", "lemma (in lbvs) phi_None [intro?]:\n  \"\\<lbrakk> pc < size ins; c!pc = \\<bottom> \\<rbrakk> \\<Longrightarrow> \\<tau>s!pc = wtl (take pc ins) c 0 s\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pc < length ins; c ! pc = \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pc < length ins; c ! pc = \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0", "by (simp add: phi_def)"], ["", "(*>*)"], ["", "lemma (in lbvs) phi_Some [intro?]:\n  \"\\<lbrakk> pc < size ins; c!pc \\<noteq> \\<bottom> \\<rbrakk> \\<Longrightarrow> \\<tau>s!pc = c!pc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pc < length ins; c ! pc \\<noteq> \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<tau>s ! pc = c ! pc", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pc < length ins; c ! pc \\<noteq> \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<tau>s ! pc = c ! pc", "by (simp add: phi_def)"], ["", "(*>*)"], ["", "lemma (in lbvs) phi_len [simp]: \"size \\<tau>s = size ins\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length \\<tau>s = length ins", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. length \\<tau>s = length ins", "by (simp add: phi_def)"], ["", "(*>*)"], ["", "lemma (in lbvs) wtl_suc_pc:\n  assumes all: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes pc:  \"pc+1 < size ins\"\n  shows \"wtl (take (pc+1) ins) c 0 s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!(pc+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "from all pc"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins", "have \"wtc c (pc+1) (wtl (take (pc+1) ins) c 0 s\\<^sub>0) \\<noteq> T\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins\n\ngoal (1 subgoal):\n 1. wtc c (pc + 1) (wtl (take (pc + 1) ins) c 0 s\\<^sub>0) \\<noteq> \\<top>", "by (rule wtl_all)"], ["proof (state)\nthis:\n  wtc c (pc + 1) (wtl (take (pc + 1) ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "with pc"], ["proof (chain)\npicking this:\n  pc + 1 < length ins\n  wtc c (pc + 1) (wtl (take (pc + 1) ins) c 0 s\\<^sub>0) \\<noteq> \\<top>", "show ?thesis"], ["proof (prove)\nusing this:\n  pc + 1 < length ins\n  wtc c (pc + 1) (wtl (take (pc + 1) ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "by (simp add: phi_def wtc split: if_split_asm)"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in lbvs) wtl_stable:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes s\\<^sub>0:  \"s\\<^sub>0 \\<in> A\" and  pc:  \"pc < size ins\" \n  shows \"stable r step \\<tau>s pc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stable r step \\<tau>s pc", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. stable r step \\<tau>s pc", "proof (unfold stable_def, clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "fix pc' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "assume step: \"(pc',s') \\<in> set (step pc (\\<tau>s ! pc))\" \n                      (is \"(pc',s') \\<in> set (?step pc)\")"], ["proof (state)\nthis:\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "from bounded pc step"], ["proof (chain)\npicking this:\n  bounded step (length ins)\n  pc < length ins\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))", "have pc': \"pc' < size ins\""], ["proof (prove)\nusing this:\n  bounded step (length ins)\n  pc < length ins\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))\n\ngoal (1 subgoal):\n 1. pc' < length ins", "by (rule boundedD)"], ["proof (state)\nthis:\n  pc' < length ins\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "have tkpc: \"wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\" (is \"?s\\<^sub>1 \\<noteq> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "using wtl"], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "by (rule wtl_take)"], ["proof (state)\nthis:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "have s\\<^sub>2: \"wtl (take (pc+1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\" (is \"?s\\<^sub>2 \\<noteq> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "using wtl"], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "by (rule wtl_take)"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "from wtl pc"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins", "have wt_s\\<^sub>1: \"wtc c pc ?s\\<^sub>1 \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins\n\ngoal (1 subgoal):\n 1. wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>", "by (rule wtl_all)"], ["proof (state)\nthis:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "have c_Some: \"\\<forall>pc t. pc < size ins \\<longrightarrow> c!pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s!pc = c!pc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>pc t.\n       pc < length ins \\<longrightarrow>\n       c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc", "by (simp add: phi_def)"], ["proof (state)\nthis:\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "have c_None: \"c!pc = \\<bottom> \\<Longrightarrow> \\<tau>s!pc = ?s\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow>\n    \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0", "using pc"], ["proof (prove)\nusing this:\n  pc < length ins\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow>\n    \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0", ".."], ["proof (state)\nthis:\n  c ! pc = \\<bottom> \\<Longrightarrow>\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "from wt_s\\<^sub>1 pc c_None c_Some"], ["proof (chain)\npicking this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n  pc < length ins\n  c ! pc = \\<bottom> \\<Longrightarrow>\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc", "have inst: \"wtc c pc ?s\\<^sub>1  = wti c pc (\\<tau>s!pc)\""], ["proof (prove)\nusing this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n  pc < length ins\n  c ! pc = \\<bottom> \\<Longrightarrow>\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n\ngoal (1 subgoal):\n 1. wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)", "by (simp add: wtc split: if_split_asm)"], ["proof (state)\nthis:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "have \"?s\\<^sub>1 \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A", "using pres cert s\\<^sub>0 wtl pc"], ["proof (prove)\nusing this:\n  pres_type step (length ins) A\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  s\\<^sub>0 \\<in> A\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins\n\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A", "by (rule wtl_pres)"], ["proof (state)\nthis:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "with pc c_Some cert c_None"], ["proof (chain)\npicking this:\n  pc < length ins\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  c ! pc = \\<bottom> \\<Longrightarrow>\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A", "have \"\\<tau>s!pc \\<in> A\""], ["proof (prove)\nusing this:\n  pc < length ins\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  c ! pc = \\<bottom> \\<Longrightarrow>\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<in> A", "by (cases \"c!pc = \\<bottom>\") (auto dest: cert_okD1)"], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "with pc pres"], ["proof (chain)\npicking this:\n  pc < length ins\n  pres_type step (length ins) A\n  \\<tau>s ! pc \\<in> A", "have step_in_A: \"snd`set (?step pc) \\<subseteq> A\""], ["proof (prove)\nusing this:\n  pc < length ins\n  pres_type step (length ins) A\n  \\<tau>s ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A", "by (auto dest: pres_typeD2)"], ["proof (state)\nthis:\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> set (step pc (\\<tau>s ! pc)) \\<Longrightarrow>\n       b \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! a", "show \"s' \\<sqsubseteq>\\<^sub>r \\<tau>s!pc'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "proof (cases \"pc' = pc+1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "case True"], ["proof (state)\nthis:\n  pc' = pc + 1\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with pc' cert"], ["proof (chain)\npicking this:\n  pc' < length ins\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc' = pc + 1", "have cert_in_A: \"c!(pc+1) \\<in> A\""], ["proof (prove)\nusing this:\n  pc' < length ins\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc' = pc + 1\n\ngoal (1 subgoal):\n 1. c ! (pc + 1) \\<in> A", "by (auto dest: cert_okD1)"], ["proof (state)\nthis:\n  c ! (pc + 1) \\<in> A\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from True pc'"], ["proof (chain)\npicking this:\n  pc' = pc + 1\n  pc' < length ins", "have pc1: \"pc+1 < size ins\""], ["proof (prove)\nusing this:\n  pc' = pc + 1\n  pc' < length ins\n\ngoal (1 subgoal):\n 1. pc + 1 < length ins", "by simp"], ["proof (state)\nthis:\n  pc + 1 < length ins\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with tkpc"], ["proof (chain)\npicking this:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins", "have \"?s\\<^sub>2 = wtc c pc ?s\\<^sub>1\""], ["proof (prove)\nusing this:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n    wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0)", "by - (rule wtl_Suc)"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0)\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with inst"], ["proof (chain)\npicking this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0)", "have merge: \"?s\\<^sub>2 = merge c pc (?step pc) (c!(pc+1))\""], ["proof (prove)\nusing this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0)\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n    merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1))", "by (simp add: wti)"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1))\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "also"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1))\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from s\\<^sub>2 merge"], ["proof (chain)\npicking this:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1))", "have \"\\<dots> \\<noteq> \\<top>\" (is \"?merge \\<noteq> _\")"], ["proof (prove)\nusing this:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1))\n\ngoal (1 subgoal):\n 1. merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>", "by simp"], ["proof (state)\nthis:\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with cert_in_A step_in_A"], ["proof (chain)\npicking this:\n  c ! (pc + 1) \\<in> A\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>", "have \"?merge = (map snd [(p',t') \\<leftarrow> ?step pc. p'=pc+1] \\<Squnion>\\<^bsub>f\\<^esub> c!(pc+1))\""], ["proof (prove)\nusing this:\n  c ! (pc + 1) \\<in> A\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) =\n    map snd\n     (filter (\\<lambda>(p', t'). p' = pc + 1) (step pc (\\<tau>s ! pc))) \n    \\<Squnion>\\<^bsub>f\\<^esub> c ! (pc + 1)", "by (rule merge_not_top_s)"], ["proof (state)\nthis:\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) =\n  map snd\n   (filter (\\<lambda>(p', t'). p' = pc + 1) (step pc (\\<tau>s ! pc))) \n  \\<Squnion>\\<^bsub>f\\<^esub> c ! (pc + 1)\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "finally"], ["proof (chain)\npicking this:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  map snd\n   (filter (\\<lambda>(p', t'). p' = pc + 1) (step pc (\\<tau>s ! pc))) \n  \\<Squnion>\\<^bsub>f\\<^esub> c ! (pc + 1)", "have \"s' \\<sqsubseteq>\\<^sub>r ?s\\<^sub>2\""], ["proof (prove)\nusing this:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  map snd\n   (filter (\\<lambda>(p', t'). p' = pc + 1) (step pc (\\<tau>s ! pc))) \n  \\<Squnion>\\<^bsub>f\\<^esub> c ! (pc + 1)\n\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> wtl (take (pc + 1) ins) c 0 s\\<^sub>0", "using step_in_A cert_in_A True step"], ["proof (prove)\nusing this:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 =\n  map snd\n   (filter (\\<lambda>(p', t'). p' = pc + 1) (step pc (\\<tau>s ! pc))) \n  \\<Squnion>\\<^bsub>f\\<^esub> c ! (pc + 1)\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n  c ! (pc + 1) \\<in> A\n  pc' = pc + 1\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))\n\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> wtl (take (pc + 1) ins) c 0 s\\<^sub>0", "by (auto intro: pp_ub1')"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> wtl (take (pc + 1) ins) c 0 s\\<^sub>0\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "also"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> wtl (take (pc + 1) ins) c 0 s\\<^sub>0\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from wtl pc1"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins", "have \"?s\\<^sub>2 \\<sqsubseteq>\\<^sub>r \\<tau>s!(pc+1)\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc + 1 < length ins\n\ngoal (1 subgoal):\n 1. wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)", "by (rule wtl_suc_pc)"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "also"], ["proof (state)\nthis:\n  wtl (take (pc + 1) ins) c 0 s\\<^sub>0 \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! (pc + 1)\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "note True [symmetric]"], ["proof (state)\nthis:\n  pc + 1 = pc'\n\ngoal (2 subgoals):\n 1. pc' = pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n 2. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "finally"], ["proof (chain)\npicking this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "show ?thesis"], ["proof (prove)\nusing this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "by simp"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "case False"], ["proof (state)\nthis:\n  pc' \\<noteq> pc + 1\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from wt_s\\<^sub>1 inst"], ["proof (chain)\npicking this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)", "have \"merge c pc (?step pc) (c!(pc+1)) \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) \\<noteq> \\<top>\n  wtc c pc (wtl (take pc ins) c 0 s\\<^sub>0) = wti c pc (\\<tau>s ! pc)\n\ngoal (1 subgoal):\n 1. merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>", "by (simp add: wti)"], ["proof (state)\nthis:\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with step_in_A"], ["proof (chain)\npicking this:\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>", "have \"\\<forall>(pc', s')\\<in>set (?step pc). pc'\\<noteq>pc+1 \\<longrightarrow> s' \\<sqsubseteq>\\<^sub>r c!pc'\""], ["proof (prove)\nusing this:\n  snd ` set (step pc (\\<tau>s ! pc)) \\<subseteq> A\n  merge c pc (step pc (\\<tau>s ! pc)) (c ! (pc + 1)) \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<forall>(pc', s')\\<in>set (step pc (\\<tau>s ! pc)).\n       pc' \\<noteq> pc + 1 \\<longrightarrow>\n       s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'", "by - (rule merge_not_top)"], ["proof (state)\nthis:\n  \\<forall>(pc', s')\\<in>set (step pc (\\<tau>s ! pc)).\n     pc' \\<noteq> pc + 1 \\<longrightarrow>\n     s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "with step False"], ["proof (chain)\npicking this:\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))\n  pc' \\<noteq> pc + 1\n  \\<forall>(pc', s')\\<in>set (step pc (\\<tau>s ! pc)).\n     pc' \\<noteq> pc + 1 \\<longrightarrow>\n     s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'", "have ok: \"s' \\<sqsubseteq>\\<^sub>r c!pc'\""], ["proof (prove)\nusing this:\n  (pc', s') \\<in> set (step pc (\\<tau>s ! pc))\n  pc' \\<noteq> pc + 1\n  \\<forall>(pc', s')\\<in>set (step pc (\\<tau>s ! pc)).\n     pc' \\<noteq> pc + 1 \\<longrightarrow>\n     s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'", "by blast"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "moreover"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from ok"], ["proof (chain)\npicking this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'", "have \"c!pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>\""], ["proof (prove)\nusing this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n\ngoal (1 subgoal):\n 1. c ! pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>", "by simp"], ["proof (state)\nthis:\n  c ! pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "moreover"], ["proof (state)\nthis:\n  c ! pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "from c_Some pc'"], ["proof (chain)\npicking this:\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n  pc' < length ins", "have \"c!pc' \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s!pc' = c!pc'\""], ["proof (prove)\nusing this:\n  \\<forall>pc t.\n     pc < length ins \\<longrightarrow>\n     c ! pc \\<noteq> \\<bottom> \\<longrightarrow> \\<tau>s ! pc = c ! pc\n  pc' < length ins\n\ngoal (1 subgoal):\n 1. c ! pc' \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc' = c ! pc'", "by auto"], ["proof (state)\nthis:\n  c ! pc' \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc' = c ! pc'\n\ngoal (1 subgoal):\n 1. pc' \\<noteq> pc + 1 \\<Longrightarrow>\n    s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "ultimately"], ["proof (chain)\npicking this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n  c ! pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>\n  c ! pc' \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc' = c ! pc'", "show ?thesis"], ["proof (prove)\nusing this:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! pc'\n  c ! pc' = \\<bottom> \\<Longrightarrow> s' = \\<bottom>\n  c ! pc' \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc' = c ! pc'\n\ngoal (1 subgoal):\n 1. s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'", "by (cases \"c!pc' = \\<bottom>\") auto"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! pc'\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in lbvs) phi_not_top:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and pc:  \"pc < size ins\"\n  shows \"\\<tau>s!pc \\<noteq> \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "proof (cases \"c!pc = \\<bottom>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>\n 2. c ! pc \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "case False"], ["proof (state)\nthis:\n  c ! pc \\<noteq> \\<bottom>\n\ngoal (2 subgoals):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>\n 2. c ! pc \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "with pc"], ["proof (chain)\npicking this:\n  pc < length ins\n  c ! pc \\<noteq> \\<bottom>", "have \"\\<tau>s!pc = c!pc\""], ["proof (prove)\nusing this:\n  pc < length ins\n  c ! pc \\<noteq> \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc = c ! pc", ".."], ["proof (state)\nthis:\n  \\<tau>s ! pc = c ! pc\n\ngoal (2 subgoals):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>\n 2. c ! pc \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "also"], ["proof (state)\nthis:\n  \\<tau>s ! pc = c ! pc\n\ngoal (2 subgoals):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>\n 2. c ! pc \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "from cert pc"], ["proof (chain)\npicking this:\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc < length ins", "have \"\\<dots> \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc < length ins\n\ngoal (1 subgoal):\n 1. c ! pc \\<noteq> \\<top>", "by (rule cert_okD4)"], ["proof (state)\nthis:\n  c ! pc \\<noteq> \\<top>\n\ngoal (2 subgoals):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>\n 2. c ! pc \\<noteq> \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "finally"], ["proof (chain)\npicking this:\n  \\<tau>s ! pc \\<noteq> \\<top>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "."], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "case True"], ["proof (state)\nthis:\n  c ! pc = \\<bottom>\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "with pc"], ["proof (chain)\npicking this:\n  pc < length ins\n  c ! pc = \\<bottom>", "have \"\\<tau>s!pc = wtl (take pc ins) c 0 s\\<^sub>0\""], ["proof (prove)\nusing this:\n  pc < length ins\n  c ! pc = \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0", ".."], ["proof (state)\nthis:\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "also"], ["proof (state)\nthis:\n  \\<tau>s ! pc = wtl (take pc ins) c 0 s\\<^sub>0\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "from wtl"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>", "have \"\\<dots> \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "by (rule wtl_take)"], ["proof (state)\nthis:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. c ! pc = \\<bottom> \\<Longrightarrow> \\<tau>s ! pc \\<noteq> \\<top>", "finally"], ["proof (chain)\npicking this:\n  \\<tau>s ! pc \\<noteq> \\<top>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "."], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in lbvs) phi_in_A:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and s\\<^sub>0: \"s\\<^sub>0 \\<in> A\"\n  shows \"\\<tau>s \\<in> list (size ins) A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "assume \"x \\<in> set \\<tau>s\""], ["proof (state)\nthis:\n  x \\<in> set \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "then"], ["proof (chain)\npicking this:\n  x \\<in> set \\<tau>s", "obtain xs ys where \"\\<tau>s = xs @ x # ys\""], ["proof (prove)\nusing this:\n  x \\<in> set \\<tau>s\n\ngoal (1 subgoal):\n 1. (\\<And>xs ys.\n        \\<tau>s = xs @ x # ys \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: in_set_conv_decomp)"], ["proof (state)\nthis:\n  \\<tau>s = xs @ x # ys\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "then"], ["proof (chain)\npicking this:\n  \\<tau>s = xs @ x # ys", "obtain pc where pc: \"pc < size \\<tau>s\" and x: \"\\<tau>s!pc = x\""], ["proof (prove)\nusing this:\n  \\<tau>s = xs @ x # ys\n\ngoal (1 subgoal):\n 1. (\\<And>pc.\n        \\<lbrakk>pc < length \\<tau>s; \\<tau>s ! pc = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (simp add: that [of \"size xs\"] nth_append)"], ["proof (state)\nthis:\n  pc < length \\<tau>s\n  \\<tau>s ! pc = x\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "from pres cert wtl s\\<^sub>0 pc"], ["proof (chain)\npicking this:\n  pres_type step (length ins) A\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length \\<tau>s", "have \"wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\""], ["proof (prove)\nusing this:\n  pres_type step (length ins) A\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length \\<tau>s\n\ngoal (1 subgoal):\n 1. wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A", "by (auto intro!: wtl_pres)"], ["proof (state)\nthis:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "moreover"], ["proof (state)\nthis:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "from pc"], ["proof (chain)\npicking this:\n  pc < length \\<tau>s", "have \"pc < size ins\""], ["proof (prove)\nusing this:\n  pc < length \\<tau>s\n\ngoal (1 subgoal):\n 1. pc < length ins", "by simp"], ["proof (state)\nthis:\n  pc < length ins\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "with cert"], ["proof (chain)\npicking this:\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc < length ins", "have \"c!pc \\<in> A\""], ["proof (prove)\nusing this:\n  cert_ok c (length ins) \\<top> \\<bottom> A\n  pc < length ins\n\ngoal (1 subgoal):\n 1. c ! pc \\<in> A", ".."], ["proof (state)\nthis:\n  c ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "ultimately"], ["proof (chain)\npicking this:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n  c ! pc \\<in> A", "have \"\\<tau>s!pc \\<in> A\""], ["proof (prove)\nusing this:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n  c ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<in> A", "using pc"], ["proof (prove)\nusing this:\n  wtl (take pc ins) c 0 s\\<^sub>0 \\<in> A\n  c ! pc \\<in> A\n  pc < length \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<in> A", "by (simp add: phi_def)"], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "hence \"x \\<in> A\""], ["proof (prove)\nusing this:\n  \\<tau>s ! pc \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using x"], ["proof (prove)\nusing this:\n  \\<tau>s ! pc \\<in> A\n  \\<tau>s ! pc = x\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by simp"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> set \\<tau>s \\<Longrightarrow> ?x2 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "hence \"set \\<tau>s \\<subseteq> A\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> set \\<tau>s \\<Longrightarrow> ?x2 \\<in> A\n\ngoal (1 subgoal):\n 1. set \\<tau>s \\<subseteq> A", ".."], ["proof (state)\nthis:\n  set \\<tau>s \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "thus ?thesis"], ["proof (prove)\nusing this:\n  set \\<tau>s \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "by (unfold list_def) simp"], ["proof (state)\nthis:\n  \\<tau>s \\<in> list (length ins) A\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in lbvs) phi0:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and 0: \"0 < size ins\"\n  shows \"s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "proof (cases \"c!0 = \\<bottom>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "case True"], ["proof (state)\nthis:\n  c ! 0 = \\<bottom>\n\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "with 0"], ["proof (chain)\npicking this:\n  0 < length ins\n  c ! 0 = \\<bottom>", "have \"\\<tau>s!0 = wtl (take 0 ins) c 0 s\\<^sub>0\""], ["proof (prove)\nusing this:\n  0 < length ins\n  c ! 0 = \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! 0 = wtl (take 0 ins) c 0 s\\<^sub>0", ".."], ["proof (state)\nthis:\n  \\<tau>s ! 0 = wtl (take 0 ins) c 0 s\\<^sub>0\n\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "moreover"], ["proof (state)\nthis:\n  \\<tau>s ! 0 = wtl (take 0 ins) c 0 s\\<^sub>0\n\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "have \"wtl (take 0 ins) c 0 s\\<^sub>0 = s\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take 0 ins) c 0 s\\<^sub>0 = s\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  wtl (take 0 ins) c 0 s\\<^sub>0 = s\\<^sub>0\n\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<tau>s ! 0 = wtl (take 0 ins) c 0 s\\<^sub>0\n  wtl (take 0 ins) c 0 s\\<^sub>0 = s\\<^sub>0", "have \"\\<tau>s!0 = s\\<^sub>0\""], ["proof (prove)\nusing this:\n  \\<tau>s ! 0 = wtl (take 0 ins) c 0 s\\<^sub>0\n  wtl (take 0 ins) c 0 s\\<^sub>0 = s\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<tau>s ! 0 = s\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  \\<tau>s ! 0 = s\\<^sub>0\n\ngoal (2 subgoals):\n 1. c ! 0 = \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n 2. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>s ! 0 = s\\<^sub>0\n\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "by simp"], ["proof (state)\nthis:\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "case False"], ["proof (state)\nthis:\n  c ! 0 \\<noteq> \\<bottom>\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "with 0"], ["proof (chain)\npicking this:\n  0 < length ins\n  c ! 0 \\<noteq> \\<bottom>", "have \"\\<tau>s!0 = c!0\""], ["proof (prove)\nusing this:\n  0 < length ins\n  c ! 0 \\<noteq> \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<tau>s ! 0 = c ! 0", ".."], ["proof (state)\nthis:\n  \\<tau>s ! 0 = c ! 0\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "moreover"], ["proof (state)\nthis:\n  \\<tau>s ! 0 = c ! 0\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "have \"wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "using wtl"], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "by (rule wtl_take)"], ["proof (state)\nthis:\n  wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "with 0 False"], ["proof (chain)\npicking this:\n  0 < length ins\n  c ! 0 \\<noteq> \\<bottom>\n  wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>", "have \"s\\<^sub>0 \\<sqsubseteq>\\<^sub>r c!0\""], ["proof (prove)\nusing this:\n  0 < length ins\n  c ! 0 \\<noteq> \\<bottom>\n  wtl (take 1 ins) c 0 s\\<^sub>0 \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! 0", "by (auto simp add: neq_Nil_conv wtc split: if_split_asm)"], ["proof (state)\nthis:\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! 0\n\ngoal (1 subgoal):\n 1. c ! 0 \\<noteq> \\<bottom> \\<Longrightarrow>\n    s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<tau>s ! 0 = c ! 0\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>s ! 0 = c ! 0\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> c ! 0\n\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "by simp"], ["proof (state)\nthis:\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "theorem (in lbvs) wtl_sound:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" and s\\<^sub>0: \"s\\<^sub>0 \\<in> A\" \n  shows \"\\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s", "have \"wt_step r \\<top> step \\<tau>s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wt_step r \\<top> step \\<tau>s", "proof (unfold wt_step_def, intro strip conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "fix pc"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "assume \"pc < size \\<tau>s\""], ["proof (state)\nthis:\n  pc < length \\<tau>s\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "then"], ["proof (chain)\npicking this:\n  pc < length \\<tau>s", "obtain pc: \"pc < size ins\""], ["proof (prove)\nusing this:\n  pc < length \\<tau>s\n\ngoal (1 subgoal):\n 1. (pc < length ins \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by simp"], ["proof (state)\nthis:\n  pc < length ins\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "with wtl"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins", "show \"\\<tau>s!pc \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "by (rule phi_not_top)"], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "from wtl s\\<^sub>0 pc"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length ins", "show \"stable r step \\<tau>s pc\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length ins\n\ngoal (1 subgoal):\n 1. stable r step \\<tau>s pc", "by (rule wtl_stable)"], ["proof (state)\nthis:\n  stable r step \\<tau>s pc\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wt_step r \\<top> step \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s", "thus ?thesis"], ["proof (prove)\nusing this:\n  wt_step r \\<top> step \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s", ".."], ["proof (state)\nthis:\n  \\<exists>\\<tau>s. wt_step r \\<top> step \\<tau>s\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "theorem (in lbvs) wtl_sound_strong:\n  assumes wtl: \"wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\" \n  assumes s\\<^sub>0: \"s\\<^sub>0 \\<in> A\" and ins: \"0 < size ins\"\n  shows \"\\<exists>\\<tau>s \\<in> list (size ins) A. wt_step r \\<top> step \\<tau>s \\<and> s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "have \"\\<tau>s \\<in> list (size ins) A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "using wtl s\\<^sub>0"], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<tau>s \\<in> list (length ins) A", "by (rule phi_in_A)"], ["proof (state)\nthis:\n  \\<tau>s \\<in> list (length ins) A\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "moreover"], ["proof (state)\nthis:\n  \\<tau>s \\<in> list (length ins) A\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "have \"wt_step r \\<top> step \\<tau>s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wt_step r \\<top> step \\<tau>s", "proof (unfold wt_step_def, intro strip conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "fix pc"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "assume \"pc < size \\<tau>s\""], ["proof (state)\nthis:\n  pc < length \\<tau>s\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "then"], ["proof (chain)\npicking this:\n  pc < length \\<tau>s", "obtain pc: \"pc < size ins\""], ["proof (prove)\nusing this:\n  pc < length \\<tau>s\n\ngoal (1 subgoal):\n 1. (pc < length ins \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by simp"], ["proof (state)\nthis:\n  pc < length ins\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       p < length \\<tau>s \\<Longrightarrow> \\<tau>s ! p \\<noteq> \\<top>\n 2. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "with wtl"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins", "show \"\\<tau>s!pc \\<noteq> \\<top>\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  pc < length ins\n\ngoal (1 subgoal):\n 1. \\<tau>s ! pc \\<noteq> \\<top>", "by (rule phi_not_top)"], ["proof (state)\nthis:\n  \\<tau>s ! pc \\<noteq> \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>p. p < length \\<tau>s \\<Longrightarrow> stable r step \\<tau>s p", "from wtl s\\<^sub>0 and pc"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length ins", "show \"stable r step \\<tau>s pc\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  s\\<^sub>0 \\<in> A\n  pc < length ins\n\ngoal (1 subgoal):\n 1. stable r step \\<tau>s pc", "by (rule wtl_stable)"], ["proof (state)\nthis:\n  stable r step \\<tau>s pc\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wt_step r \\<top> step \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "moreover"], ["proof (state)\nthis:\n  wt_step r \\<top> step \\<tau>s\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "from wtl ins"], ["proof (chain)\npicking this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  0 < length ins", "have \"s\\<^sub>0 \\<sqsubseteq>\\<^sub>r \\<tau>s!0\""], ["proof (prove)\nusing this:\n  wtl ins c 0 s\\<^sub>0 \\<noteq> \\<top>\n  0 < length ins\n\ngoal (1 subgoal):\n 1. s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "by (rule phi0)"], ["proof (state)\nthis:\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<tau>s \\<in> list (length ins) A\n  wt_step r \\<top> step \\<tau>s\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>s \\<in> list (length ins) A\n  wt_step r \\<top> step \\<tau>s\n  s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<tau>s\\<in>list (length ins) A.\n       wt_step r \\<top> step \\<tau>s \\<and>\n       s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0", "by fast"], ["proof (state)\nthis:\n  \\<exists>\\<tau>s\\<in>list (length ins) A.\n     wt_step r \\<top> step \\<tau>s \\<and>\n     s\\<^sub>0 \\<sqsubseteq>\\<^bsub>r\\<^esub> \\<tau>s ! 0\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "end"]]}