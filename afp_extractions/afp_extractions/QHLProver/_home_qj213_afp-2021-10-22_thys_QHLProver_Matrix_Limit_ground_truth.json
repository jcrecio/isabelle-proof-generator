{"file_name": "/home/qj213/afp-2021-10-22/thys/QHLProver/Matrix_Limit.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/QHLProver", "problem_names": ["lemma limit_mat_unique:\n  assumes limA: \"limit_mat X A m\" and limB: \"limit_mat X B m\"\n  shows \"A = B\"", "lemma limit_mat_const:\n  fixes A :: \"complex mat\"\n  assumes \"A \\<in> carrier_mat m m\"\n  shows \"limit_mat (\\<lambda>k. A) A m\"", "lemma limit_mat_scale:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m\"", "lemma limit_mat_add:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k + Y k) (A + B) m\"", "lemma limit_mat_minus:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k - Y k) (A - B) m\"", "lemma limit_mat_mult:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k * Y k) (A * B) m\"", "lemma mat_add_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_add_seq B X) (B + A) m\"", "lemma mat_minus_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>n. B - X n) (B - A) m\"", "lemma mat_mult_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A B :: \"complex mat\" and m :: nat\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_mult_seq B X) (B * A) m\"", "lemma mult_mat_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A B :: \"complex mat\" and m :: nat\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>k. X k * B) (A * B) m\"", "lemma quadratic_form_mat:\n  fixes A :: \"complex mat\" and v :: \"complex vec\" and m :: nat\n  assumes dimv: \"dim_vec v = m\" and dimA: \"A \\<in> carrier_mat m m\"\n  shows \"inner_prod v (A *\\<^sub>v v) = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m. conjugate (v$i) * A$$(i, j) * v$j))\"", "lemma sum_subtractff:\n  fixes h g :: \"nat \\<Rightarrow> nat \\<Rightarrow>'a::ab_group_add\"\n  shows \"(\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y) - (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. g x y)\"", "lemma sum_abs_complex:\n  fixes h  :: \"nat \\<Rightarrow> nat \\<Rightarrow> complex\"\n  shows \"cmod (\\<Sum>x\\<in>A.\\<Sum>y\\<in>B. h x y) \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod(h x y))\"", "lemma hermitian_mat_lim_is_hermitian:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and herX: \"\\<forall> n. hermitian (X n)\"\n  shows \"hermitian A\"", "lemma quantifier_change_order_once:\n  fixes P :: \"nat \\<Rightarrow> nat \\<Rightarrow> bool\" and m :: nat\n  shows \"\\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow> \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\"", "lemma quantifier_change_order_twice:\n  fixes P :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat \\<Rightarrow> bool\" and m n :: nat\n  shows \"\\<forall>i<m. \\<forall>j<n. \\<exists> no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow> \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\"", "lemma pos_mat_lim_is_pos:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and posX: \"\\<forall>n. positive (X n)\"\n  shows \"positive A\"", "lemma limit_mat_ignore_initial_segment:\n  \"limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d\"", "lemma mat_trace_limit:\n  \"limit_mat g A d \\<Longrightarrow> (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A\"", "lemma lowner_is_lub_dim:\n  assumes \"lowner_is_lub M\"\n  shows \"M \\<in> carrier_mat dim dim\"", "lemma trace_adjoint_eq_u:\n  fixes A :: \"complex mat\"\n  shows \"trace (A * adjoint A) = (\\<Sum> i \\<in> {0 ..< dim_row A}. \\<Sum> j \\<in> {0 ..< dim_col A}. (norm(A $$ (i,j)))\\<^sup>2)\"", "lemma trace_adjoint_element_ineq:\n  fixes A :: \"complex mat\"\n  assumes rindex: \"i \\<in> {0 ..< dim_row A}\"\n     and  cindex: \"j \\<in> {0 ..< dim_col A}\"\n  shows \"(norm(A $$ (i,j)))\\<^sup>2 \\<le> trace (A * adjoint A)\"", "lemma positive_is_normal:\n  fixes A :: \"complex mat\"\n  assumes pos: \"positive A\"\n  shows \"A * adjoint A = adjoint A * A\"", "lemma diag_mat_mul_diag_diag:\n  fixes A B ::  \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat n n\" and dimB: \"B \\<in> carrier_mat n n\"\n    and dA: \"diagonal_mat A\"  and dB: \"diagonal_mat B\"\n  shows \"diagonal_mat (A * B)\"", "lemma diag_mat_mul_diag_ele:\n  fixes A B :: \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat n n\" and dimB: \"B \\<in> carrier_mat n n\"\n    and dA: \"diagonal_mat A\" and dB: \"diagonal_mat B\"\n  shows \"\\<forall>i<n. (A*B) $$ (i,i) = A$$(i, i) * B$$(i, i)\"", "lemma trace_square_less_square_trace:\n  fixes B ::  \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat n n\"\n      and dB: \"diagonal_mat B\" and pB: \"\\<And>i. i < n \\<Longrightarrow> B$$(i, i) \\<ge> 0\"\n    shows \"trace (B*B) \\<le> (trace B)\\<^sup>2\"", "lemma trace_positive_eq:\n   fixes A :: \"complex mat\"\n   assumes pos: \"positive A\"\n   shows \"trace (A * adjoint A) \\<le> (trace A)\\<^sup>2\"", "lemma lowner_le_transitive:\n  fixes m n :: nat\n  assumes re: \"n \\<ge> m\"\n  shows \"positive (f n - f m)\"", "lemma inc_partial_density_operator_converge:\n  assumes  i: \"i \\<in> {0 ..<dim}\" and j: \"j \\<in> {0 ..<dim}\"\n  shows \"convergent (\\<lambda>n. f n $$ (i, j))\"", "lemma pos_mat_lim_is_pos_aux:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and posX: \"\\<exists>k. \\<forall>n\\<ge>k. positive (X n)\"\n  shows \"positive A\"", "lemma minus_mat_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_seq_minus X B) (A - B) m\"", "lemma mat_minus_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (minus_mat_seq B X) (B - A) m\"", "lemma lowner_lub_form:\n  \"lowner_is_lub (mat dim dim (\\<lambda> (i, j). (lim (\\<lambda> n. (f n) $$ (i, j)))))\"", "lemma lowner_lub_exists: \"\\<exists>M. lowner_is_lub M\"", "lemma lowner_lub_unique: \"\\<exists>!M. lowner_is_lub M\"", "lemma lowner_lub_prop: \"lowner_is_lub lowner_lub\"", "lemma lowner_lub_is_limit:\n  \"limit_mat f lowner_lub dim\"", "lemma lowner_lub_trace:\n  assumes \"\\<forall> n. trace (f n) \\<le> x\"\n  shows \"trace lowner_lub \\<le> x\"", "lemma lowner_lub_is_positive:\n  shows \"positive lowner_lub\"", "lemma matrix_sum_dim:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> matrix_sum d f n \\<in> carrier_mat d d\"", "lemma matrix_sum_cong:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow> matrix_sum d f n = matrix_sum d f' n\"", "lemma matrix_sum_add:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\" and  g :: \"nat \\<Rightarrow> 'b::semiring_1 mat\" and  h :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d) \\<Longrightarrow>\n     (\\<And>k. k < n \\<Longrightarrow> f k = g k + h k) \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\"", "lemma matrix_sum_smult:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n        matrix_sum d (\\<lambda> k. c \\<cdot>\\<^sub>m f k) n = c \\<cdot>\\<^sub>m matrix_sum d f n\"", "lemma matrix_sum_remove:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  assumes j: \"j < n\"\n    and df: \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d)\"\n    and f': \"(\\<And>k. f' k = (if k = j then 0\\<^sub>m d d else f k))\"\n  shows \"matrix_sum d f n = f j + matrix_sum d f' n\"", "lemma matrix_sum_Suc_remove_head:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n + 1 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\"", "lemma matrix_sum_positive:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> positive (f k))\n    \\<Longrightarrow> positive (matrix_sum d f n)\"", "lemma matrix_sum_mult_right:\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> A \\<in> carrier_mat d d\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) * A) n = matrix_sum d (\\<lambda>k. f k) n * A\"", "lemma matrix_sum_add_distrib:\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) + (g k)) n = matrix_sum d f n + matrix_sum d g n\"", "lemma matrix_sum_minus_distrib:\n  fixes f g :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) - (g k)) n = matrix_sum d f n - matrix_sum d g n\"", "lemma matrix_sum_shift_Suc:\n  shows \"(\\<And>k. k < (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\"", "lemma lowner_le_matrix_sum:\n  fixes f g :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k)\n    \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\"", "lemma lowner_lub_add:\n  assumes \"matrix_seq d f\" \"matrix_seq d g\" \"\\<forall> n. trace (f n + g n) \\<le> 1\"\n  shows \"matrix_seq.lowner_lub (\\<lambda>n. f n + g n) = matrix_seq.lowner_lub f + matrix_seq.lowner_lub g\"", "lemma lowner_lub_scale:\n  fixes c :: real\n  assumes \"matrix_seq d f\"  \"\\<forall> n. trace (c \\<cdot>\\<^sub>m f n) \\<le> 1\"  \"c\\<ge>0\"\n  shows \"matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n) = c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\"", "lemma trace_matrix_sum_linear:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> trace (matrix_sum d f n) = sum (\\<lambda>k. trace (f k)) {0..<n}\"", "lemma matrix_sum_distrib_left:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"P \\<in> carrier_mat d d \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * (f k)) n = P * (matrix_sum d f n)\"", "lemma measurement_dim:\n  assumes \"measurement d n M\"\n  shows \"\\<And>k. k < n \\<Longrightarrow> (M k) \\<in> carrier_mat d d\"", "lemma measurement_id2:\n  assumes \"measurement d 2 M\"\n  shows \"adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d\"", "lemma add_positive_le_reduce1:\n  assumes dA: \"A \\<in> carrier_mat n n\" and dB: \"B \\<in> carrier_mat n n\" and dC: \"C \\<in> carrier_mat n n\"\n    and pB: \"positive B\" and le: \"A + B \\<le>\\<^sub>L C\"\n  shows \"A \\<le>\\<^sub>L C\"", "lemma add_positive_le_reduce2:\n  assumes dA: \"A \\<in> carrier_mat n n\" and dB: \"B \\<in> carrier_mat n n\" and dC: \"C \\<in> carrier_mat n n\"\n    and pB: \"positive B\" and le: \"B + A \\<le>\\<^sub>L C\"\n  shows \"A \\<le>\\<^sub>L C\"", "lemma measurement_le_one_mat:\n  assumes \"measurement d n f\"\n  shows \"\\<And>j. j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d\"", "lemma pdo_close_under_measurement:\n  fixes M \\<rho> :: \"complex mat\"\n  assumes dM: \"M \\<in> carrier_mat n n\" and dr: \"\\<rho> \\<in> carrier_mat n n\"\n    and pdor: \"partial_density_operator \\<rho>\"\n    and le: \"adjoint M * M \\<le>\\<^sub>L 1\\<^sub>m n\"\n  shows \"partial_density_operator (M * \\<rho> * adjoint M)\"", "lemma trace_measurement:\n  assumes m: \"measurement d n M\" and dA: \"A \\<in> carrier_mat d d\"\n  shows \"trace (matrix_sum d (\\<lambda>k. (M k) * A * adjoint (M k)) n) = trace A\"", "lemma mat_inc_seq_positive_transform:\n  assumes dfn: \"\\<And>n. f n \\<in> carrier_mat d d\"\n    and inc: \"\\<And>n. f n \\<le>\\<^sub>L f (Suc n)\"\n  shows \"\\<And>n. f n - f 0 \\<in> carrier_mat d d\" and \"\\<And>n. (f n - f 0) \\<le>\\<^sub>L (f (Suc n) - f 0)\"", "lemma mat_inc_seq_lub:\n  assumes dfn: \"\\<And>n. f n \\<in> carrier_mat d d\"\n    and inc: \"\\<And>n. f n \\<le>\\<^sub>L f (Suc n)\"\n    and ub: \"\\<And>n. f n \\<le>\\<^sub>L A\"\n  shows \"\\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d\""], "translations": [["", "lemma limit_mat_unique:\n  assumes limA: \"limit_mat X A m\" and limB: \"limit_mat X B m\"\n  shows \"A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. A = B", "have dim: \"A \\<in> carrier_mat m m\" \"B \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m &&& B \\<in> carrier_mat m m", "using limA limB limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat X B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m &&& B \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. A = B", "{"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. A = B", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. A = B", "assume i: \"i < m\" and j: \"j < m\""], ["proof (state)\nthis:\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. A = B", "have \"(\\<lambda> n. (X n) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limit_mat_def limA i j"], ["proof (prove)\nusing this:\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  limit_mat X A m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. A = B", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. A = B", "have \"(\\<lambda> n. (X n) $$ (i, j)) \\<longlonglongrightarrow> (B $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "using limit_mat_def limB i j"], ["proof (prove)\nusing this:\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  limit_mat X B m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n\ngoal (1 subgoal):\n 1. A = B", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "have \"(A $$ (i, j)) = (B $$ (i, j))\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n\ngoal (1 subgoal):\n 1. A $$ (i, j) = B $$ (i, j)", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. A $$ (i, j) = B $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  A $$ (i, j) = B $$ (i, j)\n\ngoal (1 subgoal):\n 1. A = B", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i2, ?j2) = B $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. A = B", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i2, ?j2) = B $$ (?i2, ?j2)", "show \"A = B\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i2, ?j2) = B $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. A = B", "using mat_eq_iff dim"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i2, ?j2) = B $$ (?i2, ?j2)\n  (?x = ?y) =\n  (dim_row ?x = dim_row ?y \\<and>\n   dim_col ?x = dim_col ?y \\<and>\n   (\\<forall>i j.\n       i < dim_row ?y \\<longrightarrow>\n       j < dim_col ?y \\<longrightarrow> ?x $$ (i, j) = ?y $$ (i, j)))\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. A = B", "by auto"], ["proof (state)\nthis:\n  A = B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma limit_mat_const:\n  fixes A :: \"complex mat\"\n  assumes \"A \\<in> carrier_mat m m\"\n  shows \"limit_mat (\\<lambda>k. A) A m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. A) A m", "unfolding limit_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       A \\<in> carrier_mat m m \\<and>\n       A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. A $$ (i, j))\n              \\<longlonglongrightarrow> A $$ (i, j))", "using assms"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       A \\<in> carrier_mat m m \\<and>\n       A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. A $$ (i, j))\n              \\<longlonglongrightarrow> A $$ (i, j))", "by auto"], ["", "lemma limit_mat_scale:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "have dimA: \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "have dimX: \"\\<And>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  X ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "have \"\\<And>i j. i < m \\<Longrightarrow> j < m \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j)) \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "assume i: \"i < m\" and j: \"j < m\""], ["proof (state)\nthis:\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "have \"(\\<lambda>n. (X n) $$ (i, j)) \\<longlonglongrightarrow> A$$(i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limX limit_mat_def i j"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "have \"(\\<lambda>n. c) \\<longlonglongrightarrow> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. c) \\<longlonglongrightarrow> c", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. c) \\<longlonglongrightarrow> c\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. c) \\<longlonglongrightarrow> c", "have \"(\\<lambda>n. c * (X n) $$ (i, j)) \\<longlonglongrightarrow> c * A$$(i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. c) \\<longlonglongrightarrow> c\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. c * X n $$ (i, j))\n    \\<longlonglongrightarrow> c * A $$ (i, j)", "using tendsto_mult[of \"\\<lambda>n. c\" c] limX limit_mat_def"], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. c) \\<longlonglongrightarrow> c\n  \\<lbrakk>((\\<lambda>n. c) \\<longlongrightarrow> c) ?F;\n   (?g \\<longlongrightarrow> ?b) ?F\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. c * ?g x) \\<longlongrightarrow> c * ?b) ?F\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. c * X n $$ (i, j))\n    \\<longlonglongrightarrow> c * A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. c * X n $$ (i, j)) \\<longlonglongrightarrow> c * A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. c * X n $$ (i, j)) \\<longlonglongrightarrow> c * A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "have \"(c \\<cdot>\\<^sub>m X n) $$ (i, j) = c * (X n) $$ (i, j)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c \\<cdot>\\<^sub>m X n) $$ (i, j) = c * X n $$ (i, j)", "using index_smult_mat(1)[of i \"X n\" j c] i j dimX[of n]"], ["proof (prove)\nusing this:\n  \\<lbrakk>i < dim_row (X n); j < dim_col (X n)\\<rbrakk>\n  \\<Longrightarrow> (c \\<cdot>\\<^sub>m X n) $$ (i, j) = c * X n $$ (i, j)\n  i < m\n  j < m\n  X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (c \\<cdot>\\<^sub>m X n) $$ (i, j) = c * X n $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (c \\<cdot>\\<^sub>m X ?n) $$ (i, j) = c * X ?n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "moreover"], ["proof (state)\nthis:\n  (c \\<cdot>\\<^sub>m X ?n) $$ (i, j) = c * X ?n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "have \"(c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)", "using index_smult_mat(1)[of i \"A\" j c] i j dimA"], ["proof (prove)\nusing this:\n  \\<lbrakk>i < dim_row A; j < dim_col A\\<rbrakk>\n  \\<Longrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)\n  i < m\n  j < m\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n                         \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n             (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. c * X n $$ (i, j)) \\<longlonglongrightarrow> c * A $$ (i, j)\n  (c \\<cdot>\\<^sub>m X ?n) $$ (i, j) = c * X ?n $$ (i, j)\n  (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)", "show \"(\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j)) \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. c * X n $$ (i, j)) \\<longlonglongrightarrow> c * A $$ (i, j)\n  (c \\<cdot>\\<^sub>m X ?n) $$ (i, j) = c * X ?n $$ (i, j)\n  (c \\<cdot>\\<^sub>m A) $$ (i, j) = c * A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n  \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n        (?i, ?j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       c \\<cdot>\\<^sub>m X n \\<in> carrier_mat m m \\<and>\n       c \\<cdot>\\<^sub>m A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n              \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j))", "using dimA dimX"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$\n        (?i, ?j)\n  A \\<in> carrier_mat m m\n  X ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       c \\<cdot>\\<^sub>m X n \\<in> carrier_mat m m \\<and>\n       c \\<cdot>\\<^sub>m A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (c \\<cdot>\\<^sub>m X n) $$ (i, j))\n              \\<longlonglongrightarrow> (c \\<cdot>\\<^sub>m A) $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m X n) (c \\<cdot>\\<^sub>m A) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma limit_mat_add:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k + Y k) (A + B) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "have dimA: \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "have dimB: \"B \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "using limY limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "have dimX: \"\\<And>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  X ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "have dimY: \"\\<And>n. Y n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "using limY"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     Y n \\<in> carrier_mat m m \\<and>\n     B \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. Y n $$ (i, j))\n            \\<longlonglongrightarrow> B $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "then"], ["proof (chain)\npicking this:\n  Y ?n \\<in> carrier_mat m m", "have dimXAB: \"\\<forall>n. X n + Y n \\<in> carrier_mat m m \\<and> A + B \\<in> carrier_mat m m\""], ["proof (prove)\nusing this:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n + Y n \\<in> carrier_mat m m \\<and> A + B \\<in> carrier_mat m m", "using dimA dimB dimX dimY"], ["proof (prove)\nusing this:\n  Y ?n \\<in> carrier_mat m m\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n  X ?n \\<in> carrier_mat m m\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n + Y n \\<in> carrier_mat m m \\<and> A + B \\<in> carrier_mat m m", "by (simp)"], ["proof (state)\nthis:\n  \\<forall>n.\n     X n + Y n \\<in> carrier_mat m m \\<and> A + B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "have \"(\\<And>i j. i < m \\<Longrightarrow> j < m \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j)) \\<longlonglongrightarrow> (A + B) $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "assume i: \"i < m\" and j: \"j < m\""], ["proof (state)\nthis:\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "have \"(\\<lambda>n. (X n) $$ (i, j)) \\<longlonglongrightarrow> A$$(i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limX limit_mat_def i j"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "have \"(\\<lambda>n. (Y n) $$ (i, j)) \\<longlonglongrightarrow> B$$(i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "using limY limit_mat_def i j"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)", "have \"(\\<lambda>n. (X n)$$(i, j) + (Y n) $$ (i, j)) \\<longlonglongrightarrow> (A$$(i, j) + B$$(i, j))\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n    \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)", "using tendsto_add[of \"\\<lambda>n. (X n) $$ (i, j)\" \"A $$ (i, j)\"]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  (\\<lambda>n. Y n $$ (i, j)) \\<longlonglongrightarrow> B $$ (i, j)\n  \\<lbrakk>((\\<lambda>n. X n $$ (i, j)) \\<longlongrightarrow> A $$ (i, j))\n            ?F;\n   (?g \\<longlongrightarrow> ?b) ?F\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x.\n                         X x $$ (i, j) + ?g x) \\<longlongrightarrow>\n                     A $$ (i, j) + ?b)\n                     ?F\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n    \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n  \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n  \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "have \"(X n + Y n) $$ (i, j) = (X n)$$(i, j) + (Y n) $$ (i, j)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (X n + Y n) $$ (i, j) = X n $$ (i, j) + Y n $$ (i, j)", "using i j dimX dimY index_add_mat(1)[of i \"Y n\" j \"X n\"]"], ["proof (prove)\nusing this:\n  i < m\n  j < m\n  X ?n \\<in> carrier_mat m m\n  Y ?n \\<in> carrier_mat m m\n  \\<lbrakk>i < dim_row (Y n); j < dim_col (Y n)\\<rbrakk>\n  \\<Longrightarrow> (X n + Y n) $$ (i, j) = X n $$ (i, j) + Y n $$ (i, j)\n\ngoal (1 subgoal):\n 1. (X n + Y n) $$ (i, j) = X n $$ (i, j) + Y n $$ (i, j)", "by fastforce"], ["proof (state)\nthis:\n  (X ?n + Y ?n) $$ (i, j) = X ?n $$ (i, j) + Y ?n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  (X ?n + Y ?n) $$ (i, j) = X ?n $$ (i, j) + Y ?n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "have \"(A + B) $$ (i, j) = A$$(i, j) + B$$(i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A + B) $$ (i, j) = A $$ (i, j) + B $$ (i, j)", "using i j dimA dimB"], ["proof (prove)\nusing this:\n  i < m\n  j < m\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (A + B) $$ (i, j) = A $$ (i, j) + B $$ (i, j)", "by fastforce"], ["proof (state)\nthis:\n  (A + B) $$ (i, j) = A $$ (i, j) + B $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A + B) $$ (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n  \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)\n  (X ?n + Y ?n) $$ (i, j) = X ?n $$ (i, j) + Y ?n $$ (i, j)\n  (A + B) $$ (i, j) = A $$ (i, j) + B $$ (i, j)", "show \"(\\<lambda>n. (X n + Y n) $$ (i, j)) \\<longlonglongrightarrow> (A + B) $$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j) + Y n $$ (i, j))\n  \\<longlonglongrightarrow> A $$ (i, j) + B $$ (i, j)\n  (X ?n + Y ?n) $$ (i, j) = X ?n $$ (i, j) + Y ?n $$ (i, j)\n  (A + B) $$ (i, j) = A $$ (i, j) + B $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n + Y n) $$ (i, j))\n    \\<longlonglongrightarrow> (A + B) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (X n + Y n) $$ (i, j))\n  \\<longlonglongrightarrow> (A + B) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A + B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A + B) $$ (?i, ?j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A + B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k + Y k) (A + B) m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A + B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n + Y n \\<in> carrier_mat m m \\<and>\n       A + B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n + Y n) $$ (i, j))\n              \\<longlonglongrightarrow> (A + B) $$ (i, j))", "using dimXAB"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n + Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A + B) $$ (?i, ?j)\n  \\<forall>n.\n     X n + Y n \\<in> carrier_mat m m \\<and> A + B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n + Y n \\<in> carrier_mat m m \\<and>\n       A + B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n + Y n) $$ (i, j))\n              \\<longlonglongrightarrow> (A + B) $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>k. X k + Y k) (A + B) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma limit_mat_minus:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k - Y k) (A - B) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have dimA: \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have dimB: \"B \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "using limY limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have dimX: \"\\<And>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  X ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have dimY: \"\\<And>n. Y n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "using limY"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     Y n \\<in> carrier_mat m m \\<and>\n     B \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. Y n $$ (i, j))\n            \\<longlonglongrightarrow> B $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have \"-1 \\<cdot>\\<^sub>m Y n = - Y n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 \\<cdot>\\<^sub>m Y n = - Y n", "using dimY"], ["proof (prove)\nusing this:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. - 1 \\<cdot>\\<^sub>m Y n = - Y n", "by auto"], ["proof (state)\nthis:\n  - 1 \\<cdot>\\<^sub>m Y ?n = - Y ?n\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "moreover"], ["proof (state)\nthis:\n  - 1 \\<cdot>\\<^sub>m Y ?n = - Y ?n\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have \"-1 \\<cdot>\\<^sub>m B = - B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 \\<cdot>\\<^sub>m B = - B", "using dimB"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. - 1 \\<cdot>\\<^sub>m B = - B", "by auto"], ["proof (state)\nthis:\n  - 1 \\<cdot>\\<^sub>m B = - B\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "ultimately"], ["proof (chain)\npicking this:\n  - 1 \\<cdot>\\<^sub>m Y ?n = - Y ?n\n  - 1 \\<cdot>\\<^sub>m B = - B", "have \"limit_mat (\\<lambda>n. - Y n) (- B) m\""], ["proof (prove)\nusing this:\n  - 1 \\<cdot>\\<^sub>m Y ?n = - Y ?n\n  - 1 \\<cdot>\\<^sub>m B = - B\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. - Y n) (- B) m", "using limit_mat_scale[OF limY, of \"-1\"]"], ["proof (prove)\nusing this:\n  - 1 \\<cdot>\\<^sub>m Y ?n = - Y ?n\n  - 1 \\<cdot>\\<^sub>m B = - B\n  limit_mat (\\<lambda>n. - 1 \\<cdot>\\<^sub>m Y n) (- 1 \\<cdot>\\<^sub>m B) m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. - Y n) (- B) m", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. - Y n) (- B) m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "then"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. - Y n) (- B) m", "have \"limit_mat (\\<lambda>n. X n + (- Y n)) (A + (- B)) m\""], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. - Y n) (- B) m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m", "using limit_mat_add limX"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. - Y n) (- B) m\n  \\<lbrakk>limit_mat ?X ?A ?m; limit_mat ?Y ?B ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>k. ?X k + ?Y k) (?A + ?B) ?m\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "moreover"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have \"X n + (- Y n) = X n - Y n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. X n + - Y n = X n - Y n", "using dimX dimY"], ["proof (prove)\nusing this:\n  X ?n \\<in> carrier_mat m m\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. X n + - Y n = X n - Y n", "by auto"], ["proof (state)\nthis:\n  X ?n + - Y ?n = X ?n - Y ?n\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "moreover"], ["proof (state)\nthis:\n  X ?n + - Y ?n = X ?n - Y ?n\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "have \"A + (- B) = A - B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A + - B = A - B", "by auto"], ["proof (state)\nthis:\n  A + - B = A - B\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "ultimately"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m\n  X ?n + - Y ?n = X ?n - Y ?n\n  A + - B = A - B", "show ?thesis"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. X n + - Y n) (A + - B) m\n  X ?n + - Y ?n = X ?n - Y ?n\n  A + - B = A - B\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k - Y k) (A - B) m", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>k. X k - Y k) (A - B) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma limit_mat_mult:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and Y :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\"\n    and m :: nat and B :: \"complex mat\"\n  assumes limX: \"limit_mat X A m\" and limY: \"limit_mat Y B m\"\n  shows \"limit_mat (\\<lambda>k. X k * Y k) (A * B) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "have dimA: \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "have dimB: \"B \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "using limY limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "have dimX: \"\\<And>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  X ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "have dimY: \"\\<And>n. Y n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "using limY"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     Y n \\<in> carrier_mat m m \\<and>\n     B \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. Y n $$ (i, j))\n            \\<longlonglongrightarrow> B $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>n. Y n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "then"], ["proof (chain)\npicking this:\n  Y ?n \\<in> carrier_mat m m", "have dimXAB: \"\\<forall>n. X n * Y n \\<in> carrier_mat m m \\<and> A * B \\<in> carrier_mat m m\""], ["proof (prove)\nusing this:\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n * Y n \\<in> carrier_mat m m \\<and> A * B \\<in> carrier_mat m m", "using dimA dimB dimX dimY"], ["proof (prove)\nusing this:\n  Y ?n \\<in> carrier_mat m m\n  A \\<in> carrier_mat m m\n  B \\<in> carrier_mat m m\n  X ?n \\<in> carrier_mat m m\n  Y ?n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n * Y n \\<in> carrier_mat m m \\<and> A * B \\<in> carrier_mat m m", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>n.\n     X n * Y n \\<in> carrier_mat m m \\<and> A * B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "have \"(\\<And>i j. i < m \\<Longrightarrow> j < m \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j)) \\<longlonglongrightarrow> (A * B) $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "assume i: \"i < m\" and j: \"j < m\""], ["proof (state)\nthis:\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "have eqn: \"(X n * Y n) $$ (i, j) = (\\<Sum>k=0..<m. (X n)$$(i, k) * (Y n)$$(k, j))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (X n * Y n) $$ (i, j) = (\\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))", "using i j dimX[of n] dimY[of n]"], ["proof (prove)\nusing this:\n  i < m\n  j < m\n  X n \\<in> carrier_mat m m\n  Y n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (X n * Y n) $$ (i, j) = (\\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))", "by (auto simp add: scalar_prod_def)"], ["proof (state)\nthis:\n  (X ?n * Y ?n) $$ (i, j) =\n  (\\<Sum>k = 0..<m. X ?n $$ (i, k) * Y ?n $$ (k, j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "have eq: \"(A * B) $$ (i, j) = (\\<Sum>k=0..<m. A$$(i,k) * B$$(k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A * B) $$ (i, j) = (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))", "using i j dimB dimA"], ["proof (prove)\nusing this:\n  i < m\n  j < m\n  B \\<in> carrier_mat m m\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (A * B) $$ (i, j) = (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))", "by (auto simp add: scalar_prod_def)"], ["proof (state)\nthis:\n  (A * B) $$ (i, j) = (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "have \"(\\<lambda>n. (X n) $$ (i, k)) \\<longlonglongrightarrow> A$$(i, k)\" if \"k < m\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, k)) \\<longlonglongrightarrow> A $$ (i, k)", "using limX limit_mat_def that i"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  k < m\n  i < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, k)) \\<longlonglongrightarrow> A $$ (i, k)", "by auto"], ["proof (state)\nthis:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k)) \\<longlonglongrightarrow> A $$ (i, ?k)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k)) \\<longlonglongrightarrow> A $$ (i, ?k)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "have \"(\\<lambda>n. (Y n) $$ (k, j)) \\<longlonglongrightarrow> B$$(k, j)\" if \"k < m\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. Y n $$ (k, j)) \\<longlonglongrightarrow> B $$ (k, j)", "using limY limit_mat_def that j"], ["proof (prove)\nusing this:\n  limit_mat Y B m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  k < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. Y n $$ (k, j)) \\<longlonglongrightarrow> B $$ (k, j)", "by auto"], ["proof (state)\nthis:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. Y n $$ (?k, j)) \\<longlonglongrightarrow> B $$ (?k, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k)) \\<longlonglongrightarrow> A $$ (i, ?k)\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. Y n $$ (?k, j)) \\<longlonglongrightarrow> B $$ (?k, j)", "have \"(\\<lambda>n. (X n)$$(i, k) * (Y n)$$(k,j)) \\<longlonglongrightarrow> A$$(i, k) * B$$(k, j)\" if \"k < m\" for k"], ["proof (prove)\nusing this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k)) \\<longlonglongrightarrow> A $$ (i, ?k)\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. Y n $$ (?k, j)) \\<longlonglongrightarrow> B $$ (?k, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, k) * Y n $$ (k, j))\n    \\<longlonglongrightarrow> A $$ (i, k) * B $$ (k, j)", "using tendsto_mult[of \"\\<lambda>n. (X n) $$ (i, k)\" \"A$$(i, k)\" _ \"\\<lambda>n. (Y n)$$(k, j)\" \"B$$(k, j)\"] that"], ["proof (prove)\nusing this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k)) \\<longlonglongrightarrow> A $$ (i, ?k)\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. Y n $$ (?k, j)) \\<longlonglongrightarrow> B $$ (?k, j)\n  \\<lbrakk>((\\<lambda>n. X n $$ (i, k)) \\<longlongrightarrow> A $$ (i, k))\n            ?F;\n   ((\\<lambda>n. Y n $$ (k, j)) \\<longlongrightarrow> B $$ (k, j))\n    ?F\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x.\n                         X x $$ (i, k) *\n                         Y x $$ (k, j)) \\<longlongrightarrow>\n                     A $$ (i, k) * B $$ (k, j))\n                     ?F\n  k < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, k) * Y n $$ (k, j))\n    \\<longlonglongrightarrow> A $$ (i, k) * B $$ (k, j)", "by auto"], ["proof (state)\nthis:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k) * Y n $$ (?k, j))\n  \\<longlonglongrightarrow> A $$ (i, ?k) * B $$ (?k, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k) * Y n $$ (?k, j))\n  \\<longlonglongrightarrow> A $$ (i, ?k) * B $$ (?k, j)", "have \"(\\<lambda>n. (\\<Sum>k=0..<m. (X n)$$(i,k) * (Y n)$$(k,j))) \\<longlonglongrightarrow> (\\<Sum>k=0..<m. A$$(i,k) * B$$(k,j))\""], ["proof (prove)\nusing this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k) * Y n $$ (?k, j))\n  \\<longlonglongrightarrow> A $$ (i, ?k) * B $$ (?k, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n    \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))", "using tendsto_sum[of \"{0..<m}\" \"\\<lambda>k n. (X n)$$(i,k) * (Y n)$$(k,j)\" \"\\<lambda>k. A$$(i, k) * B$$(k, j)\"]"], ["proof (prove)\nusing this:\n  ?k < m \\<Longrightarrow>\n  (\\<lambda>n. X n $$ (i, ?k) * Y n $$ (?k, j))\n  \\<longlonglongrightarrow> A $$ (i, ?k) * B $$ (?k, j)\n  (\\<And>ia.\n      ia \\<in> {0..<m} \\<Longrightarrow>\n      ((\\<lambda>n. X n $$ (i, ia) * Y n $$ (ia, j)) \\<longlongrightarrow>\n       A $$ (i, ia) * B $$ (ia, j))\n       ?F) \\<Longrightarrow>\n  ((\\<lambda>x.\n       \\<Sum>ia = 0..<m.\n          X x $$ (i, ia) * Y x $$ (ia, j)) \\<longlongrightarrow>\n   (\\<Sum>ia = 0..<m. A $$ (i, ia) * B $$ (ia, j)))\n   ?F\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n    \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < m; j < m\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (i, j))\n                         \\<longlonglongrightarrow> (A * B) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))", "show \"(\\<lambda>n. (X n * Y n) $$ (i, j)) \\<longlonglongrightarrow> (A * B) $$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n * Y n) $$ (i, j))\n    \\<longlonglongrightarrow> (A * B) $$ (i, j)", "using eqn eq"], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>k = 0..<m. X n $$ (i, k) * Y n $$ (k, j))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))\n  (X ?n * Y ?n) $$ (i, j) =\n  (\\<Sum>k = 0..<m. X ?n $$ (i, k) * Y ?n $$ (k, j))\n  (A * B) $$ (i, j) = (\\<Sum>k = 0..<m. A $$ (i, k) * B $$ (k, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n * Y n) $$ (i, j))\n    \\<longlonglongrightarrow> (A * B) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (X n * Y n) $$ (i, j))\n  \\<longlonglongrightarrow> (A * B) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A * B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A * B) $$ (?i, ?j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A * B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * Y k) (A * B) m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A * B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n * Y n \\<in> carrier_mat m m \\<and>\n       A * B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n * Y n) $$ (i, j))\n              \\<longlonglongrightarrow> (A * B) $$ (i, j))", "using dimXAB"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n * Y n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A * B) $$ (?i, ?j)\n  \\<forall>n.\n     X n * Y n \\<in> carrier_mat m m \\<and> A * B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n * Y n \\<in> carrier_mat m m \\<and>\n       A * B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n * Y n) $$ (i, j))\n              \\<longlonglongrightarrow> (A * B) $$ (i, j))", "by fastforce"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>k. X k * Y k) (A * B) m\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Adding matrix A to the sequence X\\<close>"], ["", "definition mat_add_seq ::  \"complex mat \\<Rightarrow> (nat \\<Rightarrow> complex mat) \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n  \"mat_add_seq A X = (\\<lambda>n. A + X n)\""], ["", "lemma mat_add_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_add_seq B X) (B + A) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (mat_add_seq B X) (B + A) m", "unfolding mat_add_seq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B + X n) (B + A) m", "using limit_mat_add limit_mat_const[OF dimB] limX"], ["proof (prove)\nusing this:\n  \\<lbrakk>limit_mat ?X ?A ?m; limit_mat ?Y ?B ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>k. ?X k + ?Y k) (?A + ?B) ?m\n  limit_mat (\\<lambda>k. B) B m\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B + X n) (B + A) m", "by auto"], ["", "lemma mat_minus_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>n. B - X n) (B - A) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B - X n) (B - A) m", "using limit_mat_minus limit_mat_const[OF dimB] limX"], ["proof (prove)\nusing this:\n  \\<lbrakk>limit_mat ?X ?A ?m; limit_mat ?Y ?B ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>k. ?X k - ?Y k) (?A - ?B) ?m\n  limit_mat (\\<lambda>k. B) B m\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B - X n) (B - A) m", "by auto"], ["", "text \\<open>Multiply matrix A by the sequence X\\<close>"], ["", "definition mat_mult_seq ::  \"complex mat \\<Rightarrow> (nat \\<Rightarrow> complex mat) \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n  \"mat_mult_seq A X = (\\<lambda>n. A * X n)\""], ["", "lemma mat_mult_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A B :: \"complex mat\" and m :: nat\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_mult_seq B X) (B * A) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (mat_mult_seq B X) (B * A) m", "unfolding mat_mult_seq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B * X n) (B * A) m", "using limit_mat_mult limit_mat_const[OF dimB] limX"], ["proof (prove)\nusing this:\n  \\<lbrakk>limit_mat ?X ?A ?m; limit_mat ?Y ?B ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>k. ?X k * ?Y k) (?A * ?B) ?m\n  limit_mat (\\<lambda>k. B) B m\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. B * X n) (B * A) m", "by auto"], ["", "lemma mult_mat_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A B :: \"complex mat\" and m :: nat\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (\\<lambda>k. X k * B) (A * B) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * B) (A * B) m", "unfolding mat_mult_seq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * B) (A * B) m", "using limit_mat_mult limit_mat_const[OF dimB] limX"], ["proof (prove)\nusing this:\n  \\<lbrakk>limit_mat ?X ?A ?m; limit_mat ?Y ?B ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>k. ?X k * ?Y k) (?A * ?B) ?m\n  limit_mat (\\<lambda>k. B) B m\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>k. X k * B) (A * B) m", "by auto"], ["", "lemma quadratic_form_mat:\n  fixes A :: \"complex mat\" and v :: \"complex vec\" and m :: nat\n  assumes dimv: \"dim_vec v = m\" and dimA: \"A \\<in> carrier_mat m m\"\n  shows \"inner_prod v (A *\\<^sub>v v) = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m. conjugate (v$i) * A$$(i, j) * v$j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "have  \"inner_prod v (A *\\<^sub>v v) = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.\n                conjugate (v$i) * A$$(i, j) * v$j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "unfolding scalar_prod_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec (conjugate v).\n        (A *\\<^sub>v v) $ i * conjugate v $ i) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "using dimv dimA"], ["proof (prove)\nusing this:\n  dim_vec v = m\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec (conjugate v).\n        (A *\\<^sub>v v) $ i * conjugate v $ i) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "apply (simp add: scalar_prod_def sum_distrib_right)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>dim_vec v = m; A \\<in> carrier_mat m m\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>i = 0..<m.\n                          \\<Sum>n = 0..<m.\n                             A $$ (i, n) * v $ n * cnj (v $ i)) =\n                      (\\<Sum>i = 0..<m.\n                          \\<Sum>j = 0..<m.\n                             cnj (v $ i) * A $$ (i, j) * v $ j)", "apply (rule sum.cong, auto, rule sum.cong, auto)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "then"], ["proof (chain)\npicking this:\n  inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "show ?thesis"], ["proof (prove)\nusing this:\n  inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "by auto"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sum_subtractff:\n  fixes h g :: \"nat \\<Rightarrow> nat \\<Rightarrow>'a::ab_group_add\"\n  shows \"(\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y) - (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. g x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "have \"\\<forall> x \\<in> A. (\\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>y\\<in>B. h x y) - (\\<Sum>y\\<in>B. g x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "assume x: \"x \\<in> A\""], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "have \"(\\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>y\\<in>B. h x y) - (\\<Sum>y\\<in>B. g x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "using sum_subtractf"], ["proof (prove)\nusing this:\n  (\\<Sum>x\\<in>?A. ?f x - ?g x) = sum ?f ?A - sum ?g ?A\n\ngoal (1 subgoal):\n 1. (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> A \\<Longrightarrow>\n  (\\<Sum>y\\<in>B. h ?x2 y - g ?x2 y) = sum (h ?x2) B - sum (g ?x2) B\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "then"], ["proof (chain)\npicking this:\n  ?x2 \\<in> A \\<Longrightarrow>\n  (\\<Sum>y\\<in>B. h ?x2 y - g ?x2 y) = sum (h ?x2) B - sum (g ?x2) B", "show ?thesis"], ["proof (prove)\nusing this:\n  ?x2 \\<in> A \\<Longrightarrow>\n  (\\<Sum>y\\<in>B. h ?x2 y - g ?x2 y) = sum (h ?x2) B - sum (g ?x2) B\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "using sum_subtractf"], ["proof (prove)\nusing this:\n  ?x2 \\<in> A \\<Longrightarrow>\n  (\\<Sum>y\\<in>B. h ?x2 y - g ?x2 y) = sum (h ?x2) B - sum (g ?x2) B\n  (\\<Sum>x\\<in>?A. ?f x - ?g x) = sum ?f ?A - sum ?g ?A\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "by blast"], ["proof (state)\nthis:\n  \\<forall>x\\<in>A.\n     (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>A.\n     (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "then"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>A.\n     (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B", "have \"(\\<Sum>x\\<in>A.\\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>x\\<in>A. ((\\<Sum>y\\<in>B. h x y) - (\\<Sum>y\\<in>B. g x y)))\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>A.\n     (\\<Sum>y\\<in>B. h x y - g x y) = sum (h x) B - sum (g x) B\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B - sum (g x) B)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B - sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B - sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "have \"\\<dots> = (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y) - (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. g x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. sum (h x) B - sum (g x) B) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "by (simp add: sum_subtractf)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. sum (h x) B - sum (g x) B) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "have \" (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) = (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\""], ["proof (prove)\nusing this:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n    (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y - g x y) =\n  (\\<Sum>x\\<in>A. sum (h x) B) - (\\<Sum>x\\<in>A. sum (g x) B)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sum_abs_complex:\n  fixes h  :: \"nat \\<Rightarrow> nat \\<Rightarrow> complex\"\n  shows \"cmod (\\<Sum>x\\<in>A.\\<Sum>y\\<in>B. h x y) \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod(h x y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "have B: \"\\<forall> x \\<in> A. cmod( \\<Sum>y\\<in>B .h x y) \\<le> (\\<Sum>y\\<in>B. cmod(h x y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A. cmod (sum (h x) B) \\<le> (\\<Sum>y\\<in>B. cmod (h x y))", "using sum_abs norm_sum"], ["proof (prove)\nusing this:\n  \\<bar>sum ?f ?A\\<bar> \\<le> (\\<Sum>i\\<in>?A. \\<bar>?f i\\<bar>)\n  norm (sum ?f ?A) \\<le> (\\<Sum>i\\<in>?A. norm (?f i))\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A. cmod (sum (h x) B) \\<le> (\\<Sum>y\\<in>B. cmod (h x y))", "by blast"], ["proof (state)\nthis:\n  \\<forall>x\\<in>A. cmod (sum (h x) B) \\<le> (\\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "have \"cmod (\\<Sum>x\\<in>A.\\<Sum>y\\<in>B. h x y) \\<le> (\\<Sum>x\\<in>A.  cmod( \\<Sum>y\\<in>B .h x y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. cmod (sum (h x) B))", "using sum_abs norm_sum"], ["proof (prove)\nusing this:\n  \\<bar>sum ?f ?A\\<bar> \\<le> (\\<Sum>i\\<in>?A. \\<bar>?f i\\<bar>)\n  norm (sum ?f ?A) \\<le> (\\<Sum>i\\<in>?A. norm (?f i))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. cmod (sum (h x) B))", "by blast"], ["proof (state)\nthis:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. cmod (sum (h x) B))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "also"], ["proof (state)\nthis:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. cmod (sum (h x) B))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "have \"\\<dots> \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod(h x y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. cmod (sum (h x) B))\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "using sum_abs norm_sum B"], ["proof (prove)\nusing this:\n  \\<bar>sum ?f ?A\\<bar> \\<le> (\\<Sum>i\\<in>?A. \\<bar>?f i\\<bar>)\n  norm (sum ?f ?A) \\<le> (\\<Sum>i\\<in>?A. norm (?f i))\n  \\<forall>x\\<in>A. cmod (sum (h x) B) \\<le> (\\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>A. cmod (sum (h x) B))\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "by (simp add: sum_mono)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>A. cmod (sum (h x) B))\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "finally"], ["proof (chain)\npicking this:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "have \"cmod (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. h x y) \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\""], ["proof (prove)\nusing this:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "by auto"], ["proof (state)\nthis:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "then"], ["proof (chain)\npicking this:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\n\ngoal (1 subgoal):\n 1. cmod (\\<Sum>x\\<in>A. sum (h x) B)\n    \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))", "by auto"], ["proof (state)\nthis:\n  cmod (\\<Sum>x\\<in>A. sum (h x) B)\n  \\<le> (\\<Sum>x\\<in>A. \\<Sum>y\\<in>B. cmod (h x y))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hermitian_mat_lim_is_hermitian:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and herX: \"\\<forall> n. hermitian (X n)\"\n  shows \"hermitian A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hermitian A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. hermitian A", "have  dimX: \"\\<forall>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. hermitian A", "have dimA : \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. hermitian A", "from herX"], ["proof (chain)\npicking this:\n  \\<forall>n. hermitian (X n)", "have herXn: \"\\<forall> n. adjoint (X n) = (X n)\""], ["proof (prove)\nusing this:\n  \\<forall>n. hermitian (X n)\n\ngoal (1 subgoal):\n 1. \\<forall>n. adjoint (X n) = X n", "unfolding hermitian_def"], ["proof (prove)\nusing this:\n  \\<forall>n. adjoint (X n) = X n\n\ngoal (1 subgoal):\n 1. \\<forall>n. adjoint (X n) = X n", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. adjoint (X n) = X n\n\ngoal (1 subgoal):\n 1. hermitian A", "from limX"], ["proof (chain)\npicking this:\n  limit_mat X A m", "have limXn: \"\\<forall>i<m. \\<forall>j<m. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. hermitian A", "have \"\\<forall>i<m. \\<forall>j<m.(adjoint A)$$ (i, j) = A$$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "assume i: \"i < m\" and j: \"j < m\""], ["proof (state)\nthis:\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "have aij: \"(adjoint A)$$ (i, j) = conjugate (A $$ (j,i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint A $$ (i, j) = conjugate (A $$ (j, i))", "using adjoint_eval i j dimA"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < dim_col ?A; ?j < dim_row ?A\\<rbrakk>\n  \\<Longrightarrow> adjoint ?A $$ (?i, ?j) = conjugate (?A $$ (?j, ?i))\n  i < m\n  j < m\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. adjoint A $$ (i, j) = conjugate (A $$ (j, i))", "by blast"], ["proof (state)\nthis:\n  adjoint A $$ (i, j) = conjugate (A $$ (j, i))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "have ij: \"(\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limXn i j"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "have ji: \"(\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)", "using limXn i j"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)", "have \"\\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "fix r :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "assume r : \"r > 0\""], ["proof (state)\nthis:\n  0 < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "have \"\\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r", "using ji r"], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (j, i)) \\<longlonglongrightarrow> A $$ (j, i)\n  0 < r\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r", "unfolding  LIMSEQ_def dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n  0 < r\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "then"], ["proof (chain)\npicking this:\n  \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r", "obtain no where Xji: \"\\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\""], ["proof (prove)\nusing this:\n  \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           cmod (X n $$ (j, i) - A $$ (j, i)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r", "have \"\\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r", "using complex_mod_cnj conjugate_complex_def"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (j, i) - A $$ (j, i)) < r\n  cmod (cnj ?z) = cmod ?z\n  conjugate \\<equiv> cnj\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r", "by presburger"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r", "have \"\\<forall>n\\<ge>no. dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "unfolding dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (conjugate (X n $$ (j, i) - A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (conjugate (X n $$ (j, i)) - conjugate (A $$ (j, i))) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no.\n     dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no.\n     dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "have \"\\<exists>no. \\<forall>n\\<ge>no. dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no.\n     dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "}"], ["proof (state)\nthis:\n  0 < ?r2 \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < ?r2\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (j, i))\n    \\<longlonglongrightarrow> A $$ (j, i) \\<Longrightarrow>\n    \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "then"], ["proof (chain)\npicking this:\n  0 < ?r2 \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < ?r2", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < ?r2 \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < ?r2\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "have conjX: \"(\\<lambda>n. conjugate (X n $$ (j, i))) \\<longlonglongrightarrow>  conjugate (A $$ (j, i))\""], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. conjugate (X n $$ (j, i)))\n    \\<longlonglongrightarrow> conjugate (A $$ (j, i))", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (conjugate (X n $$ (j, i))) (conjugate (A $$ (j, i))) < r", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. conjugate (X n $$ (j, i)))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "from herXn"], ["proof (chain)\npicking this:\n  \\<forall>n. adjoint (X n) = X n", "have \"\\<forall> n. conjugate (X n $$ (j,i)) = X n$$ (i, j)\""], ["proof (prove)\nusing this:\n  \\<forall>n. adjoint (X n) = X n\n\ngoal (1 subgoal):\n 1. \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)", "using adjoint_eval i j dimX"], ["proof (prove)\nusing this:\n  \\<forall>n. adjoint (X n) = X n\n  \\<lbrakk>?i < dim_col ?A; ?j < dim_row ?A\\<rbrakk>\n  \\<Longrightarrow> adjoint ?A $$ (?i, ?j) = conjugate (?A $$ (?j, ?i))\n  i < m\n  j < m\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)", "by (metis adjoint_dim_col carrier_matD(1))"], ["proof (state)\nthis:\n  \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)", "have \"(\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow>  conjugate (A $$ (j, i))\""], ["proof (prove)\nusing this:\n  \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j))\n    \\<longlonglongrightarrow> conjugate (A $$ (j, i))", "using conjX"], ["proof (prove)\nusing this:\n  \\<forall>n. conjugate (X n $$ (j, i)) = X n $$ (i, j)\n  (\\<lambda>n. conjugate (X n $$ (j, i)))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j))\n    \\<longlonglongrightarrow> conjugate (A $$ (j, i))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))", "have \"conjugate (A $$ (j,i)) = A$$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))\n\ngoal (1 subgoal):\n 1. conjugate (A $$ (j, i)) = A $$ (i, j)", "using ij"], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j))\n  \\<longlonglongrightarrow> conjugate (A $$ (j, i))\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. conjugate (A $$ (j, i)) = A $$ (i, j)", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  conjugate (A $$ (j, i)) = A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  conjugate (A $$ (j, i)) = A $$ (i, j)", "have \"(adjoint A)$$ (i, j) = A$$ (i, j)\""], ["proof (prove)\nusing this:\n  conjugate (A $$ (j, i)) = A $$ (i, j)\n\ngoal (1 subgoal):\n 1. adjoint A $$ (i, j) = A $$ (i, j)", "using adjoint_eval i j"], ["proof (prove)\nusing this:\n  conjugate (A $$ (j, i)) = A $$ (i, j)\n  \\<lbrakk>?i < dim_col ?A; ?j < dim_row ?A\\<rbrakk>\n  \\<Longrightarrow> adjoint ?A $$ (?i, ?j) = conjugate (?A $$ (?j, ?i))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. adjoint A $$ (i, j) = A $$ (i, j)", "by (simp add:aij)"], ["proof (state)\nthis:\n  adjoint A $$ (i, j) = A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> adjoint A $$ (?i2, ?j2) = A $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> adjoint A $$ (?i2, ?j2) = A $$ (?i2, ?j2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i2 < m; ?j2 < m\\<rbrakk>\n  \\<Longrightarrow> adjoint A $$ (?i2, ?j2) = A $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)\n\ngoal (1 subgoal):\n 1. hermitian A", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)", "have \"hermitian A\""], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)\n\ngoal (1 subgoal):\n 1. hermitian A", "using hermitian_def dimA"], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<m. adjoint A $$ (i, j) = A $$ (i, j)\n  hermitian ?A = (adjoint ?A = ?A)\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. hermitian A", "by (metis adjoint_dim carrier_matD(1) carrier_matD(2) eq_matI)"], ["proof (state)\nthis:\n  hermitian A\n\ngoal (1 subgoal):\n 1. hermitian A", "then"], ["proof (chain)\npicking this:\n  hermitian A", "show ?thesis"], ["proof (prove)\nusing this:\n  hermitian A\n\ngoal (1 subgoal):\n 1. hermitian A", "by auto"], ["proof (state)\nthis:\n  hermitian A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quantifier_change_order_once:\n  fixes P :: \"nat \\<Rightarrow> nat \\<Rightarrow> bool\" and m :: nat\n  shows \"\\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow> \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n    \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j", "proof (induct m)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>j<0. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n    \\<exists>no. \\<forall>j<0. \\<forall>n\\<ge>no. P n j\n 2. \\<And>m.\n       \\<lbrakk>\\<forall>j<m.\n                   \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n                \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n        \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "case 0"], ["proof (state)\nthis:\n  \\<forall>j<0. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (2 subgoals):\n 1. \\<forall>j<0. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n    \\<exists>no. \\<forall>j<0. \\<forall>n\\<ge>no. P n j\n 2. \\<And>m.\n       \\<lbrakk>\\<forall>j<m.\n                   \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n                \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n        \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<forall>j<0. \\<exists>no. \\<forall>n\\<ge>no. P n j", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>j<0. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<0. \\<forall>n\\<ge>no. P n j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>j<0. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>j<m.\n                   \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n                \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n        \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>j<m.\n                   \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n                \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n        \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "case (Suc m)"], ["proof (state)\nthis:\n  \\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n  \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>j<m.\n                   \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n                \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n        \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n  \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n  \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "have mm: \"\\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j", "using Suc"], ["proof (prove)\nusing this:\n  \\<forall>j<m. \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n  \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j", "obtain M where MM: \"\\<forall>j<m. \\<forall>n\\<ge>M. P n j\""], ["proof (prove)\nusing this:\n  \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>j<m. \\<forall>n\\<ge>M. P n j \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>j<m. \\<forall>n\\<ge>M. P n j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "have sucm: \"\\<exists>no. \\<forall>n\\<ge>no. P n m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>n\\<ge>no. P n m", "using Suc(2)"], ["proof (prove)\nusing this:\n  \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>n\\<ge>no. P n m", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>n\\<ge>no. P n m\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<exists>no. \\<forall>n\\<ge>no. P n m", "obtain N where NN: \"\\<forall>n\\<ge>N. P n m\""], ["proof (prove)\nusing this:\n  \\<exists>no. \\<forall>n\\<ge>no. P n m\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N. P n m \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. P n m\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "let ?N = \"max M N\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "from MM NN"], ["proof (chain)\npicking this:\n  \\<forall>j<m. \\<forall>n\\<ge>M. P n j\n  \\<forall>n\\<ge>N. P n m", "have \"\\<forall>j<Suc m. \\<forall>n\\<ge>?N. P n j\""], ["proof (prove)\nusing this:\n  \\<forall>j<m. \\<forall>n\\<ge>M. P n j\n  \\<forall>n\\<ge>N. P n m\n\ngoal (1 subgoal):\n 1. \\<forall>j<Suc m. \\<forall>n\\<ge>max M N. P n j", "by (metis less_antisym max.boundedE)"], ["proof (state)\nthis:\n  \\<forall>j<Suc m. \\<forall>n\\<ge>max M N. P n j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<forall>j<Suc m. \\<forall>n\\<ge>max M N. P n j", "have \"\\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j\""], ["proof (prove)\nusing this:\n  \\<forall>j<Suc m. \\<forall>n\\<ge>max M N. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "by blast"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>j<m.\n                \\<exists>no. \\<forall>n\\<ge>no. P n j \\<Longrightarrow>\n             \\<exists>no. \\<forall>j<m. \\<forall>n\\<ge>no. P n j;\n     \\<forall>j<Suc m. \\<exists>no. \\<forall>n\\<ge>no. P n j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "then"], ["proof (chain)\npicking this:\n  \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>j<Suc m. \\<forall>n\\<ge>no. P n j\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quantifier_change_order_twice:\n  fixes P :: \"nat \\<Rightarrow> nat \\<Rightarrow> nat \\<Rightarrow> bool\" and m n :: nat\n  shows \"\\<forall>i<m. \\<forall>j<n. \\<exists> no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow> \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<n.\n          \\<exists>no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<n.\n          \\<exists>no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "assume fact: \"\\<forall>i<m. \\<forall>j<n. \\<exists> no. \\<forall>n\\<ge>no. P n i j\""], ["proof (state)\nthis:\n  \\<forall>i<m. \\<forall>j<n. \\<exists>no. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<n.\n          \\<exists>no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "have one: \"\\<forall>i<m. \\<exists>no.\\<forall>j<n. \\<forall>n\\<ge>no. P n i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "using fact quantifier_change_order_once"], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<n. \\<exists>no. \\<forall>n\\<ge>no. P n i j\n  \\<forall>j<?m. \\<exists>no. \\<forall>n\\<ge>no. ?P n j \\<Longrightarrow>\n  \\<exists>no. \\<forall>j<?m. \\<forall>n\\<ge>no. ?P n j\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<n.\n          \\<exists>no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "have two: \"\\<forall>i<m. \\<exists>no.\\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow> \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<exists>no.\n          \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "proof (induct m)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>i<0.\n       \\<exists>no.\n          \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<0. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n 2. \\<And>m.\n       \\<lbrakk>\\<forall>i<m.\n                   \\<exists>no.\n                      \\<forall>j<n.\n                         \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n                \\<exists>no.\n                   \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n        \\<forall>i<Suc m.\n           \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>i<Suc m.\n                               \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "case 0"], ["proof (state)\nthis:\n  \\<forall>i<0. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (2 subgoals):\n 1. \\<forall>i<0.\n       \\<exists>no.\n          \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<0. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n 2. \\<And>m.\n       \\<lbrakk>\\<forall>i<m.\n                   \\<exists>no.\n                      \\<forall>j<n.\n                         \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n                \\<exists>no.\n                   \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n        \\<forall>i<Suc m.\n           \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>i<Suc m.\n                               \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<0. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>i<0. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<0. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>i<0. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>i<m.\n                   \\<exists>no.\n                      \\<forall>j<n.\n                         \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n                \\<exists>no.\n                   \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n        \\<forall>i<Suc m.\n           \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>i<Suc m.\n                               \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>i<m.\n                   \\<exists>no.\n                      \\<forall>j<n.\n                         \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n                \\<exists>no.\n                   \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n        \\<forall>i<Suc m.\n           \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>i<Suc m.\n                               \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "case (Suc m)"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<Suc m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>\\<forall>i<m.\n                   \\<exists>no.\n                      \\<forall>j<n.\n                         \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n                \\<exists>no.\n                   \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n        \\<forall>i<Suc m.\n           \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n       \\<Longrightarrow> \\<exists>no.\n                            \\<forall>i<Suc m.\n                               \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<Suc m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<Suc m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "obtain M where MM: \"\\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>M. P n i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>i<m.\n           \\<forall>j<n. \\<forall>n\\<ge>M. P n i j \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Suc"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<Suc m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>i<m.\n           \\<forall>j<n. \\<forall>n\\<ge>M. P n i j \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>M. P n i j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "obtain N where NN: \"\\<forall>j<n. \\<forall>n\\<ge>N. P n m j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>j<n. \\<forall>n\\<ge>N. P n m j \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Suc(2)"], ["proof (prove)\nusing this:\n  \\<forall>i<Suc m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>j<n. \\<forall>n\\<ge>N. P n m j \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>j<n. \\<forall>n\\<ge>N. P n m j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "let ?N = \"max M N\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "from MM NN"], ["proof (chain)\npicking this:\n  \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>M. P n i j\n  \\<forall>j<n. \\<forall>n\\<ge>N. P n m j", "have \"\\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>?N. P n i j\""], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>M. P n i j\n  \\<forall>j<n. \\<forall>n\\<ge>N. P n m j\n\ngoal (1 subgoal):\n 1. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>max M N. P n i j", "by (metis less_antisym max.boundedE)"], ["proof (state)\nthis:\n  \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>max M N. P n i j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>max M N. P n i j", "have \"\\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\""], ["proof (prove)\nusing this:\n  \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>max M N. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "by blast"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<m.\n                \\<exists>no.\n                   \\<forall>j<n.\n                      \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n             \\<exists>no.\n                \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j;\n     \\<forall>i<Suc m.\n        \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\\<rbrakk>\n    \\<Longrightarrow> \\<exists>no.\n                         \\<forall>i<Suc m.\n                            \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "then"], ["proof (chain)\npicking this:\n  \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>i<Suc m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<n.\n          \\<exists>no. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n    \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "with fact"], ["proof (chain)\npicking this:\n  \\<forall>i<m. \\<forall>j<n. \\<exists>no. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<n. \\<exists>no. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "using one"], ["proof (prove)\nusing this:\n  \\<forall>i<m. \\<forall>j<n. \\<exists>no. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<m.\n     \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j \\<Longrightarrow>\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n  \\<forall>i<m. \\<exists>no. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal (1 subgoal):\n 1. \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j", "by auto"], ["proof (state)\nthis:\n  \\<exists>no. \\<forall>i<m. \\<forall>j<n. \\<forall>n\\<ge>no. P n i j\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pos_mat_lim_is_pos:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and posX: \"\\<forall>n. positive (X n)\"\n  shows \"positive A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive A", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have  dimX : \"\\<forall>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have dimA : \"A \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have herX : \"\\<forall> n. hermitian (X n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. hermitian (X n)", "using posX positive_is_hermitian"], ["proof (prove)\nusing this:\n  \\<forall>n. positive (X n)\n  positive ?A \\<Longrightarrow> hermitian ?A\n\ngoal (1 subgoal):\n 1. \\<forall>n. hermitian (X n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. hermitian (X n)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. hermitian (X n)", "have herA : \"hermitian A\""], ["proof (prove)\nusing this:\n  \\<forall>n. hermitian (X n)\n\ngoal (1 subgoal):\n 1. hermitian A", "using hermitian_mat_lim_is_hermitian limX"], ["proof (prove)\nusing this:\n  \\<forall>n. hermitian (X n)\n  \\<lbrakk>limit_mat ?X ?A ?m; \\<forall>n. hermitian (?X n)\\<rbrakk>\n  \\<Longrightarrow> hermitian ?A\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. hermitian A", "by auto"], ["proof (state)\nthis:\n  hermitian A\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  hermitian A", "have herprod: \"\\<forall> v. dim_vec v = dim_col A \\<longrightarrow> inner_prod v (A *\\<^sub>v v) \\<in> Reals\""], ["proof (prove)\nusing this:\n  hermitian A\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       dim_vec v = dim_col A \\<longrightarrow>\n       inner_prod v (A *\\<^sub>v v) \\<in> \\<real>", "using hermitian_inner_prod_real dimA"], ["proof (prove)\nusing this:\n  hermitian A\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; ?v \\<in> carrier_vec ?n;\n   hermitian ?A\\<rbrakk>\n  \\<Longrightarrow> inner_prod ?v (?A *\\<^sub>v ?v) \\<in> \\<real>\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       dim_vec v = dim_col A \\<longrightarrow>\n       inner_prod v (A *\\<^sub>v v) \\<in> \\<real>", "by auto"], ["proof (state)\nthis:\n  \\<forall>v.\n     dim_vec v = dim_col A \\<longrightarrow>\n     inner_prod v (A *\\<^sub>v v) \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "assume npA: \" \\<not> positive A\""], ["proof (state)\nthis:\n  \\<not> positive A\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "from npA"], ["proof (chain)\npicking this:\n  \\<not> positive A", "have \"\\<not> (A \\<in> carrier_mat (dim_col A) (dim_col A)) \\<or> \\<not> (\\<forall>v. dim_vec v = dim_col A \\<longrightarrow> 0 \\<le> inner_prod v (A *\\<^sub>v v))\""], ["proof (prove)\nusing this:\n  \\<not> positive A\n\ngoal (1 subgoal):\n 1. A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n    \\<not> (\\<forall>v.\n               dim_vec v = dim_col A \\<longrightarrow>\n               0 \\<le> inner_prod v (A *\\<^sub>v v))", "unfolding positive_def"], ["proof (prove)\nusing this:\n  \\<not> (A \\<in> carrier_mat (dim_col A) (dim_col A) \\<and>\n          (\\<forall>v.\n              dim_vec v = dim_col A \\<longrightarrow>\n              0 \\<le> inner_prod v (A *\\<^sub>v v)))\n\ngoal (1 subgoal):\n 1. A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n    \\<not> (\\<forall>v.\n               dim_vec v = dim_col A \\<longrightarrow>\n               0 \\<le> inner_prod v (A *\\<^sub>v v))", "by blast"], ["proof (state)\nthis:\n  A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n  \\<not> (\\<forall>v.\n             dim_vec v = dim_col A \\<longrightarrow>\n             0 \\<le> inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n  \\<not> (\\<forall>v.\n             dim_vec v = dim_col A \\<longrightarrow>\n             0 \\<le> inner_prod v (A *\\<^sub>v v))", "have evA: \"\\<exists> v. dim_vec v = dim_col A \\<and> \\<not> inner_prod v (A *\\<^sub>v v) \\<ge> 0\""], ["proof (prove)\nusing this:\n  A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n  \\<not> (\\<forall>v.\n             dim_vec v = dim_col A \\<longrightarrow>\n             0 \\<le> inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)", "using dimA"], ["proof (prove)\nusing this:\n  A \\<notin> carrier_mat (dim_col A) (dim_col A) \\<or>\n  \\<not> (\\<forall>v.\n             dim_vec v = dim_col A \\<longrightarrow>\n             0 \\<le> inner_prod v (A *\\<^sub>v v))\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)", "by blast"], ["proof (state)\nthis:\n  \\<exists>v.\n     dim_vec v = dim_col A \\<and>\n     \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v.\n     dim_vec v = dim_col A \\<and>\n     \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)", "have \"\\<exists> v. dim_vec v = dim_col A \\<and>  inner_prod v (A *\\<^sub>v v) < 0\""], ["proof (prove)\nusing this:\n  \\<exists>v.\n     dim_vec v = dim_col A \\<and>\n     \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n    \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "obtain v where vA: \"dim_vec v = dim_col A \\<and> \\<not> inner_prod v (A *\\<^sub>v v) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v.\n        dim_vec v = dim_col A \\<and>\n        \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using evA"], ["proof (prove)\nusing this:\n  \\<exists>v.\n     dim_vec v = dim_col A \\<and>\n     \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        dim_vec v = dim_col A \\<and>\n        \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  dim_vec v = dim_col A \\<and> \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n    \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "from vA herprod"], ["proof (chain)\npicking this:\n  dim_vec v = dim_col A \\<and> \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n  \\<forall>v.\n     dim_vec v = dim_col A \\<longrightarrow>\n     inner_prod v (A *\\<^sub>v v) \\<in> \\<real>", "have \"\\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and> inner_prod v (A *\\<^sub>v v) \\<in> Reals\""], ["proof (prove)\nusing this:\n  dim_vec v = dim_col A \\<and> \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n  \\<forall>v.\n     dim_vec v = dim_col A \\<longrightarrow>\n     inner_prod v (A *\\<^sub>v v) \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and>\n    inner_prod v (A *\\<^sub>v v) \\<in> \\<real>", "by auto"], ["proof (state)\nthis:\n  \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and>\n  inner_prod v (A *\\<^sub>v v) \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n    \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "then"], ["proof (chain)\npicking this:\n  \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and>\n  inner_prod v (A *\\<^sub>v v) \\<in> \\<real>", "have \"inner_prod v (A *\\<^sub>v v) < 0\""], ["proof (prove)\nusing this:\n  \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and>\n  inner_prod v (A *\\<^sub>v v) \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) < 0", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<and>\n  inner_prod v (A *\\<^sub>v v) \\<in> \\<real>\n  (?z \\<in> \\<real>) = (Im ?z = 0)\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) < 0", "by auto"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n    \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "then"], ["proof (chain)\npicking this:\n  inner_prod v (A *\\<^sub>v v) < 0", "have  \"\\<exists> v. dim_vec v = dim_col A \\<and>  inner_prod v (A *\\<^sub>v v) < 0\""], ["proof (prove)\nusing this:\n  inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "using vA"], ["proof (prove)\nusing this:\n  inner_prod v (A *\\<^sub>v v) < 0\n  dim_vec v = dim_col A \\<and> \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "by auto"], ["proof (state)\nthis:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and>\n       \\<not> 0 \\<le> inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n    \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "by auto"], ["proof (state)\nthis:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0", "obtain v where neg: \"dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\""], ["proof (prove)\nusing this:\n  \\<exists>v. dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        dim_vec v = dim_col A \\<and>\n        inner_prod v (A *\\<^sub>v v) < 0 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have   nzero: \"v \\<noteq> 0\\<^sub>v m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> 0\\<^sub>v m", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "assume nega: \" \\<not> v \\<noteq> 0\\<^sub>v m\""], ["proof (state)\nthis:\n  \\<not> v \\<noteq> 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "have zero: \"v = 0\\<^sub>v m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = 0\\<^sub>v m", "using nega"], ["proof (prove)\nusing this:\n  \\<not> v \\<noteq> 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. v = 0\\<^sub>v m", "by auto"], ["proof (state)\nthis:\n  v = 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "have \"(A *\\<^sub>v v) = 0\\<^sub>v m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v v = 0\\<^sub>v m", "unfolding mult_mat_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec (dim_row A) (\\<lambda>i. row A i \\<bullet> v) = 0\\<^sub>v m", "using zero"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. vec (dim_row A) (\\<lambda>i. row A i \\<bullet> v) = 0\\<^sub>v m", "using dimA"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>v m\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. vec (dim_row A) (\\<lambda>i. row A i \\<bullet> v) = 0\\<^sub>v m", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v v = 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  A *\\<^sub>v v = 0\\<^sub>v m", "have zerov: \"inner_prod v (A *\\<^sub>v v) = 0\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v v = 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) = 0", "by (simp add: zero)"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) = 0\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "from neg zerov"], ["proof (chain)\npicking this:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  inner_prod v (A *\\<^sub>v v) = 0", "have \"\\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False\""], ["proof (prove)\nusing this:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  inner_prod v (A *\\<^sub>v v) = 0\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "using dimA"], ["proof (prove)\nusing this:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  inner_prod v (A *\\<^sub>v v) = 0\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "by auto"], ["proof (state)\nthis:\n  \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "with nega"], ["proof (chain)\npicking this:\n  \\<not> v \\<noteq> 0\\<^sub>v m\n  \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  \\<not> v \\<noteq> 0\\<^sub>v m\n  \\<not> v \\<noteq> 0\\<^sub>v m \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v \\<noteq> 0\\<^sub>v m\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have invgeq: \"inner_prod v v > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "have \"inner_prod v v = vec_norm v * vec_norm v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v v = vec_norm v * vec_norm v", "unfolding vec_norm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v v = csqrt (inner_prod v v) * csqrt (inner_prod v v)", "by (metis carrier_matD(2) carrier_vec_dim_vec dimA mult_cancel_left1 neg normalized_cscalar_prod normalized_vec_norm nzero vec_norm_def)"], ["proof (state)\nthis:\n  inner_prod v v = vec_norm v * vec_norm v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "moreover"], ["proof (state)\nthis:\n  inner_prod v v = vec_norm v * vec_norm v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "have \"vec_norm v > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < vec_norm v", "using nzero vec_norm_ge_0 neg dimA"], ["proof (prove)\nusing this:\n  v \\<noteq> 0\\<^sub>v m\n  \\<lbrakk>?v \\<in> carrier_vec ?n; ?v \\<noteq> 0\\<^sub>v ?n\\<rbrakk>\n  \\<Longrightarrow> 0 < vec_norm ?v\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. 0 < vec_norm v", "by (metis carrier_matD(2) carrier_vec_dim_vec)"], ["proof (state)\nthis:\n  0 < vec_norm v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "ultimately"], ["proof (chain)\npicking this:\n  inner_prod v v = vec_norm v * vec_norm v\n  0 < vec_norm v", "have \"inner_prod v v > 0\""], ["proof (prove)\nusing this:\n  inner_prod v v = vec_norm v * vec_norm v\n  0 < vec_norm v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "by auto"], ["proof (state)\nthis:\n  0 < inner_prod v v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "then"], ["proof (chain)\npicking this:\n  0 < inner_prod v v", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < inner_prod v v\n\ngoal (1 subgoal):\n 1. 0 < inner_prod v v", "by auto"], ["proof (state)\nthis:\n  0 < inner_prod v v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < inner_prod v v\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have invv: \"inner_prod v v = (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * (v $ i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "have \"\\<forall> i < m. conjugate (v $ i) * (v $ i) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i", "using conjugate_square_smaller_0"], ["proof (prove)\nusing this:\n  \\<not> ?x * conjugate ?x < (0::?'a)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i", "by simp"], ["proof (state)\nthis:\n  \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i", "have vi: \"\\<forall> i < m. conjugate (v $ i) * (v $ i) = cmod (conjugate (v $ i) * (v $ i))\""], ["proof (prove)\nusing this:\n  \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       conjugate (v $ i) * v $ i =\n       complex_of_real (cmod (conjugate (v $ i) * v $ i))", "using cmod_eq_Re"], ["proof (prove)\nusing this:\n  \\<forall>i<m. 0 \\<le> conjugate (v $ i) * v $ i\n  Im ?z = 0 \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       conjugate (v $ i) * v $ i =\n       complex_of_real (cmod (conjugate (v $ i) * v $ i))", "by (simp add: complex.expand)"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     conjugate (v $ i) * v $ i =\n     complex_of_real (cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "have \"inner_prod v v= (\\<Sum>i = 0..<m. ((v $ i) * conjugate (v $ i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v v = (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i))", "unfolding scalar_prod_def conjugate_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec\n                    (vec (dim_vec v) (\\<lambda>i. conjugate (v $ i))).\n        v $ i * vec (dim_vec v) (\\<lambda>i. conjugate (v $ i)) $ i) =\n    (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i))", "using neg dimA"], ["proof (prove)\nusing this:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec\n                    (vec (dim_vec v) (\\<lambda>i. conjugate (v $ i))).\n        v $ i * vec (dim_vec v) (\\<lambda>i. conjugate (v $ i)) $ i) =\n    (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i))", "by auto"], ["proof (state)\nthis:\n  inner_prod v v = (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "also"], ["proof (state)\nthis:\n  inner_prod v v = (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "have \"\\<dots> = (\\<Sum>i = 0..<m. (conjugate (v $ i) * (v $ i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i)) =\n    (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i)", "by (meson mult.commute)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i)) =\n  (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i)\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m. v $ i * conjugate (v $ i)) =\n  (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i)\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "have \"\\<dots> = (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * (v $ i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i) =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "using vi"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     conjugate (v $ i) * v $ i =\n     complex_of_real (cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i) =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m. conjugate (v $ i) * v $ i) =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "finally"], ["proof (chain)\npicking this:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "have  \"inner_prod v v = (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * (v $ i)))\""], ["proof (prove)\nusing this:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "by auto"], ["proof (state)\nthis:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "}"], ["proof (state)\nthis:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "then"], ["proof (chain)\npicking this:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "show ?thesis"], ["proof (prove)\nusing this:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. inner_prod v v =\n    complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "by auto"], ["proof (state)\nthis:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "let ?r = \"inner_prod v (A *\\<^sub>v v)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have rl: \"?r < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) < 0", "using neg"], ["proof (prove)\nusing this:\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) < 0", "by auto"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "have vAv: \"inner_prod v (A *\\<^sub>v v) =  (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.\n                conjugate (v$i) * A$$(i, j) * v$j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "using quadratic_form_mat dimA neg"], ["proof (prove)\nusing this:\n  \\<lbrakk>dim_vec ?v = ?m; ?A \\<in> carrier_mat ?m ?m\\<rbrakk>\n  \\<Longrightarrow> inner_prod ?v (?A *\\<^sub>v ?v) =\n                    (\\<Sum>i = 0..<?m.\n                        \\<Sum>j = 0..<?m.\n                           conjugate (?v $ i) * ?A $$ (i, j) * ?v $ j)\n  A \\<in> carrier_mat m m\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "by auto"], ["proof (state)\nthis:\n  inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "from limX"], ["proof (chain)\npicking this:\n  limit_mat X A m", "have limij: \"\\<forall>i<m. \\<forall>j<m. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have limXv: \"(\\<lambda> n. inner_prod v ((X n) *\\<^sub>v v)) \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\""], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "have XAless: \"cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) \\<le>\n      (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<forall> i < m. \\<forall> j < m. conjugate (v$i) * X n $$(i, j) * v$j - conjugate (v$i) * A$$(i, j) * v$j =\n        conjugate (v$i) * (X n $$(i, j)-A$$(i, j)) * v$j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          conjugate (v $ i) * X n $$ (i, j) * v $ j -\n          conjugate (v $ i) * A $$ (i, j) * v $ j =\n          conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j", "by (simp add: mult.commute right_diff_distrib)"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        conjugate (v $ i) * X n $$ (i, j) * v $ j -\n        conjugate (v $ i) * A $$ (i, j) * v $ j =\n        conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        conjugate (v $ i) * X n $$ (i, j) * v $ j -\n        conjugate (v $ i) * A $$ (i, j) * v $ j =\n        conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j", "have ele: \"\\<forall> i < m.(\\<Sum>j=0..<m.(conjugate (v$i) * X n $$(i, j) * v$j - conjugate (v$i) * A$$(i, j) * v$j)) = (\\<Sum>j=0..<m.(\n              conjugate (v$i) * (X n $$(i, j)-A$$(i, j)) * v$j))\""], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        conjugate (v $ i) * X n $$ (i, j) * v $ j -\n        conjugate (v $ i) * A $$ (i, j) * v $ j =\n        conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       (\\<Sum>j = 0..<m.\n           conjugate (v $ i) * X n $$ (i, j) * v $ j -\n           conjugate (v $ i) * A $$ (i, j) * v $ j) =\n       (\\<Sum>j = 0..<m.\n           conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     (\\<Sum>j = 0..<m.\n         conjugate (v $ i) * X n $$ (i, j) * v $ j -\n         conjugate (v $ i) * A $$ (i, j) * v $ j) =\n     (\\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<forall> i < m. \\<forall> j < m. cmod(conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j) =\n                cmod(conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod(v $ j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j) =\n          cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n          cmod (v $ j)", "by (simp add: norm_mult)"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j) =\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j) =\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j)", "have less: \"\\<forall> i < m.(\\<Sum>j = 0..<m. cmod(conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n                (\\<Sum>j = 0..<m. cmod(conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod(v $ j))\""], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j) =\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       (\\<Sum>j = 0..<m.\n           cmod\n            (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n       (\\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     (\\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n     (\\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.\n              conjugate (v$i) * X n $$(i, j) * v$j)) - (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.\n              conjugate (v$i) * A$$(i, j) * v$j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "using quadratic_form_mat neg dimA dimX"], ["proof (prove)\nusing this:\n  \\<lbrakk>dim_vec ?v = ?m; ?A \\<in> carrier_mat ?m ?m\\<rbrakk>\n  \\<Longrightarrow> inner_prod ?v (?A *\\<^sub>v ?v) =\n                    (\\<Sum>i = 0..<?m.\n                        \\<Sum>j = 0..<?m.\n                           conjugate (?v $ i) * ?A $$ (i, j) * ?v $ j)\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n  A \\<in> carrier_mat m m\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)", "by auto"], ["proof (state)\nthis:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "also"], ["proof (state)\nthis:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<dots> = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.(\n              conjugate (v$i) * X n $$(i, j) * v$j - conjugate (v$i) * A$$(i, j) * v$j)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * X n $$ (i, j) * v $ j -\n           conjugate (v $ i) * A $$ (i, j) * v $ j)", "using sum_subtractff[of \"\\<lambda> i j. conjugate (v $ i) * X n $$ (i, j) * v $ j\" \"\\<lambda> i j. conjugate (v $ i) * A $$ (i, j) * v $ j\" \"{0..<m}\"]"], ["proof (prove)\nusing this:\n  (\\<Sum>x\\<in>?A.\n     \\<Sum>y = 0..<m.\n        conjugate (v $ x) * X n $$ (x, y) * v $ y -\n        conjugate (v $ x) * A $$ (x, y) * v $ y) =\n  (\\<Sum>x\\<in>?A.\n     \\<Sum>y = 0..<m. conjugate (v $ x) * X n $$ (x, y) * v $ y) -\n  (\\<Sum>x\\<in>?A. \\<Sum>y = 0..<m. conjugate (v $ x) * A $$ (x, y) * v $ y)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * X n $$ (i, j) * v $ j -\n           conjugate (v $ i) * A $$ (i, j) * v $ j)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * X n $$ (i, j) * v $ j -\n         conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * X n $$ (i, j) * v $ j) -\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. conjugate (v $ i) * A $$ (i, j) * v $ j) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * X n $$ (i, j) * v $ j -\n         conjugate (v $ i) * A $$ (i, j) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<dots> = (\\<Sum>i=0..<m. (\\<Sum>j=0..<m.(\n              conjugate (v$i) * (X n $$(i, j)-A$$(i, j)) * v$j)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * X n $$ (i, j) * v $ j -\n           conjugate (v $ i) * A $$ (i, j) * v $ j) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "using ele"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     (\\<Sum>j = 0..<m.\n         conjugate (v $ i) * X n $$ (i, j) * v $ j -\n         conjugate (v $ i) * A $$ (i, j) * v $ j) =\n     (\\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * X n $$ (i, j) * v $ j -\n           conjugate (v $ i) * A $$ (i, j) * v $ j) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * X n $$ (i, j) * v $ j -\n         conjugate (v $ i) * A $$ (i, j) * v $ j) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "finally"], ["proof (chain)\npicking this:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "have minusXA: \"inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) = (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\""], ["proof (prove)\nusing this:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "by auto"], ["proof (state)\nthis:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "from minusXA"], ["proof (chain)\npicking this:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "have \"cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n              cmod (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\""], ["proof (prove)\nusing this:\n  inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n    cmod\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)", "by auto"], ["proof (state)\nthis:\n  cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m.\n          conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "also"], ["proof (state)\nthis:\n  cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m.\n          conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<dots> \\<le> (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod(conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod\n                  (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) *\n                   v $ j))", "using sum_abs_complex"], ["proof (prove)\nusing this:\n  cmod (\\<Sum>x\\<in>?A. sum (?h x) ?B)\n  \\<le> (\\<Sum>x\\<in>?A. \\<Sum>y\\<in>?B. cmod (?h x y))\n\ngoal (1 subgoal):\n 1. cmod\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod\n                  (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) *\n                   v $ j))", "by simp"], ["proof (state)\nthis:\n  cmod\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m.\n          conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod\n                (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "also"], ["proof (state)\nthis:\n  cmod\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m.\n          conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod\n                (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "have \"\\<dots> = (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod(conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod(v $ j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod\n            (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))", "using less"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     (\\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n     (\\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod\n            (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i) * (X n $$ (i, j) - A $$ (i, j)) * v $ j)) =\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "finally"], ["proof (chain)\npicking this:\n  cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cmod (inner_prod v (X ?n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X ?n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "from limij"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have limijm: \" \\<forall>i<m. \\<forall>j<m. \\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>r>0.\n             \\<exists>no.\n                \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "unfolding LIMSEQ_def dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>r>0.\n           \\<exists>no.\n              \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>r>0.\n             \\<exists>no.\n                \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>r>0.\n           \\<exists>no.\n              \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "from limX"], ["proof (chain)\npicking this:\n  limit_mat X A m", "have mg: \"m > 0\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. 0 < m", "using limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. 0 < m", "by (metis carrier_matD(1) carrier_matD(2) mat_eq_iff neq0_conv not_less0 npA posX)"], ["proof (state)\nthis:\n  0 < m\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "have cmoda: \"\\<exists>no. \\<forall>n\\<ge>no. (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)) < r\"\n      if r: \"r > 0\" for r"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "let ?u = \"(\\<Sum>i = 0..<m. \\<Sum>j = 0..<m.((cmod (conjugate (v $ i)) * cmod (v $ j))))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "have ug: \"?u > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "have ur: \"?u = (\\<Sum>i = 0..<m. (cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m.( cmod (v $ j)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n    (\\<Sum>i = 0..<m.\n        cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j)))", "by (simp add: sum_distrib_left)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "have \"(\\<Sum>j = 0..<m.( cmod (v $ j))) \\<ge> cmod (v $ i)\" if i: \"i < m\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (v $ i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))", "using member_le_sum[of i \"{0..<m}\" \"\\<lambda> j. cmod (v$j)\"] cmod_def i"], ["proof (prove)\nusing this:\n  \\<lbrakk>i \\<in> {0..<m};\n   \\<And>x. x \\<in> {0..<m} - {i} \\<Longrightarrow> 0 \\<le> cmod (v $ x);\n   finite {0..<m}\\<rbrakk>\n  \\<Longrightarrow> cmod (v $ i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))\n  cmod ?z = sqrt ((Re ?z)\\<^sup>2 + (Im ?z)\\<^sup>2)\n  i < m\n\ngoal (1 subgoal):\n 1. cmod (v $ i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))", "by simp"], ["proof (state)\nthis:\n  ?i < m \\<Longrightarrow>\n  cmod (v $ ?i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  ?i < m \\<Longrightarrow>\n  cmod (v $ ?i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))", "have \"\\<forall> i < m. (cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m.( cmod (v $ j)))) \\<ge> (cmod (conjugate (v $ i)) * cmod (v $ i))\""], ["proof (prove)\nusing this:\n  ?i < m \\<Longrightarrow>\n  cmod (v $ ?i) \\<le> (\\<Sum>j = 0..<m. cmod (v $ j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       cmod (conjugate (v $ i)) * cmod (v $ i)\n       \\<le> cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))", "by (simp add: mult_left_mono)"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     cmod (conjugate (v $ i)) * cmod (v $ i)\n     \\<le> cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     cmod (conjugate (v $ i)) * cmod (v $ i)\n     \\<le> cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))", "have \"?u \\<ge> (\\<Sum>i = 0..<m. (cmod (conjugate (v $ i)) *cmod (v $ i)))\""], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     cmod (conjugate (v $ i)) * cmod (v $ i)\n     \\<le> cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "using ur sum_mono[of \"{0..<m}\" \"\\<lambda> i.  cmod (conjugate (v $ i)) * cmod (v $ i)\" \"\\<lambda> i. cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))\"]"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     cmod (conjugate (v $ i)) * cmod (v $ i)\n     \\<le> cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j))\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j)))\n  (\\<And>i.\n      i \\<in> {0..<m} \\<Longrightarrow>\n      cmod (conjugate (v $ i)) * cmod (v $ i)\n      \\<le> cmod (conjugate (v $ i)) *\n            (\\<Sum>j = 0..<m. cmod (v $ j))) \\<Longrightarrow>\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n  \\<le> (\\<Sum>i = 0..<m.\n            cmod (conjugate (v $ i)) * (\\<Sum>j = 0..<m. cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "have \"(\\<Sum>i = 0..<m. cmod (conjugate (v $ i)  *cmod (v $ i))) = (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * (v $ i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n    (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "using norm_ge_zero norm_mult norm_of_real"], ["proof (prove)\nusing this:\n  0 \\<le> norm ?x\n  norm (?x * ?y) = norm ?x * norm ?y\n  norm (of_real ?r) = \\<bar>?r\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n    (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))", "by (metis (no_types, hide_lams) abs_of_nonneg)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "have \"(\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * (v $ i))) = inner_prod v v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i)) =\n    inner_prod v v", "using invv"], ["proof (prove)\nusing this:\n  inner_prod v v =\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n\ngoal (1 subgoal):\n 1. complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i)) =\n    inner_prod v v", "by auto"], ["proof (state)\nthis:\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i)) =\n  inner_prod v v\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i)) =\n  inner_prod v v", "have \"?u \\<ge>  inner_prod v v\""], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ i))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n  (\\<Sum>i = 0..<m.\n      cmod (conjugate (v $ i) * complex_of_real (cmod (v $ i)))) =\n  (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i))\n  complex_of_real (\\<Sum>i = 0..<m. cmod (conjugate (v $ i) * v $ i)) =\n  inner_prod v v\n\ngoal (1 subgoal):\n 1. inner_prod v v\n    \\<le> complex_of_real\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "by (metis (no_types, lifting) Im_complex_of_real Re_complex_of_real invv less_eq_complex_def norm_mult sum.cong)"], ["proof (state)\nthis:\n  inner_prod v v\n  \\<le> complex_of_real\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  inner_prod v v\n  \\<le> complex_of_real\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "have \"?u > 0\""], ["proof (prove)\nusing this:\n  inner_prod v v\n  \\<le> complex_of_real\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "using invgeq"], ["proof (prove)\nusing this:\n  inner_prod v v\n  \\<le> complex_of_real\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n  0 < inner_prod v v\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "let ?s = \"r / (2 * ?u)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "have sgz: \"?s > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < r /\n        (2 *\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "using ug rl"], ["proof (prove)\nusing this:\n  0 < (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n  inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. 0 < r /\n        (2 *\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "by (smt divide_pos_pos dual_order.strict_iff_order linordered_semiring_strict_class.mult_pos_pos zero_less_norm_iff r)"], ["proof (state)\nthis:\n  0 < r /\n      (2 *\n       (\\<Sum>i = 0..<m.\n           \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "from limijm"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>r>0.\n           \\<exists>no.\n              \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "have sij: \"\\<exists>no. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < ?s\" if i: \"i < m\" and j: \"j < m\" for i j"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>r>0.\n           \\<exists>no.\n              \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod (X n $$ (i, j) - A $$ (i, j))\n          < r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>r>0.\n             \\<exists>no.\n                \\<forall>n\\<ge>no.\n                   cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod (X n $$ (i, j) - A $$ (i, j))\n          < r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "obtain N where Ns: \"\\<forall>n\\<ge>N. cmod (X n $$ (i, j) - A $$ (i, j)) < ?s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) *\n                     cmod (v $ j))) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using sgz limijm i j"], ["proof (prove)\nusing this:\n  0 < r /\n      (2 *\n       (\\<Sum>i = 0..<m.\n           \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>r>0.\n           \\<exists>no.\n              \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) *\n                     cmod (v $ j))) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N.\n     cmod (X n $$ (i, j) - A $$ (i, j))\n     < r /\n       (2 *\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>r>0.\n             \\<exists>no.\n                \\<forall>n\\<ge>no.\n                   cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod (X n $$ (i, j) - A $$ (i, j))\n          < r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>N.\n     cmod (X n $$ (i, j) - A $$ (i, j))\n     < r /\n       (2 *\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N.\n     cmod (X n $$ (i, j) - A $$ (i, j))\n     < r /\n       (2 *\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod (X n $$ (i, j) - A $$ (i, j))\n          < r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (X n $$ (i, j) - A $$ (i, j))\n        < r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> \\<exists>no.\n                       \\<forall>n\\<ge>no.\n                          cmod (X n $$ (?i, ?j) - A $$ (?i, ?j))\n                          < r /\n                            (2 *\n                             (\\<Sum>i = 0..<m.\n                                 \\<Sum>j = 0..<m.\n                                    cmod (conjugate (v $ i)) *\n                                    cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> \\<exists>no.\n                       \\<forall>n\\<ge>no.\n                          cmod (X n $$ (?i, ?j) - A $$ (?i, ?j))\n                          < r /\n                            (2 *\n                             (\\<Sum>i = 0..<m.\n                                 \\<Sum>j = 0..<m.\n                                    cmod (conjugate (v $ i)) *\n                                    cmod (v $ j)))", "have \"\\<exists>no. \\<forall>i<m. \\<forall>j<m. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < ?s\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> \\<exists>no.\n                       \\<forall>n\\<ge>no.\n                          cmod (X n $$ (?i, ?j) - A $$ (?i, ?j))\n                          < r /\n                            (2 *\n                             (\\<Sum>i = 0..<m.\n                                 \\<Sum>j = 0..<m.\n                                    cmod (conjugate (v $ i)) *\n                                    cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>i<m.\n          \\<forall>j<m.\n             \\<forall>n\\<ge>no.\n                cmod (X n $$ (i, j) - A $$ (i, j))\n                < r /\n                  (2 *\n                   (\\<Sum>i = 0..<m.\n                       \\<Sum>j = 0..<m.\n                          cmod (conjugate (v $ i)) * cmod (v $ j)))", "using quantifier_change_order_twice[of m m \"\\<lambda> n i j. (cmod (X n $$ (i, j) - A $$ (i, j))<?s)\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> \\<exists>no.\n                       \\<forall>n\\<ge>no.\n                          cmod (X n $$ (?i, ?j) - A $$ (?i, ?j))\n                          < r /\n                            (2 *\n                             (\\<Sum>i = 0..<m.\n                                 \\<Sum>j = 0..<m.\n                                    cmod (conjugate (v $ i)) *\n                                    cmod (v $ j)))\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<exists>no.\n           \\<forall>n\\<ge>no.\n              cmod (X n $$ (i, j) - A $$ (i, j))\n              < r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) *\n                        cmod (v $ j))) \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>i<m.\n        \\<forall>j<m.\n           \\<forall>n\\<ge>no.\n              cmod (X n $$ (i, j) - A $$ (i, j))\n              < r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>i<m.\n          \\<forall>j<m.\n             \\<forall>n\\<ge>no.\n                cmod (X n $$ (i, j) - A $$ (i, j))\n                < r /\n                  (2 *\n                   (\\<Sum>i = 0..<m.\n                       \\<Sum>j = 0..<m.\n                          cmod (conjugate (v $ i)) * cmod (v $ j)))", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>i<m.\n        \\<forall>j<m.\n           \\<forall>n\\<ge>no.\n              cmod (X n $$ (i, j) - A $$ (i, j))\n              < r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<exists>no.\n     \\<forall>i<m.\n        \\<forall>j<m.\n           \\<forall>n\\<ge>no.\n              cmod (X n $$ (i, j) - A $$ (i, j))\n              < r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j)))", "obtain N where Nno: \"\\<forall>i<m. \\<forall>j<m. \\<forall>n\\<ge>N. cmod (X n $$ (i, j) - A $$ (i, j)) < ?s\""], ["proof (prove)\nusing this:\n  \\<exists>no.\n     \\<forall>i<m.\n        \\<forall>j<m.\n           \\<forall>n\\<ge>no.\n              cmod (X n $$ (i, j) - A $$ (i, j))\n              < r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>i<m.\n           \\<forall>j<m.\n              \\<forall>n\\<ge>N.\n                 cmod (X n $$ (i, j) - A $$ (i, j))\n                 < r /\n                   (2 *\n                    (\\<Sum>i = 0..<m.\n                        \\<Sum>j = 0..<m.\n                           cmod (conjugate (v $ i)) *\n                           cmod (v $ j))) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))", "have mmN: \"cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)\n                       \\<le> ?s * (cmod (conjugate (v $ i)) * cmod (v $ j))\"\n        if i: \"i < m\" and j: \"j < m\" and n: \"n \\<ge> N\" for i j n"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "have geq: \"cmod (conjugate (v $ i)) \\<ge> 0 \\<and> cmod (v $ j)\\<ge>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)", "have \"cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) \\<le>cmod (conjugate (v $ i)) * ?s\""], ["proof (prove)\nusing this:\n  0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n    \\<le> cmod (conjugate (v $ i)) *\n          (r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))", "using Nno i j n"], ["proof (prove)\nusing this:\n  0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)\n  \\<forall>i<m.\n     \\<forall>j<m.\n        \\<forall>n\\<ge>N.\n           cmod (X n $$ (i, j) - A $$ (i, j))\n           < r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n  i < m\n  j < m\n  N \\<le> n\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n    \\<le> cmod (conjugate (v $ i)) *\n          (r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))", "by (smt mult_left_mono)"], ["proof (state)\nthis:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "then"], ["proof (chain)\npicking this:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))", "have \"cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)\n                    \\<le> cmod (conjugate (v $ i)) *?s * cmod (v $ j)\""], ["proof (prove)\nusing this:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> cmod (conjugate (v $ i)) *\n          (r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m.\n                   cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n          cmod (v $ j)", "using geq mult_right_mono"], ["proof (prove)\nusing this:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))))\n  0 \\<le> cmod (conjugate (v $ i)) \\<and> 0 \\<le> cmod (v $ j)\n  \\<lbrakk>?a \\<le> ?b; (0::?'a) \\<le> ?c\\<rbrakk>\n  \\<Longrightarrow> ?a * ?c \\<le> ?b * ?c\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> cmod (conjugate (v $ i)) *\n          (r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m.\n                   cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n          cmod (v $ j)", "by blast"], ["proof (state)\nthis:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n  cmod (v $ j)\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n        cmod (v $ j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "also"], ["proof (state)\nthis:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n  cmod (v $ j)\n  \\<le> cmod (conjugate (v $ i)) *\n        (r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n        cmod (v $ j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "have \"\\<dots> = ?s * (cmod (conjugate (v $ i)) * cmod (v $ j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) *\n    (r /\n     (2 *\n      (\\<Sum>i = 0..<m.\n          \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n    cmod (v $ j) =\n    r /\n    (2 *\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n    (cmod (conjugate (v $ i)) * cmod (v $ j))", "by simp"], ["proof (state)\nthis:\n  cmod (conjugate (v $ i)) *\n  (r /\n   (2 *\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))) *\n  cmod (v $ j) =\n  r /\n  (2 *\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n  (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          \\<forall>n\\<ge>N.\n             cmod (X n $$ (i, j) - A $$ (i, j))\n             < r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) *\n                       cmod (v $ j))) \\<Longrightarrow>\n    cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "finally"], ["proof (chain)\npicking this:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n  cmod (v $ j)\n  \\<le> r /\n        (2 *\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n        (cmod (conjugate (v $ i)) * cmod (v $ j))", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n  cmod (v $ j)\n  \\<le> r /\n        (2 *\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n        (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n    cmod (v $ j)\n    \\<le> r /\n          (2 *\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n          (cmod (conjugate (v $ i)) * cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n  cmod (v $ j)\n  \\<le> r /\n        (2 *\n         (\\<Sum>i = 0..<m.\n             \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n        (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m; N \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (conjugate (v $ ?i)) *\n                    cmod (X ?n $$ (?i, ?j) - A $$ (?i, ?j)) *\n                    cmod (v $ ?j)\n                    \\<le> r /\n                          (2 *\n                           (\\<Sum>i = 0..<m.\n                               \\<Sum>j = 0..<m.\n                                  cmod (conjugate (v $ i)) *\n                                  cmod (v $ j))) *\n                          (cmod (conjugate (v $ ?i)) * cmod (v $ ?j))\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m; N \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (conjugate (v $ ?i)) *\n                    cmod (X ?n $$ (?i, ?j) - A $$ (?i, ?j)) *\n                    cmod (v $ ?j)\n                    \\<le> r /\n                          (2 *\n                           (\\<Sum>i = 0..<m.\n                               \\<Sum>j = 0..<m.\n                                  cmod (conjugate (v $ i)) *\n                                  cmod (v $ j))) *\n                          (cmod (conjugate (v $ ?i)) * cmod (v $ ?j))", "have \"(\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)) < r\"\n        if n: \"n \\<ge> N\" for n"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m; N \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (conjugate (v $ ?i)) *\n                    cmod (X ?n $$ (?i, ?j) - A $$ (?i, ?j)) *\n                    cmod (v $ ?j)\n                    \\<le> r /\n                          (2 *\n                           (\\<Sum>i = 0..<m.\n                               \\<Sum>j = 0..<m.\n                                  cmod (conjugate (v $ i)) *\n                                  cmod (v $ j))) *\n                          (cmod (conjugate (v $ ?i)) * cmod (v $ ?j))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "have mmX: \"\\<forall>i<m. \\<forall>j<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)\n                   \\<le> ?s * (cmod (conjugate (v $ i)) * cmod (v $ j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n          cmod (v $ j)\n          \\<le> r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                (cmod (conjugate (v $ i)) * cmod (v $ j))", "using n mmN"], ["proof (prove)\nusing this:\n  N \\<le> n\n  \\<lbrakk>?i < m; ?j < m; N \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (conjugate (v $ ?i)) *\n                    cmod (X ?n $$ (?i, ?j) - A $$ (?i, ?j)) *\n                    cmod (v $ ?j)\n                    \\<le> r /\n                          (2 *\n                           (\\<Sum>i = 0..<m.\n                               \\<Sum>j = 0..<m.\n                                  cmod (conjugate (v $ i)) *\n                                  cmod (v $ j))) *\n                          (cmod (conjugate (v $ ?i)) * cmod (v $ ?j))\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n          cmod (v $ j)\n          \\<le> r /\n                (2 *\n                 (\\<Sum>i = 0..<m.\n                     \\<Sum>j = 0..<m.\n                        cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                (cmod (conjugate (v $ i)) * cmod (v $ j))", "by blast"], ["proof (state)\nthis:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j)\n        \\<le> r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "have \"(\\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j))\n                   \\<le> (\\<Sum>j = 0..<m.(?s * (cmod (conjugate (v $ i)) * cmod (v $ j))))\" if i: \"i < m\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j))\n    \\<le> (\\<Sum>j = 0..<m.\n              r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j))\n    \\<le> (\\<Sum>j = 0..<m.\n              r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j)))", "have \"\\<forall>j<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)\n                 \\<le> ?s * (cmod (conjugate (v $ i)) * cmod (v $ j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j<m.\n       cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n       cmod (v $ j)\n       \\<le> r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) * cmod (v $ j))) *\n             (cmod (conjugate (v $ i)) * cmod (v $ j))", "using mmX i"], ["proof (prove)\nusing this:\n  \\<forall>i<m.\n     \\<forall>j<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j)\n        \\<le> r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j))\n  i < m\n\ngoal (1 subgoal):\n 1. \\<forall>j<m.\n       cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n       cmod (v $ j)\n       \\<le> r /\n             (2 *\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) * cmod (v $ j))) *\n             (cmod (conjugate (v $ i)) * cmod (v $ j))", "by auto"], ["proof (state)\nthis:\n  \\<forall>j<m.\n     cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n     cmod (v $ j)\n     \\<le> r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n           (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j))\n    \\<le> (\\<Sum>j = 0..<m.\n              r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>j<m.\n     cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n     cmod (v $ j)\n     \\<le> r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n           (cmod (conjugate (v $ i)) * cmod (v $ j))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>j<m.\n     cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n     cmod (v $ j)\n     \\<le> r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n           (cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j))\n    \\<le> (\\<Sum>j = 0..<m.\n              r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j)))", "using sum_mono[of \"{0..<m}\" \"\\<lambda> j. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)\" \"\\<lambda> j. (?s * (cmod (conjugate (v $ i)) * cmod (v $ j)))\"]\n            atLeastLessThan_iff"], ["proof (prove)\nusing this:\n  \\<forall>j<m.\n     cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n     cmod (v $ j)\n     \\<le> r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n           (cmod (conjugate (v $ i)) * cmod (v $ j))\n  (\\<And>ia.\n      ia \\<in> {0..<m} \\<Longrightarrow>\n      cmod (conjugate (v $ i)) * cmod (X n $$ (i, ia) - A $$ (i, ia)) *\n      cmod (v $ ia)\n      \\<le> r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ i)) * cmod (v $ ia))) \\<Longrightarrow>\n  (\\<Sum>ia = 0..<m.\n      cmod (conjugate (v $ i)) * cmod (X n $$ (i, ia) - A $$ (i, ia)) *\n      cmod (v $ ia))\n  \\<le> (\\<Sum>ia = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ i)) * cmod (v $ ia)))\n  (?i \\<in> {?l..<?u}) = (?l \\<le> ?i \\<and> ?i < ?u)\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<m.\n        cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n        cmod (v $ j))\n    \\<le> (\\<Sum>j = 0..<m.\n              r /\n              (2 *\n               (\\<Sum>i = 0..<m.\n                   \\<Sum>j = 0..<m.\n                      cmod (conjugate (v $ i)) * cmod (v $ j))) *\n              (cmod (conjugate (v $ i)) * cmod (v $ j)))", "by blast"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<m.\n      cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n      cmod (v $ j))\n  \\<le> (\\<Sum>j = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?i < m \\<Longrightarrow>\n  (\\<Sum>j = 0..<m.\n      cmod (conjugate (v $ ?i)) * cmod (X n $$ (?i, j) - A $$ (?i, j)) *\n      cmod (v $ j))\n  \\<le> (\\<Sum>j = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ ?i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "then"], ["proof (chain)\npicking this:\n  ?i < m \\<Longrightarrow>\n  (\\<Sum>j = 0..<m.\n      cmod (conjugate (v $ ?i)) * cmod (X n $$ (?i, j) - A $$ (?i, j)) *\n      cmod (v $ j))\n  \\<le> (\\<Sum>j = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ ?i)) * cmod (v $ j)))", "have \"(\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j))\n                  \\<le> (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m.(?s * (cmod (conjugate (v $ i)) * cmod (v $ j))))\""], ["proof (prove)\nusing this:\n  ?i < m \\<Longrightarrow>\n  (\\<Sum>j = 0..<m.\n      cmod (conjugate (v $ ?i)) * cmod (X n $$ (?i, j) - A $$ (?i, j)) *\n      cmod (v $ j))\n  \\<le> (\\<Sum>j = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ ?i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 r /\n                 (2 *\n                  (\\<Sum>i = 0..<m.\n                      \\<Sum>j = 0..<m.\n                         cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                 (cmod (conjugate (v $ i)) * cmod (v $ j)))", "using sum_mono atLeastLessThan_iff"], ["proof (prove)\nusing this:\n  ?i < m \\<Longrightarrow>\n  (\\<Sum>j = 0..<m.\n      cmod (conjugate (v $ ?i)) * cmod (X n $$ (?i, j) - A $$ (?i, j)) *\n      cmod (v $ j))\n  \\<le> (\\<Sum>j = 0..<m.\n            r /\n            (2 *\n             (\\<Sum>i = 0..<m.\n                 \\<Sum>j = 0..<m.\n                    cmod (conjugate (v $ i)) * cmod (v $ j))) *\n            (cmod (conjugate (v $ ?i)) * cmod (v $ j)))\n  (\\<And>i. i \\<in> ?K \\<Longrightarrow> ?f i \\<le> ?g i) \\<Longrightarrow>\n  sum ?f ?K \\<le> sum ?g ?K\n  (?i \\<in> {?l..<?u}) = (?l \\<le> ?i \\<and> ?i < ?u)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    \\<le> (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 r /\n                 (2 *\n                  (\\<Sum>i = 0..<m.\n                      \\<Sum>j = 0..<m.\n                         cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                 (cmod (conjugate (v $ i)) * cmod (v $ j)))", "by (metis (no_types, lifting))"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) * cmod (v $ j))) *\n               (cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               r /\n               (2 *\n                (\\<Sum>i = 0..<m.\n                    \\<Sum>j = 0..<m.\n                       cmod (conjugate (v $ i)) * cmod (v $ j))) *\n               (cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "have \"\\<dots> = ?s * (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m.((cmod (conjugate (v $ i)) * cmod (v $ j))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           r /\n           (2 *\n            (\\<Sum>i = 0..<m.\n                \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n           (cmod (conjugate (v $ i)) * cmod (v $ j))) =\n    r /\n    (2 *\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))", "by (simp add: sum_distrib_left)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n         (cmod (conjugate (v $ i)) * cmod (v $ j))) =\n  r /\n  (2 *\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         r /\n         (2 *\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n         (cmod (conjugate (v $ i)) * cmod (v $ j))) =\n  r /\n  (2 *\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "have \"\\<dots> = r / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r /\n    (2 *\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n    r / 2", "using nonzero_mult_divide_mult_cancel_right sgz"], ["proof (prove)\nusing this:\n  ?c \\<noteq> (0::?'a) \\<Longrightarrow> ?a * ?c / (?b * ?c) = ?a / ?b\n  0 < r /\n      (2 *\n       (\\<Sum>i = 0..<m.\n           \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)))\n\ngoal (1 subgoal):\n 1. r /\n    (2 *\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n    r / 2", "by fastforce"], ["proof (state)\nthis:\n  r /\n  (2 *\n   (\\<Sum>i = 0..<m.\n       \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j))) *\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (v $ j)) =\n  r / 2\n\ngoal (1 subgoal):\n 1. (\\<And>i j n.\n        \\<lbrakk>i < m; j < m; N \\<le> n\\<rbrakk>\n        \\<Longrightarrow> cmod (conjugate (v $ i)) *\n                          cmod (X n $$ (i, j) - A $$ (i, j)) *\n                          cmod (v $ j)\n                          \\<le> r /\n                                (2 *\n                                 (\\<Sum>i = 0..<m.\n                                     \\<Sum>j = 0..<m.\n  cmod (conjugate (v $ i)) * cmod (v $ j))) *\n                                (cmod (conjugate (v $ i)) *\n                                 cmod (v $ j))) \\<Longrightarrow>\n    (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  \\<le> r / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  \\<le> r / 2\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "using r"], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  \\<le> r / 2\n  0 < r\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<m.\n        \\<Sum>j = 0..<m.\n           cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n           cmod (v $ j))\n    < r", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?n \\<Longrightarrow>\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X ?n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "then"], ["proof (chain)\npicking this:\n  N \\<le> ?n \\<Longrightarrow>\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X ?n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  < r", "show ?thesis"], ["proof (prove)\nusing this:\n  N \\<le> ?n \\<Longrightarrow>\n  (\\<Sum>i = 0..<m.\n      \\<Sum>j = 0..<m.\n         cmod (conjugate (v $ i)) * cmod (X ?n $$ (i, j) - A $$ (i, j)) *\n         cmod (v $ j))\n  < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          (\\<Sum>i = 0..<m.\n              \\<Sum>j = 0..<m.\n                 cmod (conjugate (v $ i)) *\n                 cmod (X n $$ (i, j) - A $$ (i, j)) *\n                 cmod (v $ j))\n          < r", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n        < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n        < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "then"], ["proof (chain)\npicking this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n        < ?r", "have XnAv:\"\\<exists>no. \\<forall>n\\<ge>no. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < r\" if r: \"r > 0\" for r"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n        < ?r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n          < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>r.\n        0 < r \\<Longrightarrow>\n        \\<exists>no.\n           \\<forall>n\\<ge>no.\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) *\n                     cmod (X n $$ (i, j) - A $$ (i, j)) *\n                     cmod (v $ j))\n              < r) \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n          < r", "obtain no where nno: \"\\<forall>n\\<ge>no. (\\<Sum>i = 0..<m. \\<Sum>j = 0..<m. cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) * cmod (v $ j)) < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m.\n                  cmod (conjugate (v $ i)) *\n                  cmod (X n $$ (i, j) - A $$ (i, j)) *\n                  cmod (v $ j))\n           < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using r cmoda neg"], ["proof (prove)\nusing this:\n  0 < r\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n        < ?r\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           (\\<Sum>i = 0..<m.\n               \\<Sum>j = 0..<m.\n                  cmod (conjugate (v $ i)) *\n                  cmod (X n $$ (i, j) - A $$ (i, j)) *\n                  cmod (v $ j))\n           < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no.\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n            cmod (v $ j))\n     < r\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        0 < r \\<Longrightarrow>\n        \\<exists>no.\n           \\<forall>n\\<ge>no.\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) *\n                     cmod (X n $$ (i, j) - A $$ (i, j)) *\n                     cmod (v $ j))\n              < r) \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no.\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n            cmod (v $ j))\n     < r", "have \"\\<forall>n\\<ge>no. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no.\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n            cmod (v $ j))\n     < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n       < r", "using XAless neg"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no.\n     (\\<Sum>i = 0..<m.\n         \\<Sum>j = 0..<m.\n            cmod (conjugate (v $ i)) * cmod (X n $$ (i, j) - A $$ (i, j)) *\n            cmod (v $ j))\n     < r\n  cmod (inner_prod v (X ?n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n  \\<le> (\\<Sum>i = 0..<m.\n            \\<Sum>j = 0..<m.\n               cmod (conjugate (v $ i)) *\n               cmod (X ?n $$ (i, j) - A $$ (i, j)) *\n               cmod (v $ j))\n  dim_vec v = dim_col A \\<and> inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n       < r", "by smt"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no.\n     cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n     < r\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        0 < r \\<Longrightarrow>\n        \\<exists>no.\n           \\<forall>n\\<ge>no.\n              (\\<Sum>i = 0..<m.\n                  \\<Sum>j = 0..<m.\n                     cmod (conjugate (v $ i)) *\n                     cmod (X n $$ (i, j) - A $$ (i, j)) *\n                     cmod (v $ j))\n              < r) \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n          < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no.\n     cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n     < r", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no.\n     cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n     < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n          < r", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n        < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n        < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "then"], ["proof (chain)\npicking this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n        < ?r", "have \"(\\<lambda>n. inner_prod v (X n *\\<^sub>v v)) \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\""], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n        < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "unfolding LIMSEQ_def dist_norm"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n        < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             cmod\n              (inner_prod v (X n *\\<^sub>v v) -\n               inner_prod v (A *\\<^sub>v v))\n             < r", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<forall>i<m.\n       \\<forall>j<m.\n          (\\<lambda>n. X n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n    \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "from limXv"], ["proof (chain)\npicking this:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)", "have \"\\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < r\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. inner_prod v (X n *\\<^sub>v v))\n  \\<longlonglongrightarrow> inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             cmod\n              (inner_prod v (X n *\\<^sub>v v) -\n               inner_prod v (A *\\<^sub>v v))\n             < r", "unfolding LIMSEQ_def dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           cmod\n            (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n           < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             cmod\n              (inner_prod v (X n *\\<^sub>v v) -\n               inner_prod v (A *\\<^sub>v v))\n             < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           cmod\n            (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n           < r\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           cmod\n            (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n           < r", "have \"\\<exists>no. \\<forall>n\\<ge>no. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < -?r\""], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           cmod\n            (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n           < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          complex_of_real\n           (cmod\n             (inner_prod v (X n *\\<^sub>v v) -\n              inner_prod v (A *\\<^sub>v v)))\n          < - inner_prod v (A *\\<^sub>v v)", "using rl"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no.\n        \\<forall>n\\<ge>no.\n           cmod\n            (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v))\n           < r\n  inner_prod v (A *\\<^sub>v v) < 0\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no.\n          complex_of_real\n           (cmod\n             (inner_prod v (X n *\\<^sub>v v) -\n              inner_prod v (A *\\<^sub>v v)))\n          < - inner_prod v (A *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        complex_of_real\n         (cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n        < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        complex_of_real\n         (cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n        < - inner_prod v (A *\\<^sub>v v)", "obtain N where Ng: \"\\<forall>n\\<ge>N. cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < -?r\""], ["proof (prove)\nusing this:\n  \\<exists>no.\n     \\<forall>n\\<ge>no.\n        complex_of_real\n         (cmod\n           (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n        < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           complex_of_real\n            (cmod\n              (inner_prod v (X n *\\<^sub>v v) -\n               inner_prod v (A *\\<^sub>v v)))\n           < - inner_prod v (A *\\<^sub>v v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N.\n     complex_of_real\n      (cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n     < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>N.\n     complex_of_real\n      (cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n     < - inner_prod v (A *\\<^sub>v v)", "have XN: \"cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) < -?r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N.\n     complex_of_real\n      (cmod (inner_prod v (X n *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n     < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. complex_of_real\n     (cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n    < - inner_prod v (A *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "from posX"], ["proof (chain)\npicking this:\n  \\<forall>n. positive (X n)", "have \"positive (X N)\""], ["proof (prove)\nusing this:\n  \\<forall>n. positive (X n)\n\ngoal (1 subgoal):\n 1. positive (X N)", "by auto"], ["proof (state)\nthis:\n  positive (X N)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  positive (X N)", "have XNv:\"inner_prod v (X N *\\<^sub>v v) \\<ge> 0\""], ["proof (prove)\nusing this:\n  positive (X N)\n\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v (X N *\\<^sub>v v)", "by (metis Complex_Matrix.positive_def carrier_matD(2) dimA dimX neg)"], ["proof (state)\nthis:\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "from rl XNv"], ["proof (chain)\npicking this:\n  inner_prod v (A *\\<^sub>v v) < 0\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)", "have XX: \"cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) = cmod(inner_prod v (X N *\\<^sub>v v)) - cmod(inner_prod v (A *\\<^sub>v v))\""], ["proof (prove)\nusing this:\n  inner_prod v (A *\\<^sub>v v) < 0\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n    cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v))", "using XN cmod_eq_Re"], ["proof (prove)\nusing this:\n  inner_prod v (A *\\<^sub>v v) < 0\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n  Im ?z = 0 \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n    cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v))", "by auto"], ["proof (state)\nthis:\n  cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))", "have YY: \"cmod(inner_prod v (X N *\\<^sub>v v)) - cmod(inner_prod v (A *\\<^sub>v v)) < -?r\""], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. complex_of_real\n     (cmod (inner_prod v (X N *\\<^sub>v v)) -\n      cmod (inner_prod v (A *\\<^sub>v v)))\n    < - inner_prod v (A *\\<^sub>v v)", "using XN"], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. complex_of_real\n     (cmod (inner_prod v (X N *\\<^sub>v v)) -\n      cmod (inner_prod v (A *\\<^sub>v v)))\n    < - inner_prod v (A *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)", "have \"cmod(inner_prod v (X N *\\<^sub>v v)) - cmod(inner_prod v (A *\\<^sub>v v)) < cmod(inner_prod v (A *\\<^sub>v v))\""], ["proof (prove)\nusing this:\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v))\n    < cmod (inner_prod v (A *\\<^sub>v v))", "using rl cmod_eq_Re"], ["proof (prove)\nusing this:\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n  inner_prod v (A *\\<^sub>v v) < 0\n  Im ?z = 0 \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v))\n    < cmod (inner_prod v (A *\\<^sub>v v))", "by auto"], ["proof (state)\nthis:\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  < cmod (inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  < cmod (inner_prod v (A *\\<^sub>v v))", "have  \"cmod(inner_prod v (X N *\\<^sub>v v)) < 0\""], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  < cmod (inner_prod v (A *\\<^sub>v v))\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v)) < 0", "using XNv XX YY cmod_eq_Re"], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  < cmod (inner_prod v (A *\\<^sub>v v))\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)\n  cmod (inner_prod v (X N *\\<^sub>v v) - inner_prod v (A *\\<^sub>v v)) =\n  cmod (inner_prod v (X N *\\<^sub>v v)) -\n  cmod (inner_prod v (A *\\<^sub>v v))\n  complex_of_real\n   (cmod (inner_prod v (X N *\\<^sub>v v)) -\n    cmod (inner_prod v (A *\\<^sub>v v)))\n  < - inner_prod v (A *\\<^sub>v v)\n  Im ?z = 0 \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n\ngoal (1 subgoal):\n 1. cmod (inner_prod v (X N *\\<^sub>v v)) < 0", "by auto"], ["proof (state)\nthis:\n  cmod (inner_prod v (X N *\\<^sub>v v)) < 0\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) < 0", "have \"False\""], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) < 0\n\ngoal (1 subgoal):\n 1. False", "using XNv"], ["proof (prove)\nusing this:\n  cmod (inner_prod v (X N *\\<^sub>v v)) < 0\n  0 \\<le> inner_prod v (X N *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<not> positive A \\<Longrightarrow> False", "with npA"], ["proof (chain)\npicking this:\n  \\<not> positive A\n  False", "show False"], ["proof (prove)\nusing this:\n  \\<not> positive A\n  False\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma limit_mat_ignore_initial_segment:\n  \"limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "assume asm: \"limit_mat g A d\""], ["proof (state)\nthis:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "then"], ["proof (chain)\npicking this:\n  limit_mat g A d", "have lim: \"\\<forall> i < d. \\<forall> j < d. (\\<lambda> n. (g n) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\nusing this:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat g A d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have limk: \"\\<forall> i < d. \\<forall> j < d. (\\<lambda> n. (g (n + k)) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "assume dims: \"i < d\" \"j < d\""], ["proof (state)\nthis:\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  i < d\n  j < d", "have \"(\\<lambda> n. (g n) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\nusing this:\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using lim"], ["proof (prove)\nusing this:\n  i < d\n  j < d\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have \"(\\<lambda> n. (g (n + k)) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. g (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using LIMSEQ_ignore_initial_segment"], ["proof (prove)\nusing this:\n  (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n  ?f \\<longlonglongrightarrow> ?a \\<Longrightarrow>\n  (\\<lambda>n. ?f (n + ?k)) \\<longlonglongrightarrow> ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. g (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. g (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < d; ?j2 < d\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. g (n + k) $$ (?i2, ?j2))\n                    \\<longlonglongrightarrow> A $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j) \\<Longrightarrow>\n    \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i2 < d; ?j2 < d\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. g (n + k) $$ (?i2, ?j2))\n                    \\<longlonglongrightarrow> A $$ (?i2, ?j2)", "show \"\\<forall> i < d. \\<forall> j < d. (\\<lambda> n. (g (n + k)) $$ (i, j)) \\<longlonglongrightarrow> (A $$ (i, j))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i2 < d; ?j2 < d\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. g (n + k) $$ (?i2, ?j2))\n                    \\<longlonglongrightarrow> A $$ (?i2, ?j2)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g (n + k) $$ (i, j))\n          \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g (n + k) $$ (i, j))\n        \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g (n + k) $$ (i, j))\n        \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "have \"\\<forall> n. g n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. g n \\<in> carrier_mat d d", "using asm"], ["proof (prove)\nusing this:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. \\<forall>n. g n \\<in> carrier_mat d d", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     g n \\<in> carrier_mat d d \\<and>\n     A \\<in> carrier_mat d d \\<and>\n     (\\<forall>i<d.\n         \\<forall>j<d.\n            (\\<lambda>n. g n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n. g n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. g n \\<in> carrier_mat d d", "have \"\\<forall> n. g (n + k) \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  \\<forall>n. g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<forall>n. g (n + k) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. g (n + k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. g (n + k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "have \"A \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "using asm limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat g A d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow> limit_mat (\\<lambda>n. g (n + k)) A d", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. g (n + k) \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d", "show \"limit_mat (\\<lambda>n. g (n + k)) A d\""], ["proof (prove)\nusing this:\n  \\<forall>n. g (n + k) \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. g (n + k)) A d", "using limit_mat_def limk"], ["proof (prove)\nusing this:\n  \\<forall>n. g (n + k) \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g (n + k) $$ (i, j))\n        \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. g (n + k)) A d", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. g (n + k)) A d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_trace_limit:\n  \"limit_mat g A d \\<Longrightarrow> (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "assume lim: \"limit_mat g A d\""], ["proof (state)\nthis:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "then"], ["proof (chain)\npicking this:\n  limit_mat g A d", "have dgn: \"g n \\<in> carrier_mat d d\" for n"], ["proof (prove)\nusing this:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. g n \\<in> carrier_mat d d", "using limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat g A d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. g n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  g ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "from lim"], ["proof (chain)\npicking this:\n  limit_mat g A d", "have dA: \"A \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "using limit_mat_def"], ["proof (prove)\nusing this:\n  limit_mat g A d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "have trg: \"trace (g n) = (\\<Sum>k=0..<d. (g n)$$(k, k))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (g n) = (\\<Sum>k = 0..<d. g n $$ (k, k))", "unfolding trace_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row (g n). g n $$ (i, i)) =\n    (\\<Sum>k = 0..<d. g n $$ (k, k))", "using carrier_matD[OF dgn]"], ["proof (prove)\nusing this:\n  dim_row (g ?n1) = d\n  dim_col (g ?n1) = d\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row (g n). g n $$ (i, i)) =\n    (\\<Sum>k = 0..<d. g n $$ (k, k))", "by auto"], ["proof (state)\nthis:\n  trace (g ?n) = (\\<Sum>k = 0..<d. g ?n $$ (k, k))\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "have \"\\<forall>k < d. (\\<lambda>n. (g n)$$(k, k)) \\<longlonglongrightarrow> A$$(k, k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>k<d.\n       (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)", "using limit_mat_def lim"], ["proof (prove)\nusing this:\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  limit_mat g A d\n\ngoal (1 subgoal):\n 1. \\<forall>k<d.\n       (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)", "by auto"], ["proof (state)\nthis:\n  \\<forall>k<d.\n     (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "then"], ["proof (chain)\npicking this:\n  \\<forall>k<d.\n     (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)", "have \"(\\<lambda>n. (\\<Sum>k=0..<d. (g n)$$(k, k))) \\<longlonglongrightarrow> (\\<Sum>k=0..<d. A$$(k, k))\""], ["proof (prove)\nusing this:\n  \\<forall>k<d.\n     (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n    \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))", "using tendsto_sum[where ?I = \"{0..<d}\" and ?f = \"(\\<lambda>k n. (g n)$$(k, k))\"]"], ["proof (prove)\nusing this:\n  \\<forall>k<d.\n     (\\<lambda>n. g n $$ (k, k)) \\<longlonglongrightarrow> A $$ (k, k)\n  (\\<And>i.\n      i \\<in> {0..<d} \\<Longrightarrow>\n      ((\\<lambda>n. g n $$ (i, i)) \\<longlongrightarrow> ?a i)\n       ?F) \\<Longrightarrow>\n  ((\\<lambda>x. \\<Sum>i = 0..<d. g x $$ (i, i)) \\<longlongrightarrow>\n   sum ?a {0..<d})\n   ?F\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n    \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))\n\ngoal (1 subgoal):\n 1. limit_mat g A d \\<Longrightarrow>\n    (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))", "show \"(\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A", "unfolding trace_def"], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>i = 0..<dim_row (g n). g n $$ (i, i))\n    \\<longlonglongrightarrow> (\\<Sum>i = 0..<dim_row A. A $$ (i, i))", "using trg carrier_matD[OF dgn] carrier_matD[OF dA]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>k = 0..<d. g n $$ (k, k))\n  \\<longlonglongrightarrow> (\\<Sum>k = 0..<d. A $$ (k, k))\n  trace (g ?n) = (\\<Sum>k = 0..<d. g ?n $$ (k, k))\n  dim_row (g ?n1) = d\n  dim_col (g ?n1) = d\n  dim_row A = d\n  dim_col A = d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>i = 0..<dim_row (g n). g n $$ (i, i))\n    \\<longlonglongrightarrow> (\\<Sum>i = 0..<dim_row A. A $$ (i, i))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. trace (g n)) \\<longlonglongrightarrow> trace A\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Existence of least upper bound for the L\\\"{o}wner order\\<close>"], ["", "definition lowner_is_lub :: \"(nat \\<Rightarrow> complex mat) \\<Rightarrow> complex mat \\<Rightarrow> bool\" where\n  \"lowner_is_lub f M \\<longleftrightarrow> (\\<forall>n. f n \\<le>\\<^sub>L M) \\<and> (\\<forall>M'. (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow> M \\<le>\\<^sub>L M')\""], ["", "locale matrix_seq =\n  fixes dim :: nat\n    and f :: \"nat \\<Rightarrow> complex mat\"\n  assumes\n    dim: \"\\<And>n. f n \\<in> carrier_mat dim dim\" and\n    pdo: \"\\<And>n. partial_density_operator (f n)\" and\n    inc: \"\\<And>n. lowner_le (f n) (f (Suc n))\"\nbegin"], ["", "definition lowner_is_lub :: \"complex mat \\<Rightarrow> bool\" where\n  \"lowner_is_lub M \\<longleftrightarrow> (\\<forall>n. f n \\<le>\\<^sub>L M) \\<and> (\\<forall>M'. (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow> M \\<le>\\<^sub>L M')\""], ["", "lemma lowner_is_lub_dim:\n  assumes \"lowner_is_lub M\"\n  shows \"M \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "have \"f 0 \\<le>\\<^sub>L M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L M", "using assms lowner_is_lub_def"], ["proof (prove)\nusing this:\n  local.lowner_is_lub M\n  local.lowner_is_lub ?M =\n  ((\\<forall>n. f n \\<le>\\<^sub>L ?M) \\<and>\n   (\\<forall>M'.\n       (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n       ?M \\<le>\\<^sub>L M'))\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L M", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L M\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L M", "have 1: \"dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M\""], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L M\n\ngoal (1 subgoal):\n 1. dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M", "using lowner_le_def"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L M\n  (?A \\<le>\\<^sub>L ?B) =\n  (dim_row ?A = dim_row ?B \\<and>\n   dim_col ?A = dim_col ?B \\<and> positive (?B - ?A))\n\ngoal (1 subgoal):\n 1. dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M", "by auto"], ["proof (state)\nthis:\n  dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "moreover"], ["proof (state)\nthis:\n  dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "have 2: \"f 0 \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<in> carrier_mat dim dim", "using dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f 0 \\<in> carrier_mat dim dim", "by auto"], ["proof (state)\nthis:\n  f 0 \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "ultimately"], ["proof (chain)\npicking this:\n  dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M\n  f 0 \\<in> carrier_mat dim dim", "show ?thesis"], ["proof (prove)\nusing this:\n  dim_row (f 0) = dim_row M \\<and> dim_col (f 0) = dim_col M\n  f 0 \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "by auto"], ["proof (state)\nthis:\n  M \\<in> carrier_mat dim dim\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_adjoint_eq_u:\n  fixes A :: \"complex mat\"\n  shows \"trace (A * adjoint A) = (\\<Sum> i \\<in> {0 ..< dim_row A}. \\<Sum> j \\<in> {0 ..< dim_col A}. (norm(A $$ (i,j)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "have \"trace (A * adjoint A) = (\\<Sum> i \\<in> {0 ..< dim_row A}. row A i \\<bullet> conjugate (row A i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    (\\<Sum>i = 0..<dim_row A. inner_prod (row A i) (row A i))", "by (simp add: trace_def cmod_def adjoint_def scalar_prod_def)"], ["proof (state)\nthis:\n  trace (A * adjoint A) =\n  (\\<Sum>i = 0..<dim_row A. inner_prod (row A i) (row A i))\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "also"], ["proof (state)\nthis:\n  trace (A * adjoint A) =\n  (\\<Sum>i = 0..<dim_row A. inner_prod (row A i) (row A i))\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "have \"\\<dots> = (\\<Sum> i \\<in> {0 ..< dim_row A}. \\<Sum> j \\<in> {0 ..< dim_col A}. (norm(A $$ (i,j)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row A. inner_prod (row A i) (row A i)) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "proof (simp add: scalar_prod_def cmod_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row A.\n        \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)", "have cnjmul: \"\\<forall> i ia. A $$ (i, ia) * cnj (A $$ (i, ia)) =\n                   ((complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 + (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i ia.\n       A $$ (i, ia) * cnj (A $$ (i, ia)) =\n       (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n       (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2", "by (simp add: complex_mult_cnj)"], ["proof (state)\nthis:\n  \\<forall>i ia.\n     A $$ (i, ia) * cnj (A $$ (i, ia)) =\n     (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n     (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row A.\n        \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i ia.\n     A $$ (i, ia) * cnj (A $$ (i, ia)) =\n     (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n     (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2", "have \"\\<forall> i. (\\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n                      (\\<Sum>ia = 0..<dim_col A.  ((complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 + (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2))\""], ["proof (prove)\nusing this:\n  \\<forall>i ia.\n     A $$ (i, ia) * cnj (A $$ (i, ia)) =\n     (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n     (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       (\\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n       (\\<Sum>ia = 0..<dim_col A.\n           (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n           (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i.\n     (\\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n     (\\<Sum>ia = 0..<dim_col A.\n         (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n         (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row A.\n        \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i.\n     (\\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n     (\\<Sum>ia = 0..<dim_col A.\n         (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n         (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2)", "show\"(\\<Sum>i = 0..<dim_row A. \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n        (\\<Sum>x = 0..<dim_row A. \\<Sum>xa = 0..<dim_col A. (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n        (\\<Sum>x = 0..<dim_row A. \\<Sum>xa = 0..<dim_col A. (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)\""], ["proof (prove)\nusing this:\n  \\<forall>i.\n     (\\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n     (\\<Sum>ia = 0..<dim_col A.\n         (complex_of_real (Re (A $$ (i, ia))))\\<^sup>2 +\n         (complex_of_real (Im (A $$ (i, ia))))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_row A.\n        \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n    (\\<Sum>x = 0..<dim_row A.\n        \\<Sum>xa = 0..<dim_col A.\n           (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<dim_row A.\n      \\<Sum>ia = 0..<dim_col A. A $$ (i, ia) * cnj (A $$ (i, ia))) =\n  (\\<Sum>x = 0..<dim_row A.\n      \\<Sum>xa = 0..<dim_col A.\n         (complex_of_real (Re (A $$ (x, xa))))\\<^sup>2) +\n  (\\<Sum>x = 0..<dim_row A.\n      \\<Sum>xa = 0..<dim_col A.\n         (complex_of_real (Im (A $$ (x, xa))))\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<dim_row A. inner_prod (row A i) (row A i)) =\n  complex_of_real\n   (\\<Sum>i = 0..<dim_row A.\n       \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "finally"], ["proof (chain)\npicking this:\n  trace (A * adjoint A) =\n  complex_of_real\n   (\\<Sum>i = 0..<dim_row A.\n       \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  trace (A * adjoint A) =\n  complex_of_real\n   (\\<Sum>i = 0..<dim_row A.\n       \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) =\n    complex_of_real\n     (\\<Sum>i = 0..<dim_row A.\n         \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)", "."], ["proof (state)\nthis:\n  trace (A * adjoint A) =\n  complex_of_real\n   (\\<Sum>i = 0..<dim_row A.\n       \\<Sum>j = 0..<dim_col A. (cmod (A $$ (i, j)))\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_adjoint_element_ineq:\n  fixes A :: \"complex mat\"\n  assumes rindex: \"i \\<in> {0 ..< dim_row A}\"\n     and  cindex: \"j \\<in> {0 ..< dim_col A}\"\n  shows \"(norm(A $$ (i,j)))\\<^sup>2 \\<le> trace (A * adjoint A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real ((cmod (A $$ (i, j)))\\<^sup>2)\n    \\<le> trace (A * adjoint A)", "proof (simp add: trace_adjoint_eq_u)"], ["proof (state)\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "have ineqi: \"(cmod (A $$ (i, j)))\\<^sup>2 \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)", "using cindex member_le_sum[of j \" {0 ..< dim_col A}\" \"\\<lambda> x. (cmod (A $$ (i, x)))\\<^sup>2\"]"], ["proof (prove)\nusing this:\n  j \\<in> {0..<dim_col A}\n  \\<lbrakk>j \\<in> {0..<dim_col A};\n   \\<And>x.\n      x \\<in> {0..<dim_col A} - {j} \\<Longrightarrow>\n      0 \\<le> (cmod (A $$ (i, x)))\\<^sup>2;\n   finite {0..<dim_col A}\\<rbrakk>\n  \\<Longrightarrow> (cmod (A $$ (i, j)))\\<^sup>2\n                    \\<le> (\\<Sum>x = 0..<dim_col A.\n                              (cmod (A $$ (i, x)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  (cmod (A $$ (i, j)))\\<^sup>2\n  \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "also"], ["proof (state)\nthis:\n  (cmod (A $$ (i, j)))\\<^sup>2\n  \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "have ineqj: \"\\<dots> \\<le> (\\<Sum>x = 0..<dim_row A. \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "using rindex member_le_sum[of i \" {0 ..< dim_row A}\" \"\\<lambda> x. \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0..<dim_row A}\n  \\<lbrakk>i \\<in> {0..<dim_row A};\n   \\<And>x.\n      x \\<in> {0..<dim_row A} - {i} \\<Longrightarrow>\n      0 \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2);\n   finite {0..<dim_row A}\\<rbrakk>\n  \\<Longrightarrow> (\\<Sum>xa = 0..<dim_col A.\n                        (cmod (A $$ (i, xa)))\\<^sup>2)\n                    \\<le> (\\<Sum>x = 0..<dim_row A.\n                              \\<Sum>xa = 0..<dim_col A.\n                                 (cmod (A $$ (x, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n  \\<le> (\\<Sum>x = 0..<dim_row A.\n            \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n  \\<le> (\\<Sum>x = 0..<dim_row A.\n            \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "show \"(cmod (A $$ (i, j)))\\<^sup>2 \\<le> (\\<Sum>x = 0..<dim_row A. \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\""], ["proof (prove)\nusing this:\n  (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n  \\<le> (\\<Sum>x = 0..<dim_row A.\n            \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "using ineqi"], ["proof (prove)\nusing this:\n  (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n  \\<le> (\\<Sum>x = 0..<dim_row A.\n            \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\n  (cmod (A $$ (i, j)))\\<^sup>2\n  \\<le> (\\<Sum>xa = 0..<dim_col A. (cmod (A $$ (i, xa)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (cmod (A $$ (i, j)))\\<^sup>2\n    \\<le> (\\<Sum>x = 0..<dim_row A.\n              \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)", "by linarith"], ["proof (state)\nthis:\n  (cmod (A $$ (i, j)))\\<^sup>2\n  \\<le> (\\<Sum>x = 0..<dim_row A.\n            \\<Sum>xa = 0..<dim_col A. (cmod (A $$ (x, xa)))\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma positive_is_normal:\n  fixes A :: \"complex mat\"\n  assumes pos: \"positive A\"\n  shows \"A * adjoint A = adjoint A * A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A * adjoint A = adjoint A * A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. A * adjoint A = adjoint A * A", "have hA: \"hermitian A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hermitian A", "using positive_is_hermitian pos"], ["proof (prove)\nusing this:\n  positive ?A \\<Longrightarrow> hermitian ?A\n  positive A\n\ngoal (1 subgoal):\n 1. hermitian A", "by auto"], ["proof (state)\nthis:\n  hermitian A\n\ngoal (1 subgoal):\n 1. A * adjoint A = adjoint A * A", "then"], ["proof (chain)\npicking this:\n  hermitian A", "show ?thesis"], ["proof (prove)\nusing this:\n  hermitian A\n\ngoal (1 subgoal):\n 1. A * adjoint A = adjoint A * A", "by (simp add: hA hermitian_is_normal)"], ["proof (state)\nthis:\n  A * adjoint A = adjoint A * A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma diag_mat_mul_diag_diag:\n  fixes A B ::  \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat n n\" and dimB: \"B \\<in> carrier_mat n n\"\n    and dA: \"diagonal_mat A\"  and dB: \"diagonal_mat B\"\n  shows \"diagonal_mat (A * B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "proof  -"], ["proof (state)\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "have AB: \"A * B = mat n n (\\<lambda>(i,j). (if (i = j) then (A$$(i, i)) * (B$$(i, i)) else 0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "using diag_mat_mult_diag_mat[of A n B] dimA dimB dA dB"], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<in> carrier_mat n n; B \\<in> carrier_mat n n; diagonal_mat A;\n   diagonal_mat B\\<rbrakk>\n  \\<Longrightarrow> A * B =\n                    mat n n\n                     (\\<lambda>(i, j).\n                         if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  diagonal_mat A\n  diagonal_mat B\n\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "by auto"], ["proof (state)\nthis:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "then"], ["proof (chain)\npicking this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "have dAB: \"\\<forall>i<n. \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A*B) $$ (i,j) = 0\""], ["proof (prove)\nusing this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n\ngoal (1 subgoal):\n 1. \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "assume i: \"i < n\" and j: \"j < n\" and ij: \"i \\<noteq> j\""], ["proof (state)\nthis:\n  i < n\n  j < n\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "have \"(A*B) $$ (i,j) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A * B) $$ (i, j) = 0", "using AB i j ij"], ["proof (prove)\nusing this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n  i < n\n  j < n\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. (A * B) $$ (i, j) = 0", "by auto"], ["proof (state)\nthis:\n  (A * B) $$ (i, j) = 0\n\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < n; ?j2 < n; ?i2 \\<noteq> ?j2\\<rbrakk>\n  \\<Longrightarrow> (A * B) $$ (?i2, ?j2) = 0\n\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j).\n         if i = j then A $$ (i, i) * B $$ (i, i) else 0) \\<Longrightarrow>\n    \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i2 < n; ?j2 < n; ?i2 \\<noteq> ?j2\\<rbrakk>\n  \\<Longrightarrow> (A * B) $$ (?i2, ?j2) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i2 < n; ?j2 < n; ?i2 \\<noteq> ?j2\\<rbrakk>\n  \\<Longrightarrow> (A * B) $$ (?i2, ?j2) = 0\n\ngoal (1 subgoal):\n 1. \\<forall>i<n.\n       \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0\n\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0\n\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "using diagonal_mat_def dAB dimA dimB"], ["proof (prove)\nusing this:\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0\n  diagonal_mat ?A \\<equiv>\n  \\<forall>i<dim_row ?A.\n     \\<forall>j<dim_col ?A.\n        i \\<noteq> j \\<longrightarrow> ?A $$ (i, j) = (0::?'a)\n  \\<forall>i<n.\n     \\<forall>j<n. i \\<noteq> j \\<longrightarrow> (A * B) $$ (i, j) = 0\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. diagonal_mat (A * B)", "by (metis carrier_matD(1) carrier_matD(2) index_mult_mat(2) index_mult_mat(3))"], ["proof (state)\nthis:\n  diagonal_mat (A * B)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma diag_mat_mul_diag_ele:\n  fixes A B :: \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat n n\" and dimB: \"B \\<in> carrier_mat n n\"\n    and dA: \"diagonal_mat A\" and dB: \"diagonal_mat B\"\n  shows \"\\<forall>i<n. (A*B) $$ (i,i) = A$$(i, i) * B$$(i, i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)", "have AB: \"A * B = mat n n (\\<lambda>(i,j). if i = j then (A$$(i, i)) * (B$$(i, i)) else 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "using diag_mat_mult_diag_mat[of A n B] dimA dimB dA dB"], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<in> carrier_mat n n; B \\<in> carrier_mat n n; diagonal_mat A;\n   diagonal_mat B\\<rbrakk>\n  \\<Longrightarrow> A * B =\n                    mat n n\n                     (\\<lambda>(i, j).\n                         if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  diagonal_mat A\n  diagonal_mat B\n\ngoal (1 subgoal):\n 1. A * B =\n    mat n n\n     (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "by auto"], ["proof (state)\nthis:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n\ngoal (1 subgoal):\n 1. \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)", "then"], ["proof (chain)\npicking this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n\ngoal (1 subgoal):\n 1. \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)", "using AB"], ["proof (prove)\nusing this:\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n  A * B =\n  mat n n (\\<lambda>(i, j). if i = j then A $$ (i, i) * B $$ (i, i) else 0)\n\ngoal (1 subgoal):\n 1. \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<n. (A * B) $$ (i, i) = A $$ (i, i) * B $$ (i, i)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_square_less_square_trace:\n  fixes B ::  \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat n n\"\n      and dB: \"diagonal_mat B\" and pB: \"\\<And>i. i < n \\<Longrightarrow> B$$(i, i) \\<ge> 0\"\n    shows \"trace (B*B) \\<le> (trace B)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "have tB:  \"trace B = (\\<Sum> i \\<in> {0 ..<n}. B $$ (i,i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace B = (\\<Sum>i = 0..<n. B $$ (i, i))", "using assms trace_def[of B] carrier_mat_def"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat n n\n  diagonal_mat B\n  ?i < n \\<Longrightarrow> 0 \\<le> B $$ (?i, ?i)\n  trace B = (\\<Sum>i = 0..<dim_row B. B $$ (i, i))\n  carrier_mat ?nr ?nc = {m. dim_row m = ?nr \\<and> dim_col m = ?nc}\n\ngoal (1 subgoal):\n 1. trace B = (\\<Sum>i = 0..<n. B $$ (i, i))", "by auto"], ["proof (state)\nthis:\n  trace B = (\\<Sum>i = 0..<n. B $$ (i, i))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  trace B = (\\<Sum>i = 0..<n. B $$ (i, i))", "have tBtB: \"(trace B)\\<^sup>2 = (\\<Sum> i \\<in> {0 ..<n}.\\<Sum> j \\<in> {0 ..<n}. B $$ (i,i)*B $$ (j,j))\""], ["proof (prove)\nusing this:\n  trace B = (\\<Sum>i = 0..<n. B $$ (i, i))\n\ngoal (1 subgoal):\n 1. (trace B)\\<^sup>2 =\n    (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace B = (\\<Sum>i = 0..<n. B $$ (i, i)) \\<Longrightarrow>\n    (trace B)\\<^sup>2 =\n    (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (trace B)\\<^sup>2 =\n    (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "by (metis (no_types) semiring_normalization_rules(29) sum_product tB)"], ["proof (state)\nthis:\n  (trace B)\\<^sup>2 =\n  (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (trace B)\\<^sup>2 =\n  (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "have BB: \"\\<And>i. i < n \\<Longrightarrow> (B*B) $$ (i,i) = (B$$(i, i))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow> (B * B) $$ (i, i) = (B $$ (i, i))\\<^sup>2", "using diag_mat_mul_diag_ele[of B n B] dimB dB"], ["proof (prove)\nusing this:\n  \\<lbrakk>B \\<in> carrier_mat n n; B \\<in> carrier_mat n n; diagonal_mat B;\n   diagonal_mat B\\<rbrakk>\n  \\<Longrightarrow> \\<forall>i<n.\n                       (B * B) $$ (i, i) = B $$ (i, i) * B $$ (i, i)\n  B \\<in> carrier_mat n n\n  diagonal_mat B\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow> (B * B) $$ (i, i) = (B $$ (i, i))\\<^sup>2", "by (metis numeral_1_eq_Suc_0 power_Suc0_right power_add_numeral semiring_norm(2))"], ["proof (state)\nthis:\n  ?i < n \\<Longrightarrow> (B * B) $$ (?i, ?i) = (B $$ (?i, ?i))\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "have tBB:  \"trace (B*B) = (\\<Sum> i \\<in> {0 ..<n}. (B*B) $$ (i,i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (B * B) = (\\<Sum>i = 0..<n. (B * B) $$ (i, i))", "using assms trace_def[of \"B*B\"] carrier_mat_def"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat n n\n  diagonal_mat B\n  ?i < n \\<Longrightarrow> 0 \\<le> B $$ (?i, ?i)\n  trace (B * B) = (\\<Sum>i = 0..<dim_row (B * B). (B * B) $$ (i, i))\n  carrier_mat ?nr ?nc = {m. dim_row m = ?nr \\<and> dim_col m = ?nc}\n\ngoal (1 subgoal):\n 1. trace (B * B) = (\\<Sum>i = 0..<n. (B * B) $$ (i, i))", "by auto"], ["proof (state)\nthis:\n  trace (B * B) = (\\<Sum>i = 0..<n. (B * B) $$ (i, i))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "also"], ["proof (state)\nthis:\n  trace (B * B) = (\\<Sum>i = 0..<n. (B * B) $$ (i, i))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "have \"\\<dots> =  (\\<Sum> i \\<in> {0 ..<n}. (B$$(i, i))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<n. (B * B) $$ (i, i)) =\n    (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)", "using BB"], ["proof (prove)\nusing this:\n  ?i < n \\<Longrightarrow> (B * B) $$ (?i, ?i) = (B $$ (?i, ?i))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<n. (B * B) $$ (i, i)) =\n    (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..<n. (B * B) $$ (i, i)) =\n  (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)", "have BBt: \" trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\""], ["proof (prove)\nusing this:\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "have lesseq: \"\\<forall>i \\<in> {0 ..<n}. (B $$ (i, i))\\<^sup>2 \\<le> (\\<Sum> j \\<in> {0 ..<n}. B $$ (i,i)*B $$ (j,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "assume i: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "have \"(\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) = (B $$ (i, i))\\<^sup>2  + sum (\\<lambda> j. (B $$ (i, i) * B $$ (j, j))) ({0 ..<n} - {i})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) =\n    (B $$ (i, i))\\<^sup>2 +\n    (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "by (metis (no_types, lifting) BB atLeastLessThan_iff dB diag_mat_mul_diag_ele dimB finite_atLeastLessThan i not_le not_less_zero sum.remove)"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) =\n  (B $$ (i, i))\\<^sup>2 +\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) =\n  (B $$ (i, i))\\<^sup>2 +\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "have \"(sum (\\<lambda> j. (B $$ (i, i) * B $$ (j, j))) ({0 ..<n} - {i})) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "proof (cases \"{0..<n} - {i} \\<noteq> {}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n 2. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "case True"], ["proof (state)\nthis:\n  {0..<n} - {i} \\<noteq> {}\n\ngoal (2 subgoals):\n 1. {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n 2. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "then"], ["proof (chain)\npicking this:\n  {0..<n} - {i} \\<noteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  {0..<n} - {i} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "using pB i sum_nonneg[of \"{0..<n} - {i}\" \"\\<lambda> j. (B $$ (i, i) * B $$ (j, j))\"]"], ["proof (prove)\nusing this:\n  {0..<n} - {i} \\<noteq> {}\n  ?i < n \\<Longrightarrow> 0 \\<le> B $$ (?i, ?i)\n  i < n\n  (\\<And>x.\n      x \\<in> {0..<n} - {i} \\<Longrightarrow>\n      0 \\<le> B $$ (i, i) * B $$ (x, x)) \\<Longrightarrow>\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "by auto"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "case False"], ["proof (state)\nthis:\n  \\<not> {0..<n} - {i} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "have \"(\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0", "using False"], ["proof (prove)\nusing this:\n  \\<not> {0..<n} - {i} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0\n\ngoal (1 subgoal):\n 1. \\<not> {0..<n} - {i} \\<noteq> {} \\<Longrightarrow>\n    0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j)) = 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "by auto"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) =\n  (B $$ (i, i))\\<^sup>2 +\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))", "have \"(\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) \\<ge> (B $$ (i, i))\\<^sup>2\""], ["proof (prove)\nusing this:\n  (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j)) =\n  (B $$ (i, i))\\<^sup>2 +\n  (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n  0 \\<le> (\\<Sum>j\\<in>{0..<n} - {i}. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. (B $$ (i, i))\\<^sup>2 \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "by auto"], ["proof (state)\nthis:\n  (B $$ (i, i))\\<^sup>2 \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "}"], ["proof (state)\nthis:\n  ?i2 < n \\<Longrightarrow>\n  (B $$ (?i2, ?i2))\\<^sup>2\n  \\<le> (\\<Sum>j = 0..<n. B $$ (?i2, ?i2) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "then"], ["proof (chain)\npicking this:\n  ?i2 < n \\<Longrightarrow>\n  (B $$ (?i2, ?i2))\\<^sup>2\n  \\<le> (\\<Sum>j = 0..<n. B $$ (?i2, ?i2) * B $$ (j, j))", "show ?thesis"], ["proof (prove)\nusing this:\n  ?i2 < n \\<Longrightarrow>\n  (B $$ (?i2, ?i2))\\<^sup>2\n  \\<le> (\\<Sum>j = 0..<n. B $$ (?i2, ?i2) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<n}.\n       (B $$ (i, i))\\<^sup>2\n       \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>{0..<n}.\n     (B $$ (i, i))\\<^sup>2\n     \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i\\<in>{0..<n}.\n     (B $$ (i, i))\\<^sup>2\n     \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "from tBtB BBt lesseq"], ["proof (chain)\npicking this:\n  (trace B)\\<^sup>2 =\n  (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n  \\<forall>i\\<in>{0..<n}.\n     (B $$ (i, i))\\<^sup>2\n     \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))", "have \"trace (B*B) \\<le> (trace B)\\<^sup>2\""], ["proof (prove)\nusing this:\n  (trace B)\\<^sup>2 =\n  (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n  \\<forall>i\\<in>{0..<n}.\n     (B $$ (i, i))\\<^sup>2\n     \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "using sum_mono[of \"{0..<n}\" \"\\<lambda> i. (B $$ (i, i))\\<^sup>2\" \"\\<lambda> i. (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\"]"], ["proof (prove)\nusing this:\n  (trace B)\\<^sup>2 =\n  (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n  trace (B * B) = (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n  \\<forall>i\\<in>{0..<n}.\n     (B $$ (i, i))\\<^sup>2\n     \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n  (\\<And>i.\n      i \\<in> {0..<n} \\<Longrightarrow>\n      (B $$ (i, i))\\<^sup>2\n      \\<le> (\\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))) \\<Longrightarrow>\n  (\\<Sum>i = 0..<n. (B $$ (i, i))\\<^sup>2)\n  \\<le> (\\<Sum>i = 0..<n. \\<Sum>j = 0..<n. B $$ (i, i) * B $$ (j, j))\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "by (metis (no_types, lifting))"], ["proof (state)\nthis:\n  trace (B * B) \\<le> (trace B)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  trace (B * B) \\<le> (trace B)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  trace (B * B) \\<le> (trace B)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  trace (B * B) \\<le> (trace B)\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_positive_eq:\n   fixes A :: \"complex mat\"\n   assumes pos: \"positive A\"\n   shows \"trace (A * adjoint A) \\<le> (trace A)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from assms"], ["proof (chain)\npicking this:\n  positive A", "have normal: \"A * adjoint A = adjoint A * A\""], ["proof (prove)\nusing this:\n  positive A\n\ngoal (1 subgoal):\n 1. A * adjoint A = adjoint A * A", "by (rule positive_is_normal)"], ["proof (state)\nthis:\n  A * adjoint A = adjoint A * A\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  A * adjoint A = adjoint A * A\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from assms positive_dim_eq"], ["proof (chain)\npicking this:\n  positive A\n  positive ?A \\<Longrightarrow> dim_row ?A = dim_col ?A", "obtain n where cA: \"A \\<in> carrier_mat n n\""], ["proof (prove)\nusing this:\n  positive A\n  positive ?A \\<Longrightarrow> dim_row ?A = dim_col ?A\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        A \\<in> carrier_mat n n \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  A \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from assms complex_mat_char_poly_factorizable cA"], ["proof (chain)\npicking this:\n  positive A\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  \\<exists>as.\n     char_poly ?A = (\\<Prod>a\\<leftarrow>as. [:- a, 1:]) \\<and>\n     length as = ?n\n  A \\<in> carrier_mat n n", "obtain es where charpo: \" char_poly A =  (\\<Prod> a \\<leftarrow> es. [:- a, 1:]) \\<and> length es = n\""], ["proof (prove)\nusing this:\n  positive A\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  \\<exists>as.\n     char_poly ?A = (\\<Prod>a\\<leftarrow>as. [:- a, 1:]) \\<and>\n     length as = ?n\n  A \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. (\\<And>es.\n        char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and>\n        length es = n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "obtain B P Q where B: \"unitary_schur_decomposition A es = (B,P,Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B P Q.\n        unitary_schur_decomposition A es = (B, P, Q) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases \"unitary_schur_decomposition A es\", auto)"], ["proof (state)\nthis:\n  unitary_schur_decomposition A es = (B, P, Q)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "ultimately"], ["proof (chain)\npicking this:\n  A * adjoint A = adjoint A * A\n  A \\<in> carrier_mat n n\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n  unitary_schur_decomposition A es = (B, P, Q)", "have\n    smw: \"similar_mat_wit A B P (adjoint P)\"\n    and ut: \"diagonal_mat B\"\n    and uP:  \"unitary P\"\n    and dB: \"diag_mat B = es\"\n    and QaP: \"Q = adjoint P\""], ["proof (prove)\nusing this:\n  A * adjoint A = adjoint A * A\n  A \\<in> carrier_mat n n\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n  unitary_schur_decomposition A es = (B, P, Q)\n\ngoal (1 subgoal):\n 1. (similar_mat_wit A B P (adjoint P) &&& diagonal_mat B) &&&\n    unitary P &&& diag_mat B = es &&& Q = adjoint P", "using normal_complex_mat_has_spectral_decomposition[of A n es B P Q]  unitary_schur_decomposition"], ["proof (prove)\nusing this:\n  A * adjoint A = adjoint A * A\n  A \\<in> carrier_mat n n\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n  unitary_schur_decomposition A es = (B, P, Q)\n  \\<lbrakk>A \\<in> carrier_mat n n; A * adjoint A = adjoint A * A;\n   char_poly A = (\\<Prod>e\\<leftarrow>es. [:- e, 1:]);\n   unitary_schur_decomposition A es = (B, P, Q)\\<rbrakk>\n  \\<Longrightarrow> similar_mat_wit A B P (adjoint P) \\<and>\n                    diagonal_mat B \\<and> diag_mat B = es \\<and> unitary P\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n;\n   char_poly ?A = (\\<Prod>e\\<leftarrow>?es. [:- e, 1:]);\n   unitary_schur_decomposition ?A ?es = (?B, ?P, ?Q)\\<rbrakk>\n  \\<Longrightarrow> similar_mat_wit ?A ?B ?P ?Q \\<and>\n                    upper_triangular ?B \\<and>\n                    diag_mat ?B = ?es \\<and>\n                    unitary ?P \\<and> ?Q = adjoint ?P\n\ngoal (1 subgoal):\n 1. (similar_mat_wit A B P (adjoint P) &&& diagonal_mat B) &&&\n    unitary P &&& diag_mat B = es &&& Q = adjoint P", "by auto"], ["proof (state)\nthis:\n  similar_mat_wit A B P (adjoint P)\n  diagonal_mat B\n  unitary P\n  diag_mat B = es\n  Q = adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from smw cA QaP uP"], ["proof (chain)\npicking this:\n  similar_mat_wit A B P (adjoint P)\n  A \\<in> carrier_mat n n\n  Q = adjoint P\n  unitary P", "have cB: \"B \\<in> carrier_mat n n\" and cP: \"P \\<in> carrier_mat n n\" and cQ: \"Q \\<in> carrier_mat n n\""], ["proof (prove)\nusing this:\n  similar_mat_wit A B P (adjoint P)\n  A \\<in> carrier_mat n n\n  Q = adjoint P\n  unitary P\n\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat n n &&&\n    P \\<in> carrier_mat n n &&& Q \\<in> carrier_mat n n", "unfolding  similar_mat_wit_def Let_def unitary_def"], ["proof (prove)\nusing this:\n  {A, B, P, adjoint P}\n  \\<subseteq> carrier_mat (dim_row A) (dim_row A) \\<and>\n  P * adjoint P = 1\\<^sub>m (dim_row A) \\<and>\n  adjoint P * P = 1\\<^sub>m (dim_row A) \\<and> A = P * B * adjoint P\n  A \\<in> carrier_mat n n\n  Q = adjoint P\n  P \\<in> carrier_mat (dim_row P) (dim_row P) \\<and>\n  inverts_mat P (adjoint P)\n\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat n n &&&\n    P \\<in> carrier_mat n n &&& Q \\<in> carrier_mat n n", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n", "have caP: \"adjoint P \\<in> carrier_mat n n\""], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint P \\<in> carrier_mat n n", "using adjoint_dim[of P n]"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n \\<Longrightarrow> adjoint P \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint P \\<in> carrier_mat n n", "by auto"], ["proof (state)\nthis:\n  adjoint P \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from smw QaP cA"], ["proof (chain)\npicking this:\n  similar_mat_wit A B P (adjoint P)\n  Q = adjoint P\n  A \\<in> carrier_mat n n", "have A: \"A = P * B * adjoint P\" and traceA: \"trace A = trace (P * B * Q)\" and PB: \"P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\""], ["proof (prove)\nusing this:\n  similar_mat_wit A B P (adjoint P)\n  Q = adjoint P\n  A \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. A = P * B * adjoint P &&&\n    trace A = trace (P * B * Q) &&&\n    P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n", "unfolding similar_mat_wit_def"], ["proof (prove)\nusing this:\n  let n = dim_row A\n  in {A, B, P, adjoint P} \\<subseteq> carrier_mat n n \\<and>\n     P * adjoint P = 1\\<^sub>m n \\<and>\n     adjoint P * P = 1\\<^sub>m n \\<and> A = P * B * adjoint P\n  Q = adjoint P\n  A \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. A = P * B * adjoint P &&&\n    trace A = trace (P * B * Q) &&&\n    P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n", "by auto"], ["proof (state)\nthis:\n  A = P * B * adjoint P\n  trace A = trace (P * B * Q)\n  P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have traceAB: \"trace (P * B * Q) = trace ((Q*P)*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (P * B * Q) = trace (Q * P * B)", "using cQ cP cB"], ["proof (prove)\nusing this:\n  Q \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (P * B * Q) = trace (Q * P * B)", "by (mat_assoc n)"], ["proof (state)\nthis:\n  trace (P * B * Q) = trace (Q * P * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "also"], ["proof (state)\nthis:\n  trace (P * B * Q) = trace (Q * P * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have traceelim: \"\\<dots> = trace B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (Q * P * B) = trace B", "using traceAB PB cA cB cP cQ left_mult_one_mat[of \"P*Q\" n n]"], ["proof (prove)\nusing this:\n  trace (P * B * Q) = trace (Q * P * B)\n  P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n\n  P * Q \\<in> carrier_mat n n \\<Longrightarrow>\n  1\\<^sub>m n * (P * Q) = P * Q\n\ngoal (1 subgoal):\n 1. trace (Q * P * B) = trace B", "using similar_mat_wit_sym"], ["proof (prove)\nusing this:\n  trace (P * B * Q) = trace (Q * P * B)\n  P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n  Q \\<in> carrier_mat n n\n  P * Q \\<in> carrier_mat n n \\<Longrightarrow>\n  1\\<^sub>m n * (P * Q) = P * Q\n  similar_mat_wit ?A ?B ?P ?Q \\<Longrightarrow> similar_mat_wit ?B ?A ?Q ?P\n\ngoal (1 subgoal):\n 1. trace (Q * P * B) = trace B", "by auto"], ["proof (state)\nthis:\n  trace (Q * P * B) = trace B\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  trace (P * B * Q) = trace B", "have traceAB: \"trace A = trace B\""], ["proof (prove)\nusing this:\n  trace (P * B * Q) = trace B\n\ngoal (1 subgoal):\n 1. trace A = trace B", "using traceA"], ["proof (prove)\nusing this:\n  trace (P * B * Q) = trace B\n  trace A = trace (P * B * Q)\n\ngoal (1 subgoal):\n 1. trace A = trace B", "by auto"], ["proof (state)\nthis:\n  trace A = trace B\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from A cB cP"], ["proof (chain)\npicking this:\n  A = P * B * adjoint P\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n", "have aAa: \"adjoint A = adjoint((P * B) * adjoint P)\""], ["proof (prove)\nusing this:\n  A = P * B * adjoint P\n  B \\<in> carrier_mat n n\n  P \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint A = adjoint (P * B * adjoint P)", "by auto"], ["proof (state)\nthis:\n  adjoint A = adjoint (P * B * adjoint P)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have aA: \"adjoint A = P * adjoint B * adjoint P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint A = P * adjoint B * adjoint P", "unfolding aAa"], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint (P * B * adjoint P) = P * adjoint B * adjoint P", "using cP cB"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint (P * B * adjoint P) = P * adjoint B * adjoint P", "by (mat_assoc n)"], ["proof (state)\nthis:\n  adjoint A = P * adjoint B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have hA: \"hermitian A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hermitian A", "using pos positive_is_hermitian"], ["proof (prove)\nusing this:\n  positive A\n  positive ?A \\<Longrightarrow> hermitian ?A\n\ngoal (1 subgoal):\n 1. hermitian A", "by auto"], ["proof (state)\nthis:\n  hermitian A\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  hermitian A", "have AaA: \"A = adjoint A\""], ["proof (prove)\nusing this:\n  hermitian A\n\ngoal (1 subgoal):\n 1. A = adjoint A", "using hA hermitian_def[of A]"], ["proof (prove)\nusing this:\n  hermitian A\n  hermitian A\n  hermitian A = (adjoint A = A)\n\ngoal (1 subgoal):\n 1. A = adjoint A", "by auto"], ["proof (state)\nthis:\n  A = adjoint A\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  A = adjoint A", "have PBaP: \"P * B * adjoint P = P * adjoint B * adjoint P\""], ["proof (prove)\nusing this:\n  A = adjoint A\n\ngoal (1 subgoal):\n 1. P * B * adjoint P = P * adjoint B * adjoint P", "using A aA"], ["proof (prove)\nusing this:\n  A = adjoint A\n  A = P * B * adjoint P\n  adjoint A = P * adjoint B * adjoint P\n\ngoal (1 subgoal):\n 1. P * B * adjoint P = P * adjoint B * adjoint P", "by auto"], ["proof (state)\nthis:\n  P * B * adjoint P = P * adjoint B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  P * B * adjoint P = P * adjoint B * adjoint P", "have BaB: \"B = adjoint B\""], ["proof (prove)\nusing this:\n  P * B * adjoint P = P * adjoint B * adjoint P\n\ngoal (1 subgoal):\n 1. B = adjoint B", "using unitary_elim[of B n \"adjoint B\" P] uP cP cB adjoint_dim[of B n]"], ["proof (prove)\nusing this:\n  P * B * adjoint P = P * adjoint B * adjoint P\n  \\<lbrakk>B \\<in> carrier_mat n n; adjoint B \\<in> carrier_mat n n;\n   P \\<in> carrier_mat n n; unitary P;\n   P * B * adjoint P = P * adjoint B * adjoint P\\<rbrakk>\n  \\<Longrightarrow> B = adjoint B\n  unitary P\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n \\<Longrightarrow> adjoint B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. B = adjoint B", "by auto"], ["proof (state)\nthis:\n  B = adjoint B\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have aPP: \"adjoint P * P = 1\\<^sub>m n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint P * P = 1\\<^sub>m n", "using uP PB QaP"], ["proof (prove)\nusing this:\n  unitary P\n  P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\n  Q = adjoint P\n\ngoal (1 subgoal):\n 1. adjoint P * P = 1\\<^sub>m n", "by blast"], ["proof (state)\nthis:\n  adjoint P * P = 1\\<^sub>m n\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have \"A * A = P * B * (adjoint P * P) * B * adjoint P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A * A = P * B * (adjoint P * P) * B * adjoint P", "unfolding A"], ["proof (prove)\ngoal (1 subgoal):\n 1. P * B * adjoint P * (P * B * adjoint P) =\n    P * B * (adjoint P * P) * B * adjoint P", "using cP cB"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. P * B * adjoint P * (P * B * adjoint P) =\n    P * B * (adjoint P * P) * B * adjoint P", "by (mat_assoc n)"], ["proof (state)\nthis:\n  A * A = P * B * (adjoint P * P) * B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "also"], ["proof (state)\nthis:\n  A * A = P * B * (adjoint P * P) * B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have \"\\<dots> = P * B * B * adjoint P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P * B * (adjoint P * P) * B * adjoint P = P * B * B * adjoint P", "unfolding aPP"], ["proof (prove)\ngoal (1 subgoal):\n 1. P * B * 1\\<^sub>m n * B * adjoint P = P * B * B * adjoint P", "using cP cB"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. P * B * 1\\<^sub>m n * B * adjoint P = P * B * B * adjoint P", "by (mat_assoc n)"], ["proof (state)\nthis:\n  P * B * (adjoint P * P) * B * adjoint P = P * B * B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  A * A = P * B * B * adjoint P", "have AA: \"A * A = P * B * B * adjoint P\""], ["proof (prove)\nusing this:\n  A * A = P * B * B * adjoint P\n\ngoal (1 subgoal):\n 1. A * A = P * B * B * adjoint P", "by auto"], ["proof (state)\nthis:\n  A * A = P * B * B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  A * A = P * B * B * adjoint P", "have tAA: \"trace (A*A) = trace (P * B * B * adjoint P)\""], ["proof (prove)\nusing this:\n  A * A = P * B * B * adjoint P\n\ngoal (1 subgoal):\n 1. trace (A * A) = trace (P * B * B * adjoint P)", "by auto"], ["proof (state)\nthis:\n  trace (A * A) = trace (P * B * B * adjoint P)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "also"], ["proof (state)\nthis:\n  trace (A * A) = trace (P * B * B * adjoint P)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have tBB: \"\\<dots> = trace (adjoint P * P * B * B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (P * B * B * adjoint P) = trace (adjoint P * P * B * B)", "using cP cB"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (P * B * B * adjoint P) = trace (adjoint P * P * B * B)", "by (mat_assoc n)"], ["proof (state)\nthis:\n  trace (P * B * B * adjoint P) = trace (adjoint P * P * B * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "also"], ["proof (state)\nthis:\n  trace (P * B * B * adjoint P) = trace (adjoint P * P * B * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have \"\\<dots> = trace (B * B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (adjoint P * P * B * B) = trace (B * B)", "using uP unitary_def[of P] inverts_mat_def[of P \"adjoint P\"]"], ["proof (prove)\nusing this:\n  unitary P\n  unitary P =\n  (P \\<in> carrier_mat (dim_row P) (dim_row P) \\<and>\n   inverts_mat P (adjoint P))\n  inverts_mat P (adjoint P) \\<equiv> P * adjoint P = 1\\<^sub>m (dim_row P)\n\ngoal (1 subgoal):\n 1. trace (adjoint P * P * B * B) = trace (B * B)", "using PB QaP cB"], ["proof (prove)\nusing this:\n  unitary P\n  unitary P =\n  (P \\<in> carrier_mat (dim_row P) (dim_row P) \\<and>\n   inverts_mat P (adjoint P))\n  inverts_mat P (adjoint P) \\<equiv> P * adjoint P = 1\\<^sub>m (dim_row P)\n  P * Q = 1\\<^sub>m n \\<and> Q * P = 1\\<^sub>m n\n  Q = adjoint P\n  B \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (adjoint P * P * B * B) = trace (B * B)", "by auto"], ["proof (state)\nthis:\n  trace (adjoint P * P * B * B) = trace (B * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  trace (A * A) = trace (B * B)", "have traceAABB: \"trace (A * A) = trace (B * B)\""], ["proof (prove)\nusing this:\n  trace (A * A) = trace (B * B)\n\ngoal (1 subgoal):\n 1. trace (A * A) = trace (B * B)", "by auto"], ["proof (state)\nthis:\n  trace (A * A) = trace (B * B)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have BP: \"\\<And>i. i < n \\<Longrightarrow> B$$(i, i) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "assume i: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "then"], ["proof (chain)\npicking this:\n  i < n", "have \"B$$(i, i) \\<ge> 0\""], ["proof (prove)\nusing this:\n  i < n\n\ngoal (1 subgoal):\n 1. 0 \\<le> B $$ (i, i)", "using positive_eigenvalue_positive[of A n es B P Q i] cA pos charpo B"], ["proof (prove)\nusing this:\n  i < n\n  \\<lbrakk>A \\<in> carrier_mat n n; positive A;\n   char_poly A = (\\<Prod>e\\<leftarrow>es. [:- e, 1:]);\n   unitary_schur_decomposition A es = (B, P, Q); i < n\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> B $$ (i, i)\n  A \\<in> carrier_mat n n\n  positive A\n  char_poly A = (\\<Prod>a\\<leftarrow>es. [:- a, 1:]) \\<and> length es = n\n  unitary_schur_decomposition A es = (B, P, Q)\n\ngoal (1 subgoal):\n 1. 0 \\<le> B $$ (i, i)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> B $$ (i, i)\n\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)", "then"], ["proof (chain)\npicking this:\n  0 \\<le> B $$ (i, i)", "show \"B$$(i, i) \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> B $$ (i, i)\n\ngoal (1 subgoal):\n 1. 0 \\<le> B $$ (i, i)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> B $$ (i, i)\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  ?i2 < n \\<Longrightarrow> 0 \\<le> B $$ (?i2, ?i2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?i < n \\<Longrightarrow> 0 \\<le> B $$ (?i, ?i)\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "have Brel: \"trace (B*B) \\<le> (trace B)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "using trace_square_less_square_trace[of B n] cB ut BP"], ["proof (prove)\nusing this:\n  \\<lbrakk>B \\<in> carrier_mat n n; diagonal_mat B;\n   \\<And>i. i < n \\<Longrightarrow> 0 \\<le> B $$ (i, i)\\<rbrakk>\n  \\<Longrightarrow> trace (B * B) \\<le> (trace B)\\<^sup>2\n  B \\<in> carrier_mat n n\n  diagonal_mat B\n  ?i < n \\<Longrightarrow> 0 \\<le> B $$ (?i, ?i)\n\ngoal (1 subgoal):\n 1. trace (B * B) \\<le> (trace B)\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  trace (B * B) \\<le> (trace B)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "from AaA traceAABB traceAB Brel"], ["proof (chain)\npicking this:\n  A = adjoint A\n  trace (A * A) = trace (B * B)\n  trace A = trace B\n  trace (B * B) \\<le> (trace B)\\<^sup>2", "have \"trace (A*adjoint A) \\<le> (trace A)\\<^sup>2\""], ["proof (prove)\nusing this:\n  A = adjoint A\n  trace (A * A) = trace (B * B)\n  trace A = trace B\n  trace (B * B) \\<le> (trace B)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  trace (A * adjoint A) \\<le> (trace A)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  trace (A * adjoint A) \\<le> (trace A)\\<^sup>2\n\ngoal (1 subgoal):\n 1. trace (A * adjoint A) \\<le> (trace A)\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  trace (A * adjoint A) \\<le> (trace A)\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_le_transitive:\n  fixes m n :: nat\n  assumes re: \"n \\<ge> m\"\n  shows \"positive (f n - f m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (f n - f m)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. positive (f n - f m)", "from re"], ["proof (chain)\npicking this:\n  m \\<le> n", "show \"positive (f n - f m)\""], ["proof (prove)\nusing this:\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. positive (f n - f m)", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. m \\<le> 0 \\<Longrightarrow> positive (f 0 - f m)\n 2. \\<And>n.\n       \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n        m \\<le> Suc n\\<rbrakk>\n       \\<Longrightarrow> positive (f (Suc n) - f m)", "case 0"], ["proof (state)\nthis:\n  m \\<le> 0\n\ngoal (2 subgoals):\n 1. m \\<le> 0 \\<Longrightarrow> positive (f 0 - f m)\n 2. \\<And>n.\n       \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n        m \\<le> Suc n\\<rbrakk>\n       \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  m \\<le> 0", "show ?case"], ["proof (prove)\nusing this:\n  m \\<le> 0\n\ngoal (1 subgoal):\n 1. positive (f 0 - f m)", "using positive_zero"], ["proof (prove)\nusing this:\n  m \\<le> 0\n  positive (0\\<^sub>m ?n ?n)\n\ngoal (1 subgoal):\n 1. positive (f 0 - f m)", "by (metis dim le_0_eq minus_r_inv_mat)"], ["proof (state)\nthis:\n  positive (f 0 - f m)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n        m \\<le> Suc n\\<rbrakk>\n       \\<Longrightarrow> positive (f (Suc n) - f m)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n        m \\<le> Suc n\\<rbrakk>\n       \\<Longrightarrow> positive (f (Suc n) - f m)", "case (Suc n)"], ["proof (state)\nthis:\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n        m \\<le> Suc n\\<rbrakk>\n       \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n", "show ?case"], ["proof (prove)\nusing this:\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "proof (cases \"Suc n = m\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n = m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)\n 2. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n \\<noteq> m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)", "case True"], ["proof (state)\nthis:\n  Suc n = m\n\ngoal (2 subgoals):\n 1. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n = m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)\n 2. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n \\<noteq> m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  Suc n = m", "show ?thesis"], ["proof (prove)\nusing this:\n  Suc n = m\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "using positive_zero"], ["proof (prove)\nusing this:\n  Suc n = m\n  positive (0\\<^sub>m ?n ?n)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "by (metis dim minus_r_inv_mat)"], ["proof (state)\nthis:\n  positive (f (Suc n) - f m)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n \\<noteq> m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n \\<noteq> m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)", "case False"], ["proof (state)\nthis:\n  Suc n \\<noteq> m\n\ngoal (1 subgoal):\n 1. \\<lbrakk>m \\<le> n \\<Longrightarrow> positive (f n - f m);\n     m \\<le> Suc n; Suc n \\<noteq> m\\<rbrakk>\n    \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  Suc n \\<noteq> m", "show ?thesis"], ["proof (prove)\nusing this:\n  Suc n \\<noteq> m\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "from False Suc"], ["proof (chain)\npicking this:\n  Suc n \\<noteq> m\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n", "have nm: \"n  \\<ge> m\""], ["proof (prove)\nusing this:\n  Suc n \\<noteq> m\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n\n\ngoal (1 subgoal):\n 1. m \\<le> n", "by linarith"], ["proof (state)\nthis:\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "from Suc nm"], ["proof (chain)\npicking this:\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n\n  m \\<le> n", "have pnm:  \"positive (f n - f m)\""], ["proof (prove)\nusing this:\n  m \\<le> n \\<Longrightarrow> positive (f n - f m)\n  m \\<le> Suc n\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. positive (f n - f m)", "by auto"], ["proof (state)\nthis:\n  positive (f n - f m)\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "from inc"], ["proof (chain)\npicking this:\n  f ?n \\<le>\\<^sub>L f (Suc ?n)", "have \"positive (f (Suc n) - f n)\""], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L f (Suc ?n)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f n)", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  dim_row (f ?n) = dim_row (f (Suc ?n)) \\<and>\n  dim_col (f ?n) = dim_col (f (Suc ?n)) \\<and> positive (f (Suc ?n) - f ?n)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f n)", "by auto"], ["proof (state)\nthis:\n  positive (f (Suc n) - f n)\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  positive (f (Suc n) - f n)", "have pf:  \"positive ((f (Suc n) - f n) + (f n - f m))\""], ["proof (prove)\nusing this:\n  positive (f (Suc n) - f n)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f n + (f n - f m))", "using positive_add dim pnm"], ["proof (prove)\nusing this:\n  positive (f (Suc n) - f n)\n  \\<lbrakk>positive ?A; positive ?B; ?A \\<in> carrier_mat ?n ?n;\n   ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> positive (?A + ?B)\n  f ?n \\<in> carrier_mat dim dim\n  positive (f n - f m)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f n + (f n - f m))", "by (meson minus_carrier_mat)"], ["proof (state)\nthis:\n  positive (f (Suc n) - f n + (f n - f m))\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "have \"(f (Suc n) - f n) + (f n - f m) = f (Suc n) + ((- f n) + f n) + (- f m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (Suc n) - f n + (f n - f m) = f (Suc n) + (- f n + f n) + - f m", "using local.dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f (Suc n) - f n + (f n - f m) = f (Suc n) + (- f n + f n) + - f m", "by (mat_assoc dim, auto)"], ["proof (state)\nthis:\n  f (Suc n) - f n + (f n - f m) = f (Suc n) + (- f n + f n) + - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "also"], ["proof (state)\nthis:\n  f (Suc n) - f n + (f n - f m) = f (Suc n) + (- f n + f n) + - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "have \"\\<dots> = f (Suc n) + 0\\<^sub>m dim dim + (- f m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (Suc n) + (- f n + f n) + - f m =\n    f (Suc n) + 0\\<^sub>m dim dim + - f m", "using local.dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f (Suc n) + (- f n + f n) + - f m =\n    f (Suc n) + 0\\<^sub>m dim dim + - f m", "by (subst uminus_l_inv_mat[where nc=dim and nr=dim], auto)"], ["proof (state)\nthis:\n  f (Suc n) + (- f n + f n) + - f m = f (Suc n) + 0\\<^sub>m dim dim + - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "also"], ["proof (state)\nthis:\n  f (Suc n) + (- f n + f n) + - f m = f (Suc n) + 0\\<^sub>m dim dim + - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "have \"\\<dots> = f (Suc n) - f m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (Suc n) + 0\\<^sub>m dim dim + - f m = f (Suc n) - f m", "using local.dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f (Suc n) + 0\\<^sub>m dim dim + - f m = f (Suc n) - f m", "by (mat_assoc dim, auto)"], ["proof (state)\nthis:\n  f (Suc n) + 0\\<^sub>m dim dim + - f m = f (Suc n) - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "finally"], ["proof (chain)\npicking this:\n  f (Suc n) - f n + (f n - f m) = f (Suc n) - f m", "have re: \"f (Suc n) - f n + (f n - f m) = f (Suc n) - f m\""], ["proof (prove)\nusing this:\n  f (Suc n) - f n + (f n - f m) = f (Suc n) - f m\n\ngoal (1 subgoal):\n 1. f (Suc n) - f n + (f n - f m) = f (Suc n) - f m", "."], ["proof (state)\nthis:\n  f (Suc n) - f n + (f n - f m) = f (Suc n) - f m\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "from pf re"], ["proof (chain)\npicking this:\n  positive (f (Suc n) - f n + (f n - f m))\n  f (Suc n) - f n + (f n - f m) = f (Suc n) - f m", "have \"positive (f (Suc n) - f m)\""], ["proof (prove)\nusing this:\n  positive (f (Suc n) - f n + (f n - f m))\n  f (Suc n) - f n + (f n - f m) = f (Suc n) - f m\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "by auto"], ["proof (state)\nthis:\n  positive (f (Suc n) - f m)\n\ngoal (1 subgoal):\n 1. Suc n \\<noteq> m \\<Longrightarrow> positive (f (Suc n) - f m)", "then"], ["proof (chain)\npicking this:\n  positive (f (Suc n) - f m)", "show ?thesis"], ["proof (prove)\nusing this:\n  positive (f (Suc n) - f m)\n\ngoal (1 subgoal):\n 1. positive (f (Suc n) - f m)", "by auto"], ["proof (state)\nthis:\n  positive (f (Suc n) - f m)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  positive (f (Suc n) - f m)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  positive (f (Suc n) - f m)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  positive (f n - f m)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The sequence of matrices converges pointwise.\\<close>"], ["", "lemma inc_partial_density_operator_converge:\n  assumes  i: \"i \\<in> {0 ..<dim}\" and j: \"j \\<in> {0 ..<dim}\"\n  shows \"convergent (\\<lambda>n. f n $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have tracefn: \"trace (f n) \\<ge> 0 \\<and> trace (f n) \\<le> 1\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "from pdo"], ["proof (chain)\npicking this:\n  partial_density_operator (f ?n)", "show ?thesis"], ["proof (prove)\nusing this:\n  partial_density_operator (f ?n)\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "unfolding partial_density_operator_def"], ["proof (prove)\nusing this:\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "using positive_trace[of \"f n\"]"], ["proof (prove)\nusing this:\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n  \\<lbrakk>f n \\<in> carrier_mat ?n ?n; positive (f n)\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace (f n)\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "using dim"], ["proof (prove)\nusing this:\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n  \\<lbrakk>f n \\<in> carrier_mat ?n ?n; positive (f n)\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace (f n)\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1", "by blast"], ["proof (state)\nthis:\n  0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "from tracefn"], ["proof (chain)\npicking this:\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1", "have normf: \"norm(trace (f n)) \\<le> norm(trace (f (Suc n))) \\<and> norm(trace (f n)) \\<le> 1\" for n"], ["proof (prove)\nusing this:\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "have trless: \"trace (f n) \\<le> trace (f (Suc n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (f n) \\<le> trace (f (Suc n))", "using pdo inc dim positive_trace[of \"f(Suc n) - f n\"] trace_minus_linear[of \"f (Suc n)\" dim \"f n\"]"], ["proof (prove)\nusing this:\n  partial_density_operator (f ?n)\n  f ?n \\<le>\\<^sub>L f (Suc ?n)\n  f ?n \\<in> carrier_mat dim dim\n  \\<lbrakk>f (Suc n) - f n \\<in> carrier_mat ?n ?n;\n   positive (f (Suc n) - f n)\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace (f (Suc n) - f n)\n  \\<lbrakk>f (Suc n) \\<in> carrier_mat dim dim;\n   f n \\<in> carrier_mat dim dim\\<rbrakk>\n  \\<Longrightarrow> trace (f (Suc n) - f n) =\n                    trace (f (Suc n)) - trace (f n)\n\ngoal (1 subgoal):\n 1. trace (f n) \\<le> trace (f (Suc n))", "unfolding partial_density_operator_def lowner_le_def"], ["proof (prove)\nusing this:\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n  dim_row (f ?n) = dim_row (f (Suc ?n)) \\<and>\n  dim_col (f ?n) = dim_col (f (Suc ?n)) \\<and> positive (f (Suc ?n) - f ?n)\n  f ?n \\<in> carrier_mat dim dim\n  \\<lbrakk>f (Suc n) - f n \\<in> carrier_mat ?n ?n;\n   positive (f (Suc n) - f n)\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace (f (Suc n) - f n)\n  \\<lbrakk>f (Suc n) \\<in> carrier_mat dim dim;\n   f n \\<in> carrier_mat dim dim\\<rbrakk>\n  \\<Longrightarrow> trace (f (Suc n) - f n) =\n                    trace (f (Suc n)) - trace (f n)\n\ngoal (1 subgoal):\n 1. trace (f n) \\<le> trace (f (Suc n))", "using Complex_Matrix.positive_def"], ["proof (prove)\nusing this:\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n  dim_row (f ?n) = dim_row (f (Suc ?n)) \\<and>\n  dim_col (f ?n) = dim_col (f (Suc ?n)) \\<and> positive (f (Suc ?n) - f ?n)\n  f ?n \\<in> carrier_mat dim dim\n  \\<lbrakk>f (Suc n) - f n \\<in> carrier_mat ?n ?n;\n   positive (f (Suc n) - f n)\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace (f (Suc n) - f n)\n  \\<lbrakk>f (Suc n) \\<in> carrier_mat dim dim;\n   f n \\<in> carrier_mat dim dim\\<rbrakk>\n  \\<Longrightarrow> trace (f (Suc n) - f n) =\n                    trace (f (Suc n)) - trace (f n)\n  positive ?A =\n  (?A \\<in> carrier_mat (dim_col ?A) (dim_col ?A) \\<and>\n   (\\<forall>v.\n       dim_vec v = dim_col ?A \\<longrightarrow>\n       0 \\<le> inner_prod v (?A *\\<^sub>v v)))\n\ngoal (1 subgoal):\n 1. trace (f n) \\<le> trace (f (Suc n))", "by force"], ["proof (state)\nthis:\n  trace (f n) \\<le> trace (f (Suc n))\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "moreover"], ["proof (state)\nthis:\n  trace (f n) \\<le> trace (f (Suc n))\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "from trless tracefn"], ["proof (chain)\npicking this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1", "have \"norm(trace (f n)) \\<le> norm(trace (f (Suc n)))\""], ["proof (prove)\nusing this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. cmod (trace (f n)) \\<le> cmod (trace (f (Suc n)))", "unfolding cmod_def"], ["proof (prove)\nusing this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. sqrt ((Re (trace (f n)))\\<^sup>2 + (Im (trace (f n)))\\<^sup>2)\n    \\<le> sqrt\n           ((Re (trace (f (Suc n))))\\<^sup>2 +\n            (Im (trace (f (Suc n))))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  cmod (trace (f n)) \\<le> cmod (trace (f (Suc n)))\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "moreover"], ["proof (state)\nthis:\n  cmod (trace (f n)) \\<le> cmod (trace (f (Suc n)))\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "from trless tracefn"], ["proof (chain)\npicking this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1", "have \"norm(trace (f n)) \\<le> 1\""], ["proof (prove)\nusing this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. cmod (trace (f n)) \\<le> 1", "using pdo partial_density_operator_def cmod_def"], ["proof (prove)\nusing this:\n  trace (f n) \\<le> trace (f (Suc n))\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n  partial_density_operator (f ?n)\n  partial_density_operator ?A = (positive ?A \\<and> trace ?A \\<le> 1)\n  cmod ?z = sqrt ((Re ?z)\\<^sup>2 + (Im ?z)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. cmod (trace (f n)) \\<le> 1", "by simp"], ["proof (state)\nthis:\n  cmod (trace (f n)) \\<le> 1\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        0 \\<le> trace (f n) \\<and> trace (f n) \\<le> 1) \\<Longrightarrow>\n    cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "ultimately"], ["proof (chain)\npicking this:\n  trace (f n) \\<le> trace (f (Suc n))\n  cmod (trace (f n)) \\<le> cmod (trace (f (Suc n)))\n  cmod (trace (f n)) \\<le> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  trace (f n) \\<le> trace (f (Suc n))\n  cmod (trace (f n)) \\<le> cmod (trace (f (Suc n)))\n  cmod (trace (f n)) \\<le> 1\n\ngoal (1 subgoal):\n 1. cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n    cmod (trace (f n)) \\<le> 1", "by auto"], ["proof (state)\nthis:\n  cmod (trace (f n)) \\<le> cmod (trace (f (Suc n))) \\<and>\n  cmod (trace (f n)) \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cmod (trace (f ?n)) \\<le> cmod (trace (f (Suc ?n))) \\<and>\n  cmod (trace (f ?n)) \\<le> 1\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  cmod (trace (f ?n)) \\<le> cmod (trace (f (Suc ?n))) \\<and>\n  cmod (trace (f ?n)) \\<le> 1", "have inctrace: \"incseq (\\<lambda> n. norm(trace (f n)))\""], ["proof (prove)\nusing this:\n  cmod (trace (f ?n)) \\<le> cmod (trace (f (Suc ?n))) \\<and>\n  cmod (trace (f ?n)) \\<le> 1\n\ngoal (1 subgoal):\n 1. incseq (\\<lambda>n. cmod (trace (f n)))", "by (simp add: incseq_SucI)"], ["proof (state)\nthis:\n  incseq (\\<lambda>n. cmod (trace (f n)))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  incseq (\\<lambda>n. cmod (trace (f n)))", "have tr_sup: \"(\\<lambda> n. norm(trace (f n))) \\<longlonglongrightarrow> (SUP i. norm (trace (f i)))\""], ["proof (prove)\nusing this:\n  incseq (\\<lambda>n. cmod (trace (f n)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. cmod (trace (f n)))\n    \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))", "using LIMSEQ_incseq_SUP[of \"\\<lambda> n. norm(trace (f n))\"] pdo partial_density_operator_def normf"], ["proof (prove)\nusing this:\n  incseq (\\<lambda>n. cmod (trace (f n)))\n  \\<lbrakk>bdd_above (range (\\<lambda>n. cmod (trace (f n))));\n   incseq (\\<lambda>n. cmod (trace (f n)))\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. cmod (trace (f n)))\n                    \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))\n  partial_density_operator (f ?n)\n  partial_density_operator ?A = (positive ?A \\<and> trace ?A \\<le> 1)\n  cmod (trace (f ?n)) \\<le> cmod (trace (f (Suc ?n))) \\<and>\n  cmod (trace (f ?n)) \\<le> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. cmod (trace (f n)))\n    \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))", "by (meson bdd_aboveI2)"], ["proof (state)\nthis:\n  (\\<lambda>n. cmod (trace (f n)))\n  \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. cmod (trace (f n)))\n  \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))", "have tr_cauchy: \"Cauchy (\\<lambda> n. norm(trace (f n)))\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. cmod (trace (f n)))\n  \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))\n\ngoal (1 subgoal):\n 1. Cauchy (\\<lambda>n. cmod (trace (f n)))", "using  Cauchy_convergent_iff convergent_def"], ["proof (prove)\nusing this:\n  (\\<lambda>n. cmod (trace (f n)))\n  \\<longlonglongrightarrow> (SUP i. cmod (trace (f i)))\n  Cauchy ?X = convergent ?X\n  convergent ?X = (\\<exists>L. ?X \\<longlonglongrightarrow> L)\n\ngoal (1 subgoal):\n 1. Cauchy (\\<lambda>n. cmod (trace (f n)))", "by blast"], ["proof (state)\nthis:\n  Cauchy (\\<lambda>n. cmod (trace (f n)))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  Cauchy (\\<lambda>n. cmod (trace (f n)))", "have tr_cauchy_def: \"\\<forall>e>0. \\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. dist(norm(trace (f n))) (norm(trace (f m))) < e\""], ["proof (prove)\nusing this:\n  Cauchy (\\<lambda>n. cmod (trace (f n)))\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M.\n             \\<forall>n\\<ge>M.\n                dist (cmod (trace (f n))) (cmod (trace (f m))) < e", "unfolding Cauchy_def"], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M.\n              dist (cmod (trace (f m))) (cmod (trace (f n))) < e\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M.\n             \\<forall>n\\<ge>M.\n                dist (cmod (trace (f n))) (cmod (trace (f m))) < e", "by blast"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M.\n              dist (cmod (trace (f n))) (cmod (trace (f m))) < e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "moreover"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M.\n              dist (cmod (trace (f n))) (cmod (trace (f m))) < e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have \"\\<forall>m n. dist(norm(trace (f m))) (norm(trace (f n))) = norm(trace (f m) - trace (f n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       dist (cmod (trace (f m))) (cmod (trace (f n))) =\n       cmod (trace (f m) - trace (f n))", "using tracefn cmod_eq_Re dist_real_def"], ["proof (prove)\nusing this:\n  0 \\<le> trace (f ?n) \\<and> trace (f ?n) \\<le> 1\n  Im ?z = 0 \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n  dist ?x ?y = \\<bar>?x - ?y\\<bar>\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       dist (cmod (trace (f m))) (cmod (trace (f n))) =\n       cmod (trace (f m) - trace (f n))", "by auto"], ["proof (state)\nthis:\n  \\<forall>m n.\n     dist (cmod (trace (f m))) (cmod (trace (f n))) =\n     cmod (trace (f m) - trace (f n))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M.\n              dist (cmod (trace (f n))) (cmod (trace (f m))) < e\n  \\<forall>m n.\n     dist (cmod (trace (f m))) (cmod (trace (f n))) =\n     cmod (trace (f m) - trace (f n))", "have norm_trace: \"\\<forall>e>0.\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. norm((trace (f n)) - (trace (f m))) < e\""], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M.\n              dist (cmod (trace (f n))) (cmod (trace (f m))) < e\n  \\<forall>m n.\n     dist (cmod (trace (f m))) (cmod (trace (f n))) =\n     cmod (trace (f m) - trace (f n))\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M.\n             \\<forall>n\\<ge>M. cmod (trace (f n) - trace (f m)) < e", "by auto"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M. cmod (trace (f n) - trace (f m)) < e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have eq_minus: \"\\<forall> m n. trace (f m) - trace (f n) = trace (f m - f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n. trace (f m) - trace (f n) = trace (f m - f n)", "using trace_minus_linear dim"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> trace (?A - ?B) = trace ?A - trace ?B\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. \\<forall>m n. trace (f m) - trace (f n) = trace (f m - f n)", "by metis"], ["proof (state)\nthis:\n  \\<forall>m n. trace (f m) - trace (f n) = trace (f m - f n)\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "from eq_minus norm_trace"], ["proof (chain)\npicking this:\n  \\<forall>m n. trace (f m) - trace (f n) = trace (f m - f n)\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M. cmod (trace (f n) - trace (f m)) < e", "have norm_trace_cauchy: \"\\<forall>e>0.\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. norm((trace (f n - f m))) < e\""], ["proof (prove)\nusing this:\n  \\<forall>m n. trace (f m) - trace (f n) = trace (f m - f n)\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>M. cmod (trace (f n) - trace (f m)) < e\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. cmod (trace (f n - f m)) < e", "by auto"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. cmod (trace (f n - f m)) < e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. cmod (trace (f n - f m)) < e", "have norm_trace_cauchy_iff: \"\\<forall>e>0.\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm((trace (f n - f m))) < e\""], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. cmod (trace (f n - f m)) < e\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod (trace (f n - f m)) < e", "by (meson order_trans_rules(23))"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod (trace (f n - f m)) < e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod (trace (f n - f m)) < e", "have norm_square: \"\\<forall>e>0.\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm((trace (f n - f m))))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod (trace (f n - f m)) < e\n\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>M.\n          \\<forall>m\\<ge>M.\n             \\<forall>n\\<ge>m.\n                (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2", "by (metis abs_of_nonneg norm_ge_zero order_less_le real_sqrt_abs real_sqrt_less_iff)"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have tr_re: \"\\<forall> m. \\<forall> n \\<ge> m. trace ((f n - f m) * adjoint (f n - f m)) \\<le> ((trace (f n- f m)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       trace ((f n - f m) * adjoint (f n - f m))\n       \\<le> (trace (f n - f m))\\<^sup>2", "using trace_positive_eq lowner_le_transitive"], ["proof (prove)\nusing this:\n  positive ?A \\<Longrightarrow>\n  trace (?A * adjoint ?A) \\<le> (trace ?A)\\<^sup>2\n  ?m \\<le> ?n \\<Longrightarrow> positive (f ?n - f ?m)\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       trace ((f n - f m) * adjoint (f n - f m))\n       \\<le> (trace (f n - f m))\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     trace ((f n - f m) * adjoint (f n - f m))\n     \\<le> (trace (f n - f m))\\<^sup>2\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have tr_re_g: \"\\<forall> m. \\<forall> n \\<ge> m. trace ((f n - f m) * adjoint (f n - f m)) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       0 \\<le> trace ((f n - f m) * adjoint (f n - f m))", "using lowner_le_transitive positive_trace trace_adjoint_positive"], ["proof (prove)\nusing this:\n  ?m \\<le> ?n \\<Longrightarrow> positive (f ?n - f ?m)\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace ?A\n  0 \\<le> trace (?A * adjoint ?A)\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       0 \\<le> trace ((f n - f m) * adjoint (f n - f m))", "by auto"], ["proof (state)\nthis:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     0 \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have norm_trace_fmn: \"norm(trace ((f n - f m) * adjoint (f n - f m))) \\<le> (norm(trace (f n - f m)))\\<^sup>2\" if nm: \"n \\<ge> m\" for m n"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (trace ((f n - f m) * adjoint (f n - f m)))\n    \\<le> (cmod (trace (f n - f m)))\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod (trace ((f n - f m) * adjoint (f n - f m)))\n    \\<le> (cmod (trace (f n - f m)))\\<^sup>2", "have mnA: \"trace ((f n - f m) * adjoint (f n - f m)) \\<le> (trace (f n - f m))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace ((f n - f m) * adjoint (f n - f m))\n    \\<le> (trace (f n - f m))\\<^sup>2", "using tr_re nm"], ["proof (prove)\nusing this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     trace ((f n - f m) * adjoint (f n - f m))\n     \\<le> (trace (f n - f m))\\<^sup>2\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. trace ((f n - f m) * adjoint (f n - f m))\n    \\<le> (trace (f n - f m))\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  trace ((f n - f m) * adjoint (f n - f m))\n  \\<le> (trace (f n - f m))\\<^sup>2\n\ngoal (1 subgoal):\n 1. cmod (trace ((f n - f m) * adjoint (f n - f m)))\n    \\<le> (cmod (trace (f n - f m)))\\<^sup>2", "have mnB: \"trace ((f n - f m) * adjoint (f n - f m)) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> trace ((f n - f m) * adjoint (f n - f m))", "using tr_re_g nm"], ["proof (prove)\nusing this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     0 \\<le> trace ((f n - f m) * adjoint (f n - f m))\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace ((f n - f m) * adjoint (f n - f m))", "by auto"], ["proof (state)\nthis:\n  0 \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. cmod (trace ((f n - f m) * adjoint (f n - f m)))\n    \\<le> (cmod (trace (f n - f m)))\\<^sup>2", "from mnA mnB"], ["proof (chain)\npicking this:\n  trace ((f n - f m) * adjoint (f n - f m))\n  \\<le> (trace (f n - f m))\\<^sup>2\n  0 \\<le> trace ((f n - f m) * adjoint (f n - f m))", "show ?thesis"], ["proof (prove)\nusing this:\n  trace ((f n - f m) * adjoint (f n - f m))\n  \\<le> (trace (f n - f m))\\<^sup>2\n  0 \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. cmod (trace ((f n - f m) * adjoint (f n - f m)))\n    \\<le> (cmod (trace (f n - f m)))\\<^sup>2", "by (smt cmod_eq_Re less_eq_complex_def norm_power zero_complex.sel(1) zero_complex.sel(2))"], ["proof (state)\nthis:\n  cmod (trace ((f n - f m) * adjoint (f n - f m)))\n  \\<le> (cmod (trace (f n - f m)))\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?m \\<le> ?n \\<Longrightarrow>\n  cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  \\<le> (cmod (trace (f ?n - f ?m)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  ?m \\<le> ?n \\<Longrightarrow>\n  cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  \\<le> (cmod (trace (f ?n - f ?m)))\\<^sup>2", "have cauchy_adj: \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm(trace ((f n- f m) * adjoint (f n - f m))) < e\\<^sup>2\" if e: \"e > 0\" for e"], ["proof (prove)\nusing this:\n  ?m \\<le> ?n \\<Longrightarrow>\n  cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  \\<le> (cmod (trace (f ?n - f ?m)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        m \\<le> n \\<Longrightarrow>\n        cmod (trace ((f n - f m) * adjoint (f n - f m)))\n        \\<le> (cmod (trace (f n - f m)))\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "have \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2", "using norm_square e"], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<exists>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        m \\<le> n \\<Longrightarrow>\n        cmod (trace ((f n - f m) * adjoint (f n - f m)))\n        \\<le> (cmod (trace (f n - f m)))\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2", "obtain M where \" \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m.\n              (cmod (trace (f n - f m)))\\<^sup>2\n              < e\\<^sup>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        m \\<le> n \\<Longrightarrow>\n        cmod (trace ((f n - f m) * adjoint (f n - f m)))\n        \\<le> (cmod (trace (f n - f m)))\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2", "have \"\\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm(trace ((f n- f m) * adjoint (f n - f m))) < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>M.\n       \\<forall>n\\<ge>m.\n          cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "using norm_trace_fmn"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod (trace (f n - f m)))\\<^sup>2 < e\\<^sup>2\n  ?m \\<le> ?n \\<Longrightarrow>\n  cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  \\<le> (cmod (trace (f ?n - f ?m)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>M.\n       \\<forall>n\\<ge>m.\n          cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        m \\<le> n \\<Longrightarrow>\n        cmod (trace ((f n - f m) * adjoint (f n - f m)))\n        \\<le> (cmod (trace (f n - f m)))\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < ?e\\<^sup>2\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have norm_minus: \"\\<forall> m. \\<forall> n \\<ge> m. (norm ((f n - f m) $$ (i, j)))\\<^sup>2 \\<le> trace ((f n - f m) * adjoint (f n - f m))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m))", "using trace_adjoint_element_ineq i j"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<in> {0..<dim_row ?A}; ?j \\<in> {0..<dim_col ?A}\\<rbrakk>\n  \\<Longrightarrow> complex_of_real ((cmod (?A $$ (?i, ?j)))\\<^sup>2)\n                    \\<le> trace (?A * adjoint ?A)\n  i \\<in> {0..<dim}\n  j \\<in> {0..<dim}\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m))", "by (smt adjoint_dim_row carrier_matD(1) index_minus_mat(2) index_mult_mat(2) lowner_le_transitive matrix_seq_axioms matrix_seq_def positive_is_normal)"], ["proof (state)\nthis:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n     \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n     \\<le> trace ((f n - f m) * adjoint (f n - f m))", "have norm_minus_le: \"(norm ((f n - f m) $$ (i, j)))\\<^sup>2 \\<le> norm (trace ((f n - f m) * adjoint (f n - f m)))\" if nm: \"n \\<ge> m\" for n m"], ["proof (prove)\nusing this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n     \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m)) \\<Longrightarrow>\n    (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "have \"(norm ((f n - f m) $$ (i, j)))\\<^sup>2 \\<le> (trace ((f n - f m) * adjoint (f n - f m)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n    \\<le> trace ((f n - f m) * adjoint (f n - f m))", "using norm_minus nm"], ["proof (prove)\nusing this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n     \\<le> trace ((f n - f m) * adjoint (f n - f m))\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n    \\<le> trace ((f n - f m) * adjoint (f n - f m))", "by auto"], ["proof (state)\nthis:\n  complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n  \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m)) \\<Longrightarrow>\n    (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "also"], ["proof (state)\nthis:\n  complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n  \\<le> trace ((f n - f m) * adjoint (f n - f m))\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m)) \\<Longrightarrow>\n    (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "have \"\\<dots> = norm (trace ((f n - f m) * adjoint (f n - f m)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace ((f n - f m) * adjoint (f n - f m)) =\n    complex_of_real (cmod (trace ((f n - f m) * adjoint (f n - f m))))", "using tr_re_g nm"], ["proof (prove)\nusing this:\n  \\<forall>m n.\n     m \\<le> n \\<longrightarrow>\n     0 \\<le> trace ((f n - f m) * adjoint (f n - f m))\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. trace ((f n - f m) * adjoint (f n - f m)) =\n    complex_of_real (cmod (trace ((f n - f m) * adjoint (f n - f m))))", "by (smt Re_complex_of_real less_eq_complex_def matrix_seq.trace_adjoint_eq_u matrix_seq_axioms mult_cancel_left2 norm_one norm_scaleR of_real_def of_real_hom.hom_zero)"], ["proof (state)\nthis:\n  trace ((f n - f m) * adjoint (f n - f m)) =\n  complex_of_real (cmod (trace ((f n - f m) * adjoint (f n - f m))))\n\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n       \\<le> trace ((f n - f m) * adjoint (f n - f m)) \\<Longrightarrow>\n    (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "finally"], ["proof (chain)\npicking this:\n  complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n  \\<le> complex_of_real (cmod (trace ((f n - f m) * adjoint (f n - f m))))", "show ?thesis"], ["proof (prove)\nusing this:\n  complex_of_real ((cmod ((f n - f m) $$ (i, j)))\\<^sup>2)\n  \\<le> complex_of_real (cmod (trace ((f n - f m) * adjoint (f n - f m))))\n\ngoal (1 subgoal):\n 1. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n    \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))", "by auto"], ["proof (state)\nthis:\n  (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n  \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?m \\<le> ?n \\<Longrightarrow>\n  (cmod ((f ?n - f ?m) $$ (i, j)))\\<^sup>2\n  \\<le> cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "from norm_minus_le cauchy_adj"], ["proof (chain)\npicking this:\n  ?m \\<le> ?n \\<Longrightarrow>\n  (cmod ((f ?n - f ?m) $$ (i, j)))\\<^sup>2\n  \\<le> cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < ?e\\<^sup>2", "have cauchy_ij: \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm ((f n - f m) $$ (i, j)))\\<^sup>2  < e\\<^sup>2\" if e: \"e > 0\" for e"], ["proof (prove)\nusing this:\n  ?m \\<le> ?n \\<Longrightarrow>\n  (cmod ((f ?n - f ?m) $$ (i, j)))\\<^sup>2\n  \\<le> cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < ?e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>m n.\n                m \\<le> n \\<Longrightarrow>\n                (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)));\n     \\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 cmod (trace ((f n - f m) * adjoint (f n - f m)))\n                 < e\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>M.\n                         \\<forall>m\\<ge>M.\n                            \\<forall>n\\<ge>m.\n                               (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                               < e\\<^sup>2", "have \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm(trace ((f n- f m) * adjoint (f n - f m))) < e\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "using cauchy_adj e"], ["proof (prove)\nusing this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < ?e\\<^sup>2\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>m n.\n                m \\<le> n \\<Longrightarrow>\n                (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)));\n     \\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 cmod (trace ((f n - f m) * adjoint (f n - f m)))\n                 < e\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>M.\n                         \\<forall>m\\<ge>M.\n                            \\<forall>n\\<ge>m.\n                               (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                               < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "obtain M where \" \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm(trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m.\n              cmod (trace ((f n - f m) * adjoint (f n - f m)))\n              < e\\<^sup>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>m n.\n                m \\<le> n \\<Longrightarrow>\n                (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)));\n     \\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 cmod (trace ((f n - f m) * adjoint (f n - f m)))\n                 < e\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>M.\n                         \\<forall>m\\<ge>M.\n                            \\<forall>n\\<ge>m.\n                               (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                               < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2", "have \"\\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>M.\n       \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "using norm_minus_le"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m.\n        cmod (trace ((f n - f m) * adjoint (f n - f m))) < e\\<^sup>2\n  ?m \\<le> ?n \\<Longrightarrow>\n  (cmod ((f ?n - f ?m) $$ (i, j)))\\<^sup>2\n  \\<le> cmod (trace ((f ?n - f ?m) * adjoint (f ?n - f ?m)))\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>M.\n       \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>m n.\n                m \\<le> n \\<Longrightarrow>\n                (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                \\<le> cmod (trace ((f n - f m) * adjoint (f n - f m)));\n     \\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 cmod (trace ((f n - f m) * adjoint (f n - f m)))\n                 < e\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>M.\n                         \\<forall>m\\<ge>M.\n                            \\<forall>n\\<ge>m.\n                               (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                               < e\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < ?e\\<^sup>2\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < ?e\\<^sup>2", "have cauchy_ij_norm: \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm ((f n - f m) $$ (i, j))) < e\" if e: \"e > 0\" for e"], ["proof (prove)\nusing this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < ?e\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                 < e\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "have \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "using cauchy_ij e"], ["proof (prove)\nusing this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m.\n           (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < ?e\\<^sup>2\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>m.\n             (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                 < e\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "obtain M where mn: \"\\<forall>m\\<ge>M. \\<forall>n\\<ge>m. (norm ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m.\n              (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n              < e\\<^sup>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                 < e\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "have \"(norm ((f n - f m) $$ (i, j))) < e\" if m: \"m \\<ge> M\" and n: \"n \\<ge> m\" for m n :: nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "from m n mn"], ["proof (chain)\npicking this:\n  M \\<le> m\n  m \\<le> n\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "have \"(norm ((f n- f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\""], ["proof (prove)\nusing this:\n  M \\<le> m\n  m \\<le> n\n  \\<forall>m\\<ge>M.\n     \\<forall>n\\<ge>m. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "using e power_less_imp_less_base"], ["proof (prove)\nusing this:\n  (cmod ((f n - f m) $$ (i, j)))\\<^sup>2 < e\\<^sup>2\n  0 < e\n  \\<lbrakk>?a ^ ?n < ?b ^ ?n; (0::?'a) \\<le> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a < ?b\n\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "by fastforce"], ["proof (state)\nthis:\n  cmod ((f n - f m) $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>M \\<le> ?m; ?m \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod ((f ?n - f ?m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        0 < e \\<Longrightarrow>\n        \\<exists>M.\n           \\<forall>m\\<ge>M.\n              \\<forall>n\\<ge>m.\n                 (cmod ((f n - f m) $$ (i, j)))\\<^sup>2\n                 < e\\<^sup>2) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>M \\<le> ?m; ?m \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod ((f ?n - f ?m) $$ (i, j)) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>M \\<le> ?m; ?m \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod ((f ?n - f ?m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < ?e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "have cauchy_final: \"\\<exists>M. \\<forall>m\\<ge>M. \\<forall>n\\<ge>M. norm ((f m) $$ (i, j) - (f n) $$ (i, j)) < e\" if e: \"e > 0\" for e"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "obtain M where mnm: \"\\<forall>m\\<ge>M. \\<forall>n\\<ge>m. norm ((f n - f m) $$ (i, j)) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m.\n              cmod ((f n - f m) $$ (i, j)) < e \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using cauchy_ij_norm e"], ["proof (prove)\nusing this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < ?e\n  0 < e\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<forall>m\\<ge>M.\n           \\<forall>n\\<ge>m.\n              cmod ((f n - f m) $$ (i, j)) < e \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "have \"norm ((f m) $$ (i, j) - (f n) $$ (i, j)) < e\" if m: \"m \\<ge> M\" and n: \"n \\<ge> M\" for m n"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "proof (cases \"n \\<ge> m\")"], ["proof (state)\ngoal (2 subgoals):\n 1. m \\<le> n \\<Longrightarrow> cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n 2. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "case True"], ["proof (state)\nthis:\n  m \\<le> n\n\ngoal (2 subgoals):\n 1. m \\<le> n \\<Longrightarrow> cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n 2. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  m \\<le> n", "show ?thesis"], ["proof (prove)\nusing this:\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. m \\<le> n \\<Longrightarrow> cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "from mnm m True"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e\n  M \\<le> m\n  m \\<le> n", "have \"norm ((f n) $$ (i, j) - (f m) $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e\n  M \\<le> m\n  m \\<le> n\n\ngoal (1 subgoal):\n 1. cmod (f n $$ (i, j) - f m $$ (i, j)) < e", "by (metis atLeastLessThan_iff carrier_matD(1) carrier_matD(2) dim i index_minus_mat(1) j)"], ["proof (state)\nthis:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. m \\<le> n \\<Longrightarrow> cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e", "have \"norm ((f m) $$ (i, j) - (f n) $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "by (simp add: norm_minus_commute)"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. m \\<le> n \\<Longrightarrow> cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "case False"], ["proof (state)\nthis:\n  \\<not> m \\<le> n\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  \\<not> m \\<le> n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> m \\<le> n\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "from False n mnm"], ["proof (chain)\npicking this:\n  \\<not> m \\<le> n\n  M \\<le> n\n  \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e", "have norm: \"norm ((f m - f n) $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  \\<not> m \\<le> n\n  M \\<le> n\n  \\<forall>m\\<ge>M. \\<forall>n\\<ge>m. cmod ((f n - f m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod ((f m - f n) $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  cmod ((f m - f n) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "have minus: \"(f m - f n) $$ (i, j)   =  f m  $$ (i, j) -f n $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f m - f n) $$ (i, j) = f m $$ (i, j) - f n $$ (i, j)", "by (metis atLeastLessThan_iff carrier_matD(1) carrier_matD(2) dim i index_minus_mat(1) j)"], ["proof (state)\nthis:\n  (f m - f n) $$ (i, j) = f m $$ (i, j) - f n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "also"], ["proof (state)\nthis:\n  (f m - f n) $$ (i, j) = f m $$ (i, j) - f n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "have \"\\<dots> = - (f n - f m) $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f m $$ (i, j) - f n $$ (i, j) = - (f n - f m) $$ (i, j)", "using dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f m $$ (i, j) - f n $$ (i, j) = - (f n - f m) $$ (i, j)", "by (metis atLeastLessThan_iff carrier_matD(1) carrier_matD(2) i index_minus_mat(1) j minus_diff_eq)"], ["proof (state)\nthis:\n  f m $$ (i, j) - f n $$ (i, j) = - (f n - f m) $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "finally"], ["proof (chain)\npicking this:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)", "have fmn: \"(f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\""], ["proof (prove)\nusing this:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\n\ngoal (1 subgoal):\n 1. (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)", "have \"norm ((- (f n - f m)) $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\n\ngoal (1 subgoal):\n 1. cmod ((- (f n - f m)) $$ (i, j)) < e", "using norm"], ["proof (prove)\nusing this:\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\n  cmod ((f m - f n) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod ((- (f n - f m)) $$ (i, j)) < e", "by (metis (no_types, lifting) atLeastLessThan_iff carrier_matD(1) carrier_matD(2) i\n              index_minus_mat(2) index_minus_mat(3) index_uminus_mat(1) j matrix_seq_axioms matrix_seq_def)"], ["proof (state)\nthis:\n  cmod ((- (f n - f m)) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod ((- (f n - f m)) $$ (i, j)) < e", "have \"norm (((f n - f m)) $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  cmod ((- (f n - f m)) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "using fmn norm"], ["proof (prove)\nusing this:\n  cmod ((- (f n - f m)) $$ (i, j)) < e\n  (f m - f n) $$ (i, j) = - (f n - f m) $$ (i, j)\n  cmod ((f m - f n) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod ((f n - f m) $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  cmod ((f n - f m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod ((f n - f m) $$ (i, j)) < e", "have \"norm (f n $$ (i, j) - f m $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  cmod ((f n - f m) $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod (f n $$ (i, j) - f m $$ (i, j)) < e", "by (metis minus norm norm_minus_commute)"], ["proof (state)\nthis:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e", "have \"norm (f m $$ (i, j) - f n $$ (i, j)) < e\""], ["proof (prove)\nusing this:\n  cmod (f n $$ (i, j) - f m $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "by (simp add: norm_minus_commute)"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<not> m \\<le> n \\<Longrightarrow>\n    cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>M \\<le> ?m; M \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (f ?m $$ (i, j) - f ?n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>M \\<le> ?m; M \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (f ?m $$ (i, j) - f ?n $$ (i, j)) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>M \\<le> ?m; M \\<le> ?n\\<rbrakk>\n  \\<Longrightarrow> cmod (f ?m $$ (i, j) - f ?n $$ (i, j)) < e\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>m\\<ge>M.\n          \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e", "by auto"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < ?e\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "from cauchy_final"], ["proof (chain)\npicking this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < ?e", "have \"Cauchy (\\<lambda> n. f n $$ (i, j))\""], ["proof (prove)\nusing this:\n  0 < ?e \\<Longrightarrow>\n  \\<exists>M.\n     \\<forall>m\\<ge>M.\n        \\<forall>n\\<ge>M. cmod (f m $$ (i, j) - f n $$ (i, j)) < ?e\n\ngoal (1 subgoal):\n 1. Cauchy (\\<lambda>n. f n $$ (i, j))", "by (simp add: Cauchy_def dist_norm)"], ["proof (state)\nthis:\n  Cauchy (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  Cauchy (\\<lambda>n. f n $$ (i, j))", "show ?thesis"], ["proof (prove)\nusing this:\n  Cauchy (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "by (simp add: Cauchy_convergent_iff)"], ["proof (state)\nthis:\n  convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal:\nNo subgoals!", "qed"], ["", "definition mat_seq_minus ::  \"(nat \\<Rightarrow> complex mat) \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n  \"mat_seq_minus X A = (\\<lambda>n. X n - A)\""], ["", "definition minus_mat_seq :: \"complex mat \\<Rightarrow> (nat \\<Rightarrow> complex mat) \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n  \"minus_mat_seq A X = (\\<lambda>n. A - X n)\""], ["", "lemma pos_mat_lim_is_pos_aux:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat\n  assumes limX: \"limit_mat X A m\" and posX: \"\\<exists>k. \\<forall>n\\<ge>k. positive (X n)\"\n  shows \"positive A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. positive A", "from posX"], ["proof (chain)\npicking this:\n  \\<exists>k. \\<forall>n\\<ge>k. positive (X n)", "obtain k where posk: \"\\<forall> n\\<ge>k. positive (X n)\""], ["proof (prove)\nusing this:\n  \\<exists>k. \\<forall>n\\<ge>k. positive (X n)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<forall>n\\<ge>k. positive (X n) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>k. positive (X n)\n\ngoal (1 subgoal):\n 1. positive A", "let ?Y = \"\\<lambda>n. X (n + k)\""], ["proof (state)\ngoal (1 subgoal):\n 1. positive A", "have posY: \"\\<forall>n. positive (?Y n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. positive (X (n + k))", "using posk"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>k. positive (X n)\n\ngoal (1 subgoal):\n 1. \\<forall>n. positive (X (n + k))", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. positive (X (n + k))\n\ngoal (1 subgoal):\n 1. positive A", "from limX"], ["proof (chain)\npicking this:\n  limit_mat X A m", "have dimXA: \"\\<forall>n. X (n + k) \\<in> carrier_mat m m \\<and> A \\<in> carrier_mat m m\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X (n + k) \\<in> carrier_mat m m \\<and> A \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X (n + k) \\<in> carrier_mat m m \\<and> A \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. X (n + k) \\<in> carrier_mat m m \\<and> A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. positive A", "have \"(\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\" if i: \"i < m\" and j: \"j < m\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have \"(\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "using limX limit_mat_def i j"], ["proof (prove)\nusing this:\n  limit_mat X A m\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have limseqX: \"\\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have \"\\<exists>no. \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r\" if r: \"r > 0\" for r"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "obtain no where \"\\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using limseqX r"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n  0 < r\n\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have \"\\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < ?r", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X (n + k) $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X (n + k) $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. X (n + k) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> A $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. positive A", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. X (n + k) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> A $$ (?i, ?j)", "have limXA: \"limit_mat (\\<lambda>n. X (n + k)) A m\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. X (n + k) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> A $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. X (n + k)) A m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. X (n + k) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> A $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X (n + k) \\<in> carrier_mat m m \\<and>\n       A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. X (n + k) $$ (i, j))\n              \\<longlonglongrightarrow> A $$ (i, j))", "using dimXA"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. X (n + k) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> A $$ (?i, ?j)\n  \\<forall>n. X (n + k) \\<in> carrier_mat m m \\<and> A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X (n + k) \\<in> carrier_mat m m \\<and>\n       A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. X (n + k) $$ (i, j))\n              \\<longlonglongrightarrow> A $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. X (n + k)) A m\n\ngoal (1 subgoal):\n 1. positive A", "from posY limXA"], ["proof (chain)\npicking this:\n  \\<forall>n. positive (X (n + k))\n  limit_mat (\\<lambda>n. X (n + k)) A m", "have \"positive A\""], ["proof (prove)\nusing this:\n  \\<forall>n. positive (X (n + k))\n  limit_mat (\\<lambda>n. X (n + k)) A m\n\ngoal (1 subgoal):\n 1. positive A", "using pos_mat_lim_is_pos[of ?Y A m]"], ["proof (prove)\nusing this:\n  \\<forall>n. positive (X (n + k))\n  limit_mat (\\<lambda>n. X (n + k)) A m\n  \\<lbrakk>limit_mat (\\<lambda>n. X (n + k)) A m;\n   \\<forall>n. positive (X (n + k))\\<rbrakk>\n  \\<Longrightarrow> positive A\n\ngoal (1 subgoal):\n 1. positive A", "by auto"], ["proof (state)\nthis:\n  positive A\n\ngoal (1 subgoal):\n 1. positive A", "then"], ["proof (chain)\npicking this:\n  positive A", "show ?thesis"], ["proof (prove)\nusing this:\n  positive A\n\ngoal (1 subgoal):\n 1. positive A", "by auto"], ["proof (state)\nthis:\n  positive A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma minus_mat_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimB: \"B \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (mat_seq_minus X B) (A - B) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus X B) (A - B) m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus X B) (A - B) m", "have dimXAB: \"\\<forall>n. X n - B \\<in> carrier_mat m m \\<and> A - B \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n - B \\<in> carrier_mat m m \\<and> A - B \\<in> carrier_mat m m", "using index_minus_mat dimB"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < dim_row ?B; ?j < dim_col ?B\\<rbrakk>\n  \\<Longrightarrow> (?A - ?B) $$ (?i, ?j) = ?A $$ (?i, ?j) - ?B $$ (?i, ?j)\n  dim_row (?A - ?B) = dim_row ?B\n  dim_col (?A - ?B) = dim_col ?B\n  B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n - B \\<in> carrier_mat m m \\<and> A - B \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n.\n     X n - B \\<in> carrier_mat m m \\<and> A - B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus X B) (A - B) m", "have \"(\\<lambda>n. (X n - B) $$ (i, j)) \\<longlonglongrightarrow> (A - B) $$ (i, j)\" if i: \"i < m\" and j: \"j < m\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "from limX i j"], ["proof (chain)\npicking this:\n  limit_mat X A m\n  i < m\n  j < m", "have \"(\\<lambda>n. (X n) $$ (i, j)) \\<longlonglongrightarrow> (A) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have X: \"\\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have XB: \"\\<exists>no. \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r\" if r: \"r > 0\" for r"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "obtain no where \"\\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using r X"], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have dist:  \"\\<forall>n\\<ge>no. norm (X n $$ (i, j) - A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "unfolding dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "have \"norm ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r\" if n: \"n \\<ge> no\" for n"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "have \"(X n - B) $$ (i, j) - (A - B) $$ (i, j) = (X n) $$ (i, j) -  A $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X n - B) $$ (i, j) - (A - B) $$ (i, j) = X n $$ (i, j) - A $$ (i, j)", "using dimB i j"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat m m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (X n - B) $$ (i, j) - (A - B) $$ (i, j) = X n $$ (i, j) - A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (X n - B) $$ (i, j) - (A - B) $$ (i, j) = X n $$ (i, j) - A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  (X n - B) $$ (i, j) - (A - B) $$ (i, j) = X n $$ (i, j) - A $$ (i, j)", "have \"norm ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) = norm ((X n) $$ (i, j) -  A $$ (i, j))\""], ["proof (prove)\nusing this:\n  (X n - B) $$ (i, j) - (A - B) $$ (i, j) = X n $$ (i, j) - A $$ (i, j)\n\ngoal (1 subgoal):\n 1. cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) =\n    cmod (X n $$ (i, j) - A $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "using dist n"], ["proof (prove)\nusing this:\n  cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n  no \\<le> n\n\ngoal (1 subgoal):\n 1. cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  cmod ((X n - B) $$ (i, j) - (A - B) $$ (i, j)) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((X ?n - B) $$ (i, j) - (A - B) $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((X ?n - B) $$ (i, j) - (A - B) $$ (i, j)) < r", "show ?thesis"], ["proof (prove)\nusing this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((X ?n - B) $$ (i, j) - (A - B) $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "using dist_norm"], ["proof (prove)\nusing this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((X ?n - B) $$ (i, j) - (A - B) $$ (i, j)) < r\n  dist ?x ?y = norm (?x - ?y)\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "by metis"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < ?r", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (X n - B) $$ (i, j))\n    \\<longlonglongrightarrow> (A - B) $$ (i, j)", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist ((X n - B) $$ (i, j)) ((A - B) $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (X n - B) $$ (i, j))\n  \\<longlonglongrightarrow> (A - B) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n - B) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A - B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus X B) (A - B) m", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n - B) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A - B) $$ (?i, ?j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n - B) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A - B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus X B) (A - B) m", "unfolding limit_mat_def mat_seq_minus_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n - B) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A - B) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n - B \\<in> carrier_mat m m \\<and>\n       A - B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n - B) $$ (i, j))\n              \\<longlonglongrightarrow> (A - B) $$ (i, j))", "using dimXAB"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (X n - B) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (A - B) $$ (?i, ?j)\n  \\<forall>n.\n     X n - B \\<in> carrier_mat m m \\<and> A - B \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       X n - B \\<in> carrier_mat m m \\<and>\n       A - B \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (X n - B) $$ (i, j))\n              \\<longlonglongrightarrow> (A - B) $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat (mat_seq_minus X B) (A - B) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_minus_limit:\n  fixes X :: \"nat \\<Rightarrow> complex mat\" and A :: \"complex mat\" and m :: nat and B :: \"complex mat\"\n  assumes dimA: \"A \\<in> carrier_mat m m\" and limX: \"limit_mat X A m\"\n  shows \"limit_mat (minus_mat_seq B X) (B - A) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "have dimX : \"\\<forall>n. X n \\<in> carrier_mat m m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "using limX"], ["proof (prove)\nusing this:\n  limit_mat X A m\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n. X n \\<in> carrier_mat m m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. X n \\<in> carrier_mat m m", "have dimXAB: \"\\<forall>n. B - X n \\<in> carrier_mat m m \\<and> B - A \\<in> carrier_mat m m\""], ["proof (prove)\nusing this:\n  \\<forall>n. X n \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       B - X n \\<in> carrier_mat m m \\<and> B - A \\<in> carrier_mat m m", "using index_minus_mat dimA"], ["proof (prove)\nusing this:\n  \\<forall>n. X n \\<in> carrier_mat m m\n  \\<lbrakk>?i < dim_row ?B; ?j < dim_col ?B\\<rbrakk>\n  \\<Longrightarrow> (?A - ?B) $$ (?i, ?j) = ?A $$ (?i, ?j) - ?B $$ (?i, ?j)\n  dim_row (?A - ?B) = dim_row ?B\n  dim_col (?A - ?B) = dim_col ?B\n  A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       B - X n \\<in> carrier_mat m m \\<and> B - A \\<in> carrier_mat m m", "by (simp add: minus_carrier_mat)"], ["proof (state)\nthis:\n  \\<forall>n.\n     B - X n \\<in> carrier_mat m m \\<and> B - A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "have \"(\\<lambda>n. (B - X n) $$ (i, j)) \\<longlonglongrightarrow> (B - A) $$ (i, j)\" if i: \"i < m\" and j: \"j < m\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "from limX i j"], ["proof (chain)\npicking this:\n  limit_mat X A m\n  i < m\n  j < m", "have \"(\\<lambda>n. (X n) $$ (i, j)) \\<longlonglongrightarrow> (A) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat X A m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     X n \\<in> carrier_mat m m \\<and>\n     A \\<in> carrier_mat m m \\<and>\n     (\\<forall>i<m.\n         \\<forall>j<m.\n            (\\<lambda>n. X n $$ (i, j))\n            \\<longlonglongrightarrow> A $$ (i, j))\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)", "have X: \"\\<forall>r>0. \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. X n $$ (i, j)) \\<longlonglongrightarrow> A $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have XB: \"\\<exists>no. \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r\" if r: \"r > 0\" for r"], ["proof (prove)\nusing this:\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "obtain no where \"\\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using r X"], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>r>0.\n     \\<exists>no. \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. (\\<And>no.\n        \\<forall>n\\<ge>no.\n           dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r", "have dist: \"\\<forall>n\\<ge>no. norm (X n $$ (i, j) - A $$ (i, j)) < r\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. dist (X n $$ (i, j)) (A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "unfolding dist_norm"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r", "have \"norm ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r\" if n: \"n \\<ge> no\" for n"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "have \"(B - X n) $$ (i, j) - (B - A) $$ (i, j) = - ((X n) $$ (i, j) -  A $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (B - X n) $$ (i, j) - (B - A) $$ (i, j) =\n    - (X n $$ (i, j) - A $$ (i, j))", "using dimA i j"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat m m\n  i < m\n  j < m\n\ngoal (1 subgoal):\n 1. (B - X n) $$ (i, j) - (B - A) $$ (i, j) =\n    - (X n $$ (i, j) - A $$ (i, j))", "by (smt cancel_ab_semigroup_add_class.diff_right_commute cancel_comm_monoid_add_class.diff_cancel carrier_matD(1) carrier_matD(2) diff_add_cancel dimX index_minus_mat(1) minus_diff_eq)"], ["proof (state)\nthis:\n  (B - X n) $$ (i, j) - (B - A) $$ (i, j) = - (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  (B - X n) $$ (i, j) - (B - A) $$ (i, j) = - (X n $$ (i, j) - A $$ (i, j))", "have \"norm ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) = norm ((X n) $$ (i, j) -  A $$ (i, j))\""], ["proof (prove)\nusing this:\n  (B - X n) $$ (i, j) - (B - A) $$ (i, j) = - (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) =\n    cmod (X n $$ (i, j) - A $$ (i, j))", "by (metis norm_minus_cancel)"], ["proof (state)\nthis:\n  cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>no.\n       cmod (X n $$ (i, j) - A $$ (i, j)) < r \\<Longrightarrow>\n    cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))", "show ?thesis"], ["proof (prove)\nusing this:\n  cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n\ngoal (1 subgoal):\n 1. cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "using dist n"], ["proof (prove)\nusing this:\n  cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) =\n  cmod (X n $$ (i, j) - A $$ (i, j))\n  \\<forall>n\\<ge>no. cmod (X n $$ (i, j) - A $$ (i, j)) < r\n  no \\<le> n\n\ngoal (1 subgoal):\n 1. cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  cmod ((B - X n) $$ (i, j) - (B - A) $$ (i, j)) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((B - X ?n) $$ (i, j) - (B - A) $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist (X n $$ (i, j)) (A $$ (i, j)) < r \\<Longrightarrow>\n    \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "then"], ["proof (chain)\npicking this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((B - X ?n) $$ (i, j) - (B - A) $$ (i, j)) < r", "show ?thesis"], ["proof (prove)\nusing this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((B - X ?n) $$ (i, j) - (B - A) $$ (i, j)) < r\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "using dist_norm"], ["proof (prove)\nusing this:\n  no \\<le> ?n \\<Longrightarrow>\n  cmod ((B - X ?n) $$ (i, j) - (B - A) $$ (i, j)) < r\n  dist ?x ?y = norm (?x - ?y)\n\ngoal (1 subgoal):\n 1. \\<exists>no.\n       \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "by metis"], ["proof (state)\nthis:\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "then"], ["proof (chain)\npicking this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < ?r", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (B - X n) $$ (i, j))\n    \\<longlonglongrightarrow> (B - A) $$ (i, j)", "unfolding LIMSEQ_def"], ["proof (prove)\nusing this:\n  0 < ?r \\<Longrightarrow>\n  \\<exists>no.\n     \\<forall>n\\<ge>no. dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < ?r\n\ngoal (1 subgoal):\n 1. \\<forall>r>0.\n       \\<exists>no.\n          \\<forall>n\\<ge>no.\n             dist ((B - X n) $$ (i, j)) ((B - A) $$ (i, j)) < r", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (B - X n) $$ (i, j))\n  \\<longlonglongrightarrow> (B - A) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (B - X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (B - A) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (B - X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (B - A) $$ (?i, ?j)", "have \"limit_mat (minus_mat_seq B X) (B - A) m\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (B - X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (B - A) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "unfolding limit_mat_def minus_mat_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (B - X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (B - A) $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       B - X n \\<in> carrier_mat m m \\<and>\n       B - A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (B - X n) $$ (i, j))\n              \\<longlonglongrightarrow> (B - A) $$ (i, j))", "using dimXAB"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < m; ?j < m\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. (B - X n) $$ (?i, ?j))\n                    \\<longlonglongrightarrow> (B - A) $$ (?i, ?j)\n  \\<forall>n.\n     B - X n \\<in> carrier_mat m m \\<and> B - A \\<in> carrier_mat m m\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       B - X n \\<in> carrier_mat m m \\<and>\n       B - A \\<in> carrier_mat m m \\<and>\n       (\\<forall>i<m.\n           \\<forall>j<m.\n              (\\<lambda>n. (B - X n) $$ (i, j))\n              \\<longlonglongrightarrow> (B - A) $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat (minus_mat_seq B X) (B - A) m\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "then"], ["proof (chain)\npicking this:\n  limit_mat (minus_mat_seq B X) (B - A) m", "show ?thesis"], ["proof (prove)\nusing this:\n  limit_mat (minus_mat_seq B X) (B - A) m\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq B X) (B - A) m", "by auto"], ["proof (state)\nthis:\n  limit_mat (minus_mat_seq B X) (B - A) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_lub_form:\n  \"lowner_is_lub (mat dim dim (\\<lambda> (i, j). (lim (\\<lambda> n. (f n) $$ (i, j)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "from inc_partial_density_operator_converge"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i \\<in> {0..<dim}; ?j \\<in> {0..<dim}\\<rbrakk>\n  \\<Longrightarrow> convergent (\\<lambda>n. f n $$ (?i, ?j))", "have conf: \"\\<forall> i \\<in> {0 ..<dim}.  \\<forall> j \\<in> {0 ..<dim}. convergent (\\<lambda> n. f n $$ (i, j))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<in> {0..<dim}; ?j \\<in> {0..<dim}\\<rbrakk>\n  \\<Longrightarrow> convergent (\\<lambda>n. f n $$ (?i, ?j))\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>{0..<dim}.\n       \\<forall>j\\<in>{0..<dim}. convergent (\\<lambda>n. f n $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>{0..<dim}.\n     \\<forall>j\\<in>{0..<dim}. convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "let ?A = \"mat dim dim (\\<lambda> (i, j). (lim (\\<lambda> n. (f n) $$ (i, j))))\""], ["proof (state)\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "have dim_A: \"?A \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n    \\<in> carrier_mat dim dim", "by auto"], ["proof (state)\nthis:\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "have lim_A: \"(\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$ (i, j)\"\n    if i: \"i < dim\" and j: \"j < dim\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "from i j"], ["proof (chain)\npicking this:\n  i < dim\n  j < dim", "have ij: \"mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$ (i, j) = lim (\\<lambda>n. f n $$ (i, j))\""], ["proof (prove)\nusing this:\n  i < dim\n  j < dim\n\ngoal (1 subgoal):\n 1. mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n    (i, j) =\n    lim (\\<lambda>n. f n $$ (i, j))", "by (metis case_prod_conv index_mat(1))"], ["proof (state)\nthis:\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$ (i, j) =\n  lim (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "have \"convergent (\\<lambda>n. f n $$ (i, j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "using conf i j"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>{0..<dim}.\n     \\<forall>j\\<in>{0..<dim}. convergent (\\<lambda>n. f n $$ (i, j))\n  i < dim\n  j < dim\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "then"], ["proof (chain)\npicking this:\n  convergent (\\<lambda>n. f n $$ (i, j))", "have \"(\\<lambda>n. f n $$ (i, j))  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j)) \""], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))", "using convergent_LIMSEQ_iff"], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. f n $$ (i, j))\n  convergent ?X = ?X \\<longlonglongrightarrow> lim ?X\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "using ij"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$ (i, j) =\n  lim (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> mat dim dim\n                               (\\<lambda>(i, j).\n                                   lim (\\<lambda>n. f n $$ (i, j))) $$\n                              (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> mat dim dim\n                             (\\<lambda>(i, j).\n                                 lim (\\<lambda>n. f n $$ (i, j))) $$\n                            (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < dim; ?j < dim\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. f n $$ (?i, ?j))\n                    \\<longlonglongrightarrow> mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "from dim dim_A lim_A"], ["proof (chain)\npicking this:\n  f ?n \\<in> carrier_mat dim dim\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n  \\<lbrakk>?i < dim; ?j < dim\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. f n $$ (?i, ?j))\n                    \\<longlonglongrightarrow> mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n        (?i, ?j)", "have lim_mat_A: \"limit_mat f ?A dim\""], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n  \\<lbrakk>?i < dim; ?j < dim\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. f n $$ (?i, ?j))\n                    \\<longlonglongrightarrow> mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. limit_mat f\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n  \\<lbrakk>?i < dim; ?j < dim\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. f n $$ (?i, ?j))\n                    \\<longlonglongrightarrow> mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n        (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       f n \\<in> carrier_mat dim dim \\<and>\n       mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n       \\<in> carrier_mat dim dim \\<and>\n       (\\<forall>i<dim.\n           \\<forall>j<dim.\n              (\\<lambda>n. f n $$ (i, j))\n              \\<longlonglongrightarrow> mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n  (i, j))", "by auto"], ["proof (state)\nthis:\n  limit_mat f\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "have is_ub: \"f n \\<le>\\<^sub>L ?A\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "have \"\\<forall> m \\<ge> n. positive (f m - f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n. positive (f m - f n)", "using lowner_le_transitive"], ["proof (prove)\nusing this:\n  ?m \\<le> ?n \\<Longrightarrow> positive (f ?n - f ?m)\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n. positive (f m - f n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>n. positive (f m - f n)", "have le: \"\\<forall> m \\<ge> n. f n \\<le>\\<^sub>L f m \""], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n. f n \\<le>\\<^sub>L f m", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n.\n       dim_row (f n) = dim_row (f m) \\<and>\n       dim_col (f n) = dim_col (f m) \\<and> positive (f m - f n)", "using dim"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n.\n       dim_row (f n) = dim_row (f m) \\<and>\n       dim_col (f n) = dim_col (f m) \\<and> positive (f m - f n)", "by (metis carrier_matD(1) carrier_matD(2))"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>n. f n \\<le>\\<^sub>L f m\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "have dimn: \"f n \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f n \\<in> carrier_mat dim dim", "using dim"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f n \\<in> carrier_mat dim dim", "by auto"], ["proof (state)\nthis:\n  f n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  f n \\<in> carrier_mat dim dim", "have limAf: \"limit_mat (mat_seq_minus f (f n)) (?A - f n) dim\""], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus f (f n))\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n     dim", "using minus_mat_limit lim_mat_A"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat dim dim\n  \\<lbrakk>?B \\<in> carrier_mat ?m ?m; limit_mat ?X ?A ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (mat_seq_minus ?X ?B) (?A - ?B) ?m\n  limit_mat f\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n\ngoal (1 subgoal):\n 1. limit_mat (mat_seq_minus f (f n))\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n     dim", "by auto"], ["proof (state)\nthis:\n  limit_mat (mat_seq_minus f (f n))\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n   dim\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "have \" \\<forall>m\\<ge>n. positive (f m - f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n. positive (f m - f n)", "using lowner_le_transitive"], ["proof (prove)\nusing this:\n  ?m \\<le> ?n \\<Longrightarrow> positive (f ?n - f ?m)\n\ngoal (1 subgoal):\n 1. \\<forall>m\\<ge>n. positive (f m - f n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>n. positive (f m - f n)", "have \"\\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)\""], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>n. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)", "by auto"], ["proof (state)\nthis:\n  \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)", "have posAf: \"\\<exists> k. \\<forall> m \\<ge> k. positive ((mat_seq_minus f (f n)) m)\""], ["proof (prove)\nusing this:\n  \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. \\<exists>k. \\<forall>m\\<ge>k. positive (mat_seq_minus f (f n) m)", "unfolding mat_seq_minus_def"], ["proof (prove)\nusing this:\n  \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)\n\ngoal (1 subgoal):\n 1. \\<exists>k. \\<forall>m\\<ge>k. positive (f m - f n)", "by auto"], ["proof (state)\nthis:\n  \\<exists>k. \\<forall>m\\<ge>k. positive (mat_seq_minus f (f n) m)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "from limAf posAf"], ["proof (chain)\npicking this:\n  limit_mat (mat_seq_minus f (f n))\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n   dim\n  \\<exists>k. \\<forall>m\\<ge>k. positive (mat_seq_minus f (f n) m)", "have \"positive (?A - f n)\""], ["proof (prove)\nusing this:\n  limit_mat (mat_seq_minus f (f n))\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n   dim\n  \\<exists>k. \\<forall>m\\<ge>k. positive (mat_seq_minus f (f n) m)\n\ngoal (1 subgoal):\n 1. positive\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)", "using pos_mat_lim_is_pos_aux"], ["proof (prove)\nusing this:\n  limit_mat (mat_seq_minus f (f n))\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n   dim\n  \\<exists>k. \\<forall>m\\<ge>k. positive (mat_seq_minus f (f n) m)\n  \\<lbrakk>limit_mat ?X ?A ?m;\n   \\<exists>k. \\<forall>n\\<ge>k. positive (?X n)\\<rbrakk>\n  \\<Longrightarrow> positive ?A\n\ngoal (1 subgoal):\n 1. positive\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)", "by auto"], ["proof (state)\nthis:\n  positive\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  positive\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)", "have \"f n \\<le>\\<^sub>L mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\""], ["proof (prove)\nusing this:\n  positive\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  positive\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n\ngoal (1 subgoal):\n 1. dim_row (f n) =\n    dim_row\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) \\<and>\n    dim_col (f n) =\n    dim_col\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) \\<and>\n    positive\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)", "using dim"], ["proof (prove)\nusing this:\n  positive\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. dim_row (f n) =\n    dim_row\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) \\<and>\n    dim_col (f n) =\n    dim_col\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) \\<and>\n    positive\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) - f n)", "by auto"], ["proof (state)\nthis:\n  f n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "then"], ["proof (chain)\npicking this:\n  f n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "show ?thesis"], ["proof (prove)\nusing this:\n  f n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L\n    mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "by auto"], ["proof (state)\nthis:\n  f n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f ?n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "have is_lub: \"?A \\<le>\\<^sub>L M'\" if ub: \"\\<forall>n. f n \\<le>\\<^sub>L M'\" for M'"], ["proof (prove)\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "have dim_M: \"M' \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M' \\<in> carrier_mat dim dim", "using ub"], ["proof (prove)\nusing this:\n  \\<forall>n. f n \\<le>\\<^sub>L M'\n\ngoal (1 subgoal):\n 1. M' \\<in> carrier_mat dim dim", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     dim_row (f n) = dim_row M' \\<and>\n     dim_col (f n) = dim_col M' \\<and> positive (M' - f n)\n\ngoal (1 subgoal):\n 1. M' \\<in> carrier_mat dim dim", "using dim"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     dim_row (f n) = dim_row M' \\<and>\n     dim_col (f n) = dim_col M' \\<and> positive (M' - f n)\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. M' \\<in> carrier_mat dim dim", "by (metis carrier_matD(1) carrier_matD(2) carrier_mat_triv)"], ["proof (state)\nthis:\n  M' \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "from ub"], ["proof (chain)\npicking this:\n  \\<forall>n. f n \\<le>\\<^sub>L M'", "have posAf: \"\\<forall> n. positive (minus_mat_seq M' f n)\""], ["proof (prove)\nusing this:\n  \\<forall>n. f n \\<le>\\<^sub>L M'\n\ngoal (1 subgoal):\n 1. \\<forall>n. positive (minus_mat_seq M' f n)", "unfolding minus_mat_seq_def lowner_le_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     dim_row (f n) = dim_row M' \\<and>\n     dim_col (f n) = dim_col M' \\<and> positive (M' - f n)\n\ngoal (1 subgoal):\n 1. \\<forall>n. positive (M' - f n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. positive (minus_mat_seq M' f n)\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "have limAf: \"limit_mat (minus_mat_seq M' f) (M' - ?A) dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq M' f)\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n     dim", "using mat_minus_limit dim_A lim_mat_A"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?m ?m; limit_mat ?X ?A ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (minus_mat_seq ?B ?X) (?B - ?A) ?m\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n  limit_mat f\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n\ngoal (1 subgoal):\n 1. limit_mat (minus_mat_seq M' f)\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n     dim", "by auto"], ["proof (state)\nthis:\n  limit_mat (minus_mat_seq M' f)\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "from posAf limAf"], ["proof (chain)\npicking this:\n  \\<forall>n. positive (minus_mat_seq M' f n)\n  limit_mat (minus_mat_seq M' f)\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim", "have  \"positive (M' - ?A)\""], ["proof (prove)\nusing this:\n  \\<forall>n. positive (minus_mat_seq M' f n)\n  limit_mat (minus_mat_seq M' f)\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n\ngoal (1 subgoal):\n 1. positive\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "using pos_mat_lim_is_pos_aux"], ["proof (prove)\nusing this:\n  \\<forall>n. positive (minus_mat_seq M' f n)\n  limit_mat (minus_mat_seq M' f)\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) dim\n  \\<lbrakk>limit_mat ?X ?A ?m;\n   \\<exists>k. \\<forall>n\\<ge>k. positive (?X n)\\<rbrakk>\n  \\<Longrightarrow> positive ?A\n\ngoal (1 subgoal):\n 1. positive\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "by auto"], ["proof (state)\nthis:\n  positive\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "then"], ["proof (chain)\npicking this:\n  positive\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "have \"?A \\<le>\\<^sub>L M'\""], ["proof (prove)\nusing this:\n  positive\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  positive\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n\ngoal (1 subgoal):\n 1. dim_row\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) =\n    dim_row M' \\<and>\n    dim_col\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) =\n    dim_col M' \\<and>\n    positive\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "using dim dim_A dim_M"], ["proof (prove)\nusing this:\n  positive\n   (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n  f ?n \\<in> carrier_mat dim dim\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<in> carrier_mat dim dim\n  M' \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. dim_row\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) =\n    dim_row M' \\<and>\n    dim_col\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) =\n    dim_col M' \\<and>\n    positive\n     (M' - mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "by auto"], ["proof (state)\nthis:\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  M'\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "then"], ["proof (chain)\npicking this:\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  M'", "show ?thesis"], ["proof (prove)\nusing this:\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  M'\n\ngoal (1 subgoal):\n 1. mat dim dim\n     (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n    M'", "by auto"], ["proof (state)\nthis:\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  M'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n. f n \\<le>\\<^sub>L ?M' \\<Longrightarrow>\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  ?M'\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "from is_ub is_lub"], ["proof (chain)\npicking this:\n  f ?n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<forall>n. f n \\<le>\\<^sub>L ?M' \\<Longrightarrow>\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  ?M'", "show ?thesis"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<forall>n. f n \\<le>\\<^sub>L ?M' \\<Longrightarrow>\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  ?M'\n\ngoal (1 subgoal):\n 1. local.lowner_is_lub\n     (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))", "unfolding lowner_is_lub_def"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L\n  mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n  \\<forall>n. f n \\<le>\\<^sub>L ?M' \\<Longrightarrow>\n  mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n  ?M'\n\ngoal (1 subgoal):\n 1. (\\<forall>n.\n        f n \\<le>\\<^sub>L\n        mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))) \\<and>\n    (\\<forall>M'.\n        (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n        mat dim dim\n         (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) \\<le>\\<^sub>L\n        M')", "by auto"], ["proof (state)\nthis:\n  local.lowner_is_lub\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Lowner partial order is a complete partial order.\\<close>"], ["", "lemma lowner_lub_exists: \"\\<exists>M. lowner_is_lub M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex local.lowner_is_lub", "using lowner_lub_form"], ["proof (prove)\nusing this:\n  local.lowner_is_lub\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n\ngoal (1 subgoal):\n 1. Ex local.lowner_is_lub", "by auto"], ["", "lemma lowner_lub_unique: \"\\<exists>!M. lowner_is_lub M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex1 local.lowner_is_lub", "proof (rule HOL.ex_ex1I)"], ["proof (state)\ngoal (2 subgoals):\n 1. Ex local.lowner_is_lub\n 2. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "show \"\\<exists>M. lowner_is_lub M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex local.lowner_is_lub", "by (rule lowner_lub_exists)"], ["proof (state)\nthis:\n  Ex local.lowner_is_lub\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "fix M N"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "assume M: \"lowner_is_lub M\" and N: \"lowner_is_lub N\""], ["proof (state)\nthis:\n  local.lowner_is_lub M\n  local.lowner_is_lub N\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "have Md: \"M \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "using M"], ["proof (prove)\nusing this:\n  local.lowner_is_lub M\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat dim dim", "by (rule lowner_is_lub_dim)"], ["proof (state)\nthis:\n  M \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "have Nd: \"N \\<in> carrier_mat dim dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<in> carrier_mat dim dim", "using N"], ["proof (prove)\nusing this:\n  local.lowner_is_lub N\n\ngoal (1 subgoal):\n 1. N \\<in> carrier_mat dim dim", "by (rule lowner_is_lub_dim)"], ["proof (state)\nthis:\n  N \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "have MN: \"M \\<le>\\<^sub>L N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<le>\\<^sub>L N", "using M N"], ["proof (prove)\nusing this:\n  local.lowner_is_lub M\n  local.lowner_is_lub N\n\ngoal (1 subgoal):\n 1. M \\<le>\\<^sub>L N", "by (simp add: lowner_is_lub_def)"], ["proof (state)\nthis:\n  M \\<le>\\<^sub>L N\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "have NM: \"N \\<le>\\<^sub>L M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le>\\<^sub>L M", "using M N"], ["proof (prove)\nusing this:\n  local.lowner_is_lub M\n  local.lowner_is_lub N\n\ngoal (1 subgoal):\n 1. N \\<le>\\<^sub>L M", "by (simp add: lowner_is_lub_def)"], ["proof (state)\nthis:\n  N \\<le>\\<^sub>L M\n\ngoal (1 subgoal):\n 1. \\<And>M y.\n       \\<lbrakk>local.lowner_is_lub M; local.lowner_is_lub y\\<rbrakk>\n       \\<Longrightarrow> M = y", "show \"M = N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M = N", "using MN NM"], ["proof (prove)\nusing this:\n  M \\<le>\\<^sub>L N\n  N \\<le>\\<^sub>L M\n\ngoal (1 subgoal):\n 1. M = N", "by (auto intro: lowner_le_antisym[OF Md Nd])"], ["proof (state)\nthis:\n  M = N\n\ngoal:\nNo subgoals!", "qed"], ["", "definition lowner_lub :: \"complex mat\" where\n  \"lowner_lub = (THE M. lowner_is_lub M)\""], ["", "lemma lowner_lub_prop: \"lowner_is_lub lowner_lub\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.lowner_is_lub lowner_lub", "unfolding lowner_lub_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. local.lowner_is_lub (The local.lowner_is_lub)", "apply (rule HOL.theI')"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex1 local.lowner_is_lub", "by (rule lowner_lub_unique)"], ["", "lemma lowner_lub_is_limit:\n  \"limit_mat f lowner_lub dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "define A where \"A = lowner_lub\""], ["proof (state)\nthis:\n  A = lowner_lub\n\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "then"], ["proof (chain)\npicking this:\n  A = lowner_lub", "have \"A = (THE M. lowner_is_lub M)\""], ["proof (prove)\nusing this:\n  A = lowner_lub\n\ngoal (1 subgoal):\n 1. A = The local.lowner_is_lub", "using lowner_lub_def"], ["proof (prove)\nusing this:\n  A = lowner_lub\n  lowner_lub = The local.lowner_is_lub\n\ngoal (1 subgoal):\n 1. A = The local.lowner_is_lub", "by auto"], ["proof (state)\nthis:\n  A = The local.lowner_is_lub\n\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "then"], ["proof (chain)\npicking this:\n  A = The local.lowner_is_lub", "have Af: \"A = (mat dim dim (\\<lambda> (i, j). (lim (\\<lambda> n.  (f n) $$ (i, j)))))\""], ["proof (prove)\nusing this:\n  A = The local.lowner_is_lub\n\ngoal (1 subgoal):\n 1. A = mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "using lowner_lub_form lowner_lub_unique"], ["proof (prove)\nusing this:\n  A = The local.lowner_is_lub\n  local.lowner_is_lub\n   (mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))))\n  Ex1 local.lowner_is_lub\n\ngoal (1 subgoal):\n 1. A = mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))", "by auto"], ["proof (state)\nthis:\n  A = mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "show \"limit_mat f A dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat f A dim", "unfolding Af limit_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       f n \\<in> carrier_mat dim dim \\<and>\n       mat dim dim (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j)))\n       \\<in> carrier_mat dim dim \\<and>\n       (\\<forall>i<dim.\n           \\<forall>j<dim.\n              (\\<lambda>n. f n $$ (i, j))\n              \\<longlonglongrightarrow> mat dim dim\n   (\\<lambda>(i, j). lim (\\<lambda>n. f n $$ (i, j))) $$\n  (i, j))", "apply (auto simp add: dim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim; j < dim\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n $$ (i, j))\n                         \\<longlonglongrightarrow> lim\n              (\\<lambda>n. f n $$ (i, j))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim; j < dim\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n $$ (i, j))\n                         \\<longlonglongrightarrow> lim\n              (\\<lambda>n. f n $$ (i, j))", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim; j < dim\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n $$ (i, j))\n                         \\<longlonglongrightarrow> lim\n              (\\<lambda>n. f n $$ (i, j))", "assume dims: \"i < dim\" \"j < dim\""], ["proof (state)\nthis:\n  i < dim\n  j < dim\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim; j < dim\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n $$ (i, j))\n                         \\<longlonglongrightarrow> lim\n              (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  i < dim\n  j < dim", "have \"convergent  (\\<lambda>n. f n $$ (i, j))\""], ["proof (prove)\nusing this:\n  i < dim\n  j < dim\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "using inc_partial_density_operator_converge"], ["proof (prove)\nusing this:\n  i < dim\n  j < dim\n  \\<lbrakk>?i \\<in> {0..<dim}; ?j \\<in> {0..<dim}\\<rbrakk>\n  \\<Longrightarrow> convergent (\\<lambda>n. f n $$ (?i, ?j))\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. f n $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim; j < dim\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n $$ (i, j))\n                         \\<longlonglongrightarrow> lim\n              (\\<lambda>n. f n $$ (i, j))", "then"], ["proof (chain)\npicking this:\n  convergent (\\<lambda>n. f n $$ (i, j))", "show \"(\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))\""], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. f n $$ (i, j))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))", "using convergent_LIMSEQ_iff"], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. f n $$ (i, j))\n  convergent ?X = ?X \\<longlonglongrightarrow> lim ?X\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> lim (\\<lambda>n. f n $$ (i, j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  limit_mat f A dim\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_lub_trace:\n  assumes \"\\<forall> n. trace (f n) \\<le> x\"\n  shows \"trace lowner_lub \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "have \"\\<forall> n. trace (f n) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. 0 \\<le> trace (f n)", "using positive_trace pdo"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace ?A\n  partial_density_operator (f ?n)\n\ngoal (1 subgoal):\n 1. \\<forall>n. 0 \\<le> trace (f n)", "unfolding partial_density_operator_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace ?A\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>n. 0 \\<le> trace (f n)", "using dim"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace ?A\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n  f ?n \\<in> carrier_mat dim dim\n\ngoal (1 subgoal):\n 1. \\<forall>n. 0 \\<le> trace (f n)", "by blast"], ["proof (state)\nthis:\n  \\<forall>n. 0 \\<le> trace (f n)\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. 0 \\<le> trace (f n)", "have Re: \"\\<forall> n. Re (trace (f n)) \\<ge> 0 \\<and> Im (trace (f n)) = 0\""], ["proof (prove)\nusing this:\n  \\<forall>n. 0 \\<le> trace (f n)\n\ngoal (1 subgoal):\n 1. \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0", "have lex: \"\\<forall> n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0\""], ["proof (prove)\nusing this:\n  \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0\n\ngoal (1 subgoal):\n 1. \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0\n  \\<forall>n. trace (f n) \\<le> x\n\ngoal (1 subgoal):\n 1. \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0", "by auto"], ["proof (state)\nthis:\n  \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "have \"limit_mat f lowner_lub dim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "using lowner_lub_is_limit"], ["proof (prove)\nusing this:\n  limit_mat f lowner_lub dim\n\ngoal (1 subgoal):\n 1. limit_mat f lowner_lub dim", "by auto"], ["proof (state)\nthis:\n  limit_mat f lowner_lub dim\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  limit_mat f lowner_lub dim", "have conv: \"(\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub\""], ["proof (prove)\nusing this:\n  limit_mat f lowner_lub dim\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub", "using mat_trace_limit"], ["proof (prove)\nusing this:\n  limit_mat f lowner_lub dim\n  limit_mat ?g ?A ?d \\<Longrightarrow>\n  (\\<lambda>n. trace (?g n)) \\<longlonglongrightarrow> trace ?A\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub", "have \"(\\<lambda>n. Re (trace (f n))) \\<longlonglongrightarrow> Re (trace lowner_lub)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. Re (trace (f n)))\n    \\<longlonglongrightarrow> Re (trace lowner_lub)", "by (simp add: tendsto_Re)"], ["proof (state)\nthis:\n  (\\<lambda>n. Re (trace (f n)))\n  \\<longlonglongrightarrow> Re (trace lowner_lub)\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. Re (trace (f n)))\n  \\<longlonglongrightarrow> Re (trace lowner_lub)", "have Rell: \"Re (trace lowner_lub) \\<le> Re x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. Re (trace (f n)))\n  \\<longlonglongrightarrow> Re (trace lowner_lub)\n\ngoal (1 subgoal):\n 1. Re (trace lowner_lub) \\<le> Re x", "using lex Lim_bounded[of \"(\\<lambda>n. Re (trace (f n)))\" \"Re (trace lowner_lub)\" 0 \"Re x\"]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. Re (trace (f n)))\n  \\<longlonglongrightarrow> Re (trace lowner_lub)\n  \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0\n  \\<lbrakk>(\\<lambda>n. Re (trace (f n)))\n           \\<longlonglongrightarrow> Re (trace lowner_lub);\n   \\<forall>n\\<ge>0. Re (trace (f n)) \\<le> Re x\\<rbrakk>\n  \\<Longrightarrow> Re (trace lowner_lub) \\<le> Re x\n\ngoal (1 subgoal):\n 1. Re (trace lowner_lub) \\<le> Re x", "by simp"], ["proof (state)\nthis:\n  Re (trace lowner_lub) \\<le> Re x\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "from conv"], ["proof (chain)\npicking this:\n  (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub", "have \"(\\<lambda>n. Im (trace (f n))) \\<longlonglongrightarrow> Im (trace lowner_lub)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. trace (f n)) \\<longlonglongrightarrow> trace lowner_lub\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. Im (trace (f n)))\n    \\<longlonglongrightarrow> Im (trace lowner_lub)", "by (simp add: tendsto_Im)"], ["proof (state)\nthis:\n  (\\<lambda>n. Im (trace (f n)))\n  \\<longlonglongrightarrow> Im (trace lowner_lub)\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. Im (trace (f n)))\n  \\<longlonglongrightarrow> Im (trace lowner_lub)", "have Imll: \"Im (trace lowner_lub) = 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. Im (trace (f n)))\n  \\<longlonglongrightarrow> Im (trace lowner_lub)\n\ngoal (1 subgoal):\n 1. Im (trace lowner_lub) = 0", "using Re"], ["proof (prove)\nusing this:\n  (\\<lambda>n. Im (trace (f n)))\n  \\<longlonglongrightarrow> Im (trace lowner_lub)\n  \\<forall>n. 0 \\<le> Re (trace (f n)) \\<and> Im (trace (f n)) = 0\n\ngoal (1 subgoal):\n 1. Im (trace lowner_lub) = 0", "by (simp add: Lim_bounded Lim_bounded2 dual_order.antisym)"], ["proof (state)\nthis:\n  Im (trace lowner_lub) = 0\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "from Rell Imll lex"], ["proof (chain)\npicking this:\n  Re (trace lowner_lub) \\<le> Re x\n  Im (trace lowner_lub) = 0\n  \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  Re (trace lowner_lub) \\<le> Re x\n  Im (trace lowner_lub) = 0\n  \\<forall>n. Re (trace (f n)) \\<le> Re x \\<and> Im x = 0\n\ngoal (1 subgoal):\n 1. trace lowner_lub \\<le> x", "by simp"], ["proof (state)\nthis:\n  trace lowner_lub \\<le> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_lub_is_positive:\n  shows \"positive lowner_lub\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive lowner_lub", "using lowner_lub_is_limit pos_mat_lim_is_pos pdo"], ["proof (prove)\nusing this:\n  limit_mat f lowner_lub dim\n  \\<lbrakk>limit_mat ?X ?A ?m; \\<forall>n. positive (?X n)\\<rbrakk>\n  \\<Longrightarrow> positive ?A\n  partial_density_operator (f ?n)\n\ngoal (1 subgoal):\n 1. positive lowner_lub", "unfolding partial_density_operator_def"], ["proof (prove)\nusing this:\n  limit_mat f lowner_lub dim\n  \\<lbrakk>limit_mat ?X ?A ?m; \\<forall>n. positive (?X n)\\<rbrakk>\n  \\<Longrightarrow> positive ?A\n  positive (f ?n) \\<and> trace (f ?n) \\<le> 1\n\ngoal (1 subgoal):\n 1. positive lowner_lub", "by auto"], ["", "end"], ["", "subsection \\<open>Finite sum of matrices\\<close>"], ["", "text \\<open>Add f in the interval [0, n)\\<close>"], ["", "fun matrix_sum :: \"nat \\<Rightarrow> (nat \\<Rightarrow> 'b::semiring_1 mat) \\<Rightarrow> nat \\<Rightarrow> 'b mat\" where\n  \"matrix_sum d f 0 = 0\\<^sub>m d d\"\n| \"matrix_sum d f (Suc n) = f n + matrix_sum d f n\""], ["", "definition matrix_inf_sum :: \"nat \\<Rightarrow> (nat \\<Rightarrow> complex mat) \\<Rightarrow> complex mat\" where\n  \"matrix_inf_sum d f = matrix_seq.lowner_lub (\\<lambda>n. matrix_sum d f n)\""], ["", "lemma matrix_sum_dim:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k.\n        k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f n \\<in> carrier_mat d d", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f 0 \\<in> carrier_mat d d\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f 0 \\<in> carrier_mat d d\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f 0 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f n \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "then"], ["proof (chain)\npicking this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f n \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have \"f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f n \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f n \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<in> carrier_mat d d", "then"], ["proof (chain)\npicking this:\n  f n \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) \\<in> carrier_mat d d", "using Suc"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f n \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) \\<in> carrier_mat d d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_cong:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow> matrix_sum d f n = matrix_sum d f' n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n    matrix_sum d f n = matrix_sum d f' n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k. k < 0 \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n    matrix_sum d f 0 = matrix_sum d f' 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n                matrix_sum d f n = matrix_sum d f' n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = f' k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k = f' ?k\n\ngoal (2 subgoals):\n 1. (\\<And>k. k < 0 \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n    matrix_sum d f 0 = matrix_sum d f' 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n                matrix_sum d f n = matrix_sum d f' n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = f' k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f 0 = matrix_sum d f' 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f 0 = matrix_sum d f' 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n                matrix_sum d f n = matrix_sum d f' n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = f' k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n                matrix_sum d f n = matrix_sum d f' n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = f' k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n  matrix_sum d f n = matrix_sum d f' n\n  ?k < Suc n \\<Longrightarrow> f ?k = f' ?k\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n                matrix_sum d f n = matrix_sum d f' n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = f' k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "then"], ["proof (chain)\npicking this:\n  (\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n  matrix_sum d f n = matrix_sum d f' n\n  ?k < Suc n \\<Longrightarrow> f ?k = f' ?k", "show ?case"], ["proof (prove)\nusing this:\n  (\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n  matrix_sum d f n = matrix_sum d f' n\n  ?k < Suc n \\<Longrightarrow> f ?k = f' ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)", "unfolding matrix_sum.simps"], ["proof (prove)\nusing this:\n  (\\<And>k. k < n \\<Longrightarrow> f k = f' k) \\<Longrightarrow>\n  matrix_sum d f n = matrix_sum d f' n\n  ?k < Suc n \\<Longrightarrow> f ?k = f' ?k\n\ngoal (1 subgoal):\n 1. f n + matrix_sum d f n = f' n + matrix_sum d f' n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) = matrix_sum d f' (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_add:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\" and  g :: \"nat \\<Rightarrow> 'b::semiring_1 mat\" and  h :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d) \\<Longrightarrow>\n     (\\<And>k. k < n \\<Longrightarrow> f k = g k + h k) \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f 0 = matrix_sum d g 0 + matrix_sum d h 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n =\n                                  matrix_sum d g n + matrix_sum d h n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) =\n                         matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f 0 = matrix_sum d g 0 + matrix_sum d h 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n =\n                                  matrix_sum d g n + matrix_sum d h n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) =\n                         matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k = g ?k + h ?k", "show ?case"], ["proof (prove)\nusing this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f 0 = matrix_sum d g 0 + matrix_sum d h 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f 0 = matrix_sum d g 0 + matrix_sum d h 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n =\n                                  matrix_sum d g n + matrix_sum d h n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) =\n                         matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n =\n                                  matrix_sum d g n + matrix_sum d h n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) =\n                         matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n =\n                                  matrix_sum d g n + matrix_sum d h n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) =\n                         matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k = g ?k + h ?k", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>\\<And>k.\n                         k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n             \\<Longrightarrow> matrix_sum d f n =\n                               matrix_sum d g n + matrix_sum d h n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f (Suc n) =\n                      matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "have gh: \"matrix_sum d g n \\<in> carrier_mat d d \\<and> matrix_sum d h n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d \\<and>\n    matrix_sum d h n \\<in> carrier_mat d d", "using matrix_sum_dim Suc(3, 4)"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d \\<and>\n    matrix_sum d h n \\<in> carrier_mat d d", "by (simp add: matrix_sum_dim)"], ["proof (state)\nthis:\n  matrix_sum d g n \\<in> carrier_mat d d \\<and>\n  matrix_sum d h n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>\\<And>k.\n                         k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n             \\<Longrightarrow> matrix_sum d f n =\n                               matrix_sum d g n + matrix_sum d h n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f (Suc n) =\n                      matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "have nSuc: \"n < Suc n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n < Suc n", "by auto"], ["proof (state)\nthis:\n  n < Suc n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>\\<And>k.\n                         k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n             \\<Longrightarrow> matrix_sum d f n =\n                               matrix_sum d g n + matrix_sum d h n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f (Suc n) =\n                      matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "have sumf: \"matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f n = matrix_sum d g n + matrix_sum d h n", "using Suc"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = matrix_sum d g n + matrix_sum d h n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>\\<And>k.\n                         k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n             \\<Longrightarrow> matrix_sum d f n =\n                               matrix_sum d g n + matrix_sum d h n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f (Suc n) =\n                      matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "have \"matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "unfolding matrix_sum.simps Suc(5)[OF nSuc] sumf"], ["proof (prove)\ngoal (1 subgoal):\n 1. g n + h n + (matrix_sum d g n + matrix_sum d h n) =\n    g n + matrix_sum d g n + (h n + matrix_sum d h n)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (4 subgoals):\n 1. matrix_sum d h n \\<in> carrier_mat d d\n 2. matrix_sum d g n \\<in> carrier_mat d d\n 3. h n \\<in> carrier_mat d d\n 4. g n \\<in> carrier_mat d d", "using gh Suc"], ["proof (prove)\nusing this:\n  matrix_sum d g n \\<in> carrier_mat d d \\<and>\n  matrix_sum d h n \\<in> carrier_mat d d\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n = matrix_sum d g n + matrix_sum d h n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> h ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k = g ?k + h ?k\n\ngoal (4 subgoals):\n 1. matrix_sum d h n \\<in> carrier_mat d d\n 2. matrix_sum d g n \\<in> carrier_mat d d\n 3. h n \\<in> carrier_mat d d\n 4. g n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>\\<And>k.\n                         k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n              \\<And>k. k < n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n             \\<Longrightarrow> matrix_sum d f n =\n                               matrix_sum d g n + matrix_sum d h n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> h k \\<in> carrier_mat d d;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k = g k + h k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f (Suc n) =\n                      matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "then"], ["proof (chain)\npicking this:\n  matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "show ?thesis"], ["proof (prove)\nusing this:\n  matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) = matrix_sum d g (Suc n) + matrix_sum d h (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_smult:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n        matrix_sum d (\\<lambda> k. c \\<cdot>\\<^sub>m f k) n = c \\<cdot>\\<^sub>m matrix_sum d f n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k.\n        k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n    c \\<cdot>\\<^sub>m matrix_sum d f n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) 0 =\n    c \\<cdot>\\<^sub>m matrix_sum d f 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n                c \\<cdot>\\<^sub>m matrix_sum d f n;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k)\n                          (Suc n) =\n                         c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) 0 =\n    c \\<cdot>\\<^sub>m matrix_sum d f 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n                c \\<cdot>\\<^sub>m matrix_sum d f n;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k)\n                          (Suc n) =\n                         c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) 0 =\n    c \\<cdot>\\<^sub>m matrix_sum d f 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) 0 =\n  c \\<cdot>\\<^sub>m matrix_sum d f 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n                c \\<cdot>\\<^sub>m matrix_sum d f n;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k)\n                          (Suc n) =\n                         c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n                c \\<cdot>\\<^sub>m matrix_sum d f n;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k)\n                          (Suc n) =\n                         c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n  c \\<cdot>\\<^sub>m matrix_sum d f n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n                c \\<cdot>\\<^sub>m matrix_sum d f n;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k)\n                          (Suc n) =\n                         c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n  c \\<cdot>\\<^sub>m matrix_sum d f n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n  c \\<cdot>\\<^sub>m matrix_sum d f n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) (Suc n) =\n    c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n             c \\<cdot>\\<^sub>m matrix_sum d f n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> c \\<cdot>\\<^sub>m f n +\n                      c \\<cdot>\\<^sub>m matrix_sum d f n =\n                      c \\<cdot>\\<^sub>m (f n + matrix_sum d f n)", "using add_smult_distrib_left_mat Suc matrix_sum_dim"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?nr ?nc;\n   ?B \\<in> carrier_mat ?nr ?nc\\<rbrakk>\n  \\<Longrightarrow> ?k \\<cdot>\\<^sub>m (?A + ?B) =\n                    ?k \\<cdot>\\<^sub>m ?A + ?k \\<cdot>\\<^sub>m ?B\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n  c \\<cdot>\\<^sub>m matrix_sum d f n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) n =\n             c \\<cdot>\\<^sub>m matrix_sum d f n;\n     \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> c \\<cdot>\\<^sub>m f n +\n                      c \\<cdot>\\<^sub>m matrix_sum d f n =\n                      c \\<cdot>\\<^sub>m (f n + matrix_sum d f n)", "by (metis lessI less_SucI)"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. c \\<cdot>\\<^sub>m f k) (Suc n) =\n  c \\<cdot>\\<^sub>m matrix_sum d f (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_remove:\n  fixes f :: \"nat \\<Rightarrow> 'b::semiring_1 mat\"\n  assumes j: \"j < n\"\n    and df: \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d)\"\n    and f': \"(\\<And>k. f' k = (if k = j then 0\\<^sub>m d d else f k))\"\n  shows \"matrix_sum d f n = f j + matrix_sum d f' n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have df': \"\\<And>k. k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d", "using f' df"], ["proof (prove)\nusing this:\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else f ?k)\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have dsf: \"k < n \\<Longrightarrow> matrix_sum d f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> matrix_sum d f k \\<in> carrier_mat d d", "using matrix_sum_dim[OF df]"], ["proof (prove)\nusing this:\n  (\\<And>k. k < ?n \\<Longrightarrow> ?k1 k < n) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f (?k1 k)) ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> matrix_sum d f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> matrix_sum d f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have dsf': \"k < n \\<Longrightarrow> matrix_sum d f' k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> matrix_sum d f' k \\<in> carrier_mat d d", "using matrix_sum_dim[OF df']"], ["proof (prove)\nusing this:\n  (\\<And>k. k < ?n \\<Longrightarrow> ?k1 k < n) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f' (?k1 k)) ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> matrix_sum d f' k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> matrix_sum d f' ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have flj: \"\\<And>k. k < j \\<Longrightarrow> f' k = f k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. k < j \\<Longrightarrow> f' k = f k", "using j f'"], ["proof (prove)\nusing this:\n  j < n\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else f ?k)\n\ngoal (1 subgoal):\n 1. \\<And>k. k < j \\<Longrightarrow> f' k = f k", "by auto"], ["proof (state)\nthis:\n  ?k < j \\<Longrightarrow> f' ?k = f ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "then"], ["proof (chain)\npicking this:\n  ?k < j \\<Longrightarrow> f' ?k = f ?k", "have \"matrix_sum d f j = matrix_sum d f' j\""], ["proof (prove)\nusing this:\n  ?k < j \\<Longrightarrow> f' ?k = f ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f j = matrix_sum d f' j", "using matrix_sum_cong[of j f' f, OF flj] df df' j"], ["proof (prove)\nusing this:\n  ?k < j \\<Longrightarrow> f' ?k = f ?k\n  (\\<And>k. k < j \\<Longrightarrow> k < j) \\<Longrightarrow>\n  matrix_sum ?d f' j = matrix_sum ?d f j\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n  j < n\n\ngoal (1 subgoal):\n 1. matrix_sum d f j = matrix_sum d f' j", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f j = matrix_sum d f' j\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "then"], ["proof (chain)\npicking this:\n  matrix_sum d f j = matrix_sum d f' j", "have eqj: \"matrix_sum d f (Suc j) = f j + matrix_sum d f' (Suc j)\""], ["proof (prove)\nusing this:\n  matrix_sum d f j = matrix_sum d f' j\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc j) = f j + matrix_sum d f' (Suc j)", "unfolding matrix_sum.simps"], ["proof (prove)\nusing this:\n  matrix_sum d f j = matrix_sum d f' j\n\ngoal (1 subgoal):\n 1. f j + matrix_sum d f j = f j + (f' j + matrix_sum d f' j)", "by (subst (1) f', simp add: df dsf' j)"], ["proof (state)\nthis:\n  matrix_sum d f (Suc j) = f j + matrix_sum d f' (Suc j)\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have lm: \"(j + 1) + l \\<le> n \\<Longrightarrow> matrix_sum d f ((j + 1) + l) = f j + matrix_sum d f' ((j + 1) + l)\" for l"], ["proof (prove)\ngoal (1 subgoal):\n 1. j + 1 + l \\<le> n \\<Longrightarrow>\n    matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)", "proof (induct l)"], ["proof (state)\ngoal (2 subgoals):\n 1. j + 1 + 0 \\<le> n \\<Longrightarrow>\n    matrix_sum d f (j + 1 + 0) = f j + matrix_sum d f' (j + 1 + 0)\n 2. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "case 0"], ["proof (state)\nthis:\n  j + 1 + 0 \\<le> n\n\ngoal (2 subgoals):\n 1. j + 1 + 0 \\<le> n \\<Longrightarrow>\n    matrix_sum d f (j + 1 + 0) = f j + matrix_sum d f' (j + 1 + 0)\n 2. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (j + 1 + 0) = f j + matrix_sum d f' (j + 1 + 0)", "using j eqj"], ["proof (prove)\nusing this:\n  j < n\n  matrix_sum d f (Suc j) = f j + matrix_sum d f' (Suc j)\n\ngoal (1 subgoal):\n 1. matrix_sum d f (j + 1 + 0) = f j + matrix_sum d f' (j + 1 + 0)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (j + 1 + 0) = f j + matrix_sum d f' (j + 1 + 0)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "case (Suc l)"], ["proof (state)\nthis:\n  j + 1 + l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n  j + 1 + Suc l \\<le> n\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "then"], ["proof (chain)\npicking this:\n  j + 1 + l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n  j + 1 + Suc l \\<le> n", "have eq: \"matrix_sum d f ((j + 1) + l) = f j + matrix_sum d f' ((j + 1) + l)\""], ["proof (prove)\nusing this:\n  j + 1 + l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n  j + 1 + Suc l \\<le> n\n\ngoal (1 subgoal):\n 1. matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "have s: \"((j + 1) + Suc l) = Suc ((j + 1) + l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j + 1 + Suc l = Suc (j + 1 + l)", "by simp"], ["proof (state)\nthis:\n  j + 1 + Suc l = Suc (j + 1 + l)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "have eqf': \"f' (j + 1 + l) = f (j + 1 + l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f' (j + 1 + l) = f (j + 1 + l)", "using f' Suc"], ["proof (prove)\nusing this:\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else f ?k)\n  j + 1 + l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n  j + 1 + Suc l \\<le> n\n\ngoal (1 subgoal):\n 1. f' (j + 1 + l) = f (j + 1 + l)", "by auto"], ["proof (state)\nthis:\n  f' (j + 1 + l) = f (j + 1 + l)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "have dims: \"f (j + 1 + l) \\<in> carrier_mat d d\" \"f j \\<in> carrier_mat d d\" \"matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (j + 1 + l) \\<in> carrier_mat d d &&&\n    f j \\<in> carrier_mat d d &&&\n    matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d", "using df df' dsf' Suc"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> matrix_sum d f' ?k \\<in> carrier_mat d d\n  j + 1 + l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + l) = f j + matrix_sum d f' (j + 1 + l)\n  j + 1 + Suc l \\<le> n\n\ngoal (1 subgoal):\n 1. f (j + 1 + l) \\<in> carrier_mat d d &&&\n    f j \\<in> carrier_mat d d &&&\n    matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f (j + 1 + l) \\<in> carrier_mat d d\n  f j \\<in> carrier_mat d d\n  matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>j + 1 + l \\<le> n \\<Longrightarrow>\n                matrix_sum d f (j + 1 + l) =\n                f j + matrix_sum d f' (j + 1 + l);\n        j + 1 + Suc l \\<le> n\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (j + 1 + Suc l) =\n                         f j + matrix_sum d f' (j + 1 + Suc l)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (j + 1 + Suc l) = f j + matrix_sum d f' (j + 1 + Suc l)", "apply (subst (1 2) s)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc (j + 1 + l)) =\n    f j + matrix_sum d f' (Suc (j + 1 + l))", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (j + 1 + l) + matrix_sum d f (j + 1 + l) =\n    f j + (f' (j + 1 + l) + matrix_sum d f' (j + 1 + l))", "apply (subst eq, subst eqf')"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (j + 1 + l) + (f j + matrix_sum d f' (j + 1 + l)) =\n    f j + (f (j + 1 + l) + matrix_sum d f' (j + 1 + l))", "apply (mat_assoc d)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d\n 2. f (j + 1 + l) \\<in> carrier_mat d d\n 3. f j \\<in> carrier_mat d d", "using dims"], ["proof (prove)\nusing this:\n  f (j + 1 + l) \\<in> carrier_mat d d\n  f j \\<in> carrier_mat d d\n  matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d\n\ngoal (3 subgoals):\n 1. matrix_sum d f' (j + 1 + l) \\<in> carrier_mat d d\n 2. f (j + 1 + l) \\<in> carrier_mat d d\n 3. f j \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (j + 1 + Suc l) = f j + matrix_sum d f' (j + 1 + Suc l)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j + 1 + ?l \\<le> n \\<Longrightarrow>\n  matrix_sum d f (j + 1 + ?l) = f j + matrix_sum d f' (j + 1 + ?l)\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "have p: \"(j + 1) + (n - j - 1) \\<le> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j + 1 + (n - j - 1) \\<le> n", "using j"], ["proof (prove)\nusing this:\n  j < n\n\ngoal (1 subgoal):\n 1. j + 1 + (n - j - 1) \\<le> n", "by auto"], ["proof (state)\nthis:\n  j + 1 + (n - j - 1) \\<le> n\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "using lm[OF p] j"], ["proof (prove)\nusing this:\n  matrix_sum d f (j + 1 + (n - j - 1)) =\n  f j + matrix_sum d f' (j + 1 + (n - j - 1))\n  j < n\n\ngoal (1 subgoal):\n 1. matrix_sum d f n = f j + matrix_sum d f' n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n = f j + matrix_sum d f' n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_Suc_remove_head:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n + 1 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k.\n        k < n + 1 \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 + 1 \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (0 + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 + 1 \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (0 + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < 0 + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  ?k < 0 + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f (0 + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (0 + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k.\n      k < n + 1 \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\n  ?k < Suc n + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "then"], ["proof (chain)\npicking this:\n  (\\<And>k.\n      k < n + 1 \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\n  ?k < Suc n + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have dSS: \"\\<And>k. k < Suc (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n + 1 \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\n  ?k < Suc n + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < Suc (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "have ds: \"matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d", "using matrix_sum_dim[OF dSS, of \"n\" \"\\<lambda>k. k + 1\"]"], ["proof (prove)\nusing this:\n  (\\<And>k. k < n \\<Longrightarrow> k + 1 < Suc (Suc n)) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "have \"matrix_sum d f (Suc n + 1) = f (n + 1) + matrix_sum d f (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n + 1) = f (n + 1) + matrix_sum d f (n + 1)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n + 1) = f (n + 1) + matrix_sum d f (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "also"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n + 1) = f (n + 1) + matrix_sum d f (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "have \"\\<dots> = f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (n + 1) + matrix_sum d f (n + 1) =\n    f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n)", "using Suc"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n + 1 \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (n + 1) = f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n\n  ?k < Suc n + 1 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f (n + 1) + matrix_sum d f (n + 1) =\n    f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n)", "by auto"], ["proof (state)\nthis:\n  f (n + 1) + matrix_sum d f (n + 1) =\n  f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "also"], ["proof (state)\nthis:\n  f (n + 1) + matrix_sum d f (n + 1) =\n  f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "have \"\\<dots> = f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n) =\n    f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)", "using ds"], ["proof (prove)\nusing this:\n  matrix_sum d (\\<lambda>k. f (k + 1)) n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n) =\n    f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (2 subgoals):\n 1. f (n + 1) \\<in> carrier_mat d d\n 2. f 0 \\<in> carrier_mat d d", "using dSS"], ["proof (prove)\nusing this:\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. f (n + 1) \\<in> carrier_mat d d\n 2. f 0 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f (n + 1) + (f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n) =\n  f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n + 1 \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (n + 1) =\n                f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) n;\n        \\<And>k.\n           k < Suc n + 1 \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n + 1) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "finally"], ["proof (chain)\npicking this:\n  matrix_sum d f (Suc n + 1) =\n  f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)", "show ?case"], ["proof (prove)\nusing this:\n  matrix_sum d f (Suc n + 1) =\n  f 0 + (f (n + 1) + matrix_sum d (\\<lambda>k. f (k + 1)) n)\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n + 1) =\n    f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n + 1) =\n  f 0 + matrix_sum d (\\<lambda>k. f (k + 1)) (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_positive:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> positive (f k))\n    \\<Longrightarrow> positive (matrix_sum d f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n    \\<Longrightarrow> positive (matrix_sum d f n)", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> positive (f k)\\<rbrakk>\n    \\<Longrightarrow> positive (matrix_sum d f 0)\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> positive (f ?k)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> positive (f k)\\<rbrakk>\n    \\<Longrightarrow> positive (matrix_sum d f 0)\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (matrix_sum d f 0)", "using positive_zero"], ["proof (prove)\nusing this:\n  positive (0\\<^sub>m ?n ?n)\n\ngoal (1 subgoal):\n 1. positive (matrix_sum d f 0)", "by auto"], ["proof (state)\nthis:\n  positive (matrix_sum d f 0)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n  \\<Longrightarrow> positive (matrix_sum d f n)\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> positive (f ?k)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n  \\<Longrightarrow> positive (matrix_sum d f n)\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> positive (f ?k)", "have dfn: \"f n \\<in> carrier_mat d d\" and psn: \"positive (matrix_sum d f n)\" and pn: \"positive (f n)\" and d: \"k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n  \\<Longrightarrow> positive (matrix_sum d f n)\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> positive (f ?k)\n\ngoal (1 subgoal):\n 1. (f n \\<in> carrier_mat d d &&& positive (matrix_sum d f n)) &&&\n    positive (f n) &&& (k < n \\<Longrightarrow> f k \\<in> carrier_mat d d)", "by auto"], ["proof (state)\nthis:\n  f n \\<in> carrier_mat d d\n  positive (matrix_sum d f n)\n  positive (f n)\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "then"], ["proof (chain)\npicking this:\n  f n \\<in> carrier_mat d d\n  positive (matrix_sum d f n)\n  positive (f n)\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have dsn: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  positive (matrix_sum d f n)\n  positive (f n)\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  positive (matrix_sum d f n)\n  positive (f n)\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> positive (f k)\\<rbrakk>\n                \\<Longrightarrow> positive (matrix_sum d f n);\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> positive (f k)\\<rbrakk>\n       \\<Longrightarrow> positive (matrix_sum d f (Suc n))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (matrix_sum d f (Suc n))", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (f n + matrix_sum d f n)", "using positive_add[OF pn psn dfn dsn]"], ["proof (prove)\nusing this:\n  positive (f n + matrix_sum d f n)\n\ngoal (1 subgoal):\n 1. positive (f n + matrix_sum d f n)", "by auto"], ["proof (state)\nthis:\n  positive (matrix_sum d f (Suc n))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_mult_right:\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> A \\<in> carrier_mat d d\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) * A) n = matrix_sum d (\\<lambda>k. f k) n * A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     A \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                      matrix_sum d f n * A", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     A \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) 0 =\n                      matrix_sum d f 0 * A\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     A \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) 0 =\n                      matrix_sum d f 0 * A\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "then"], ["proof (chain)\npicking this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k * A) 0 = matrix_sum d f 0 * A", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k * A) 0 = matrix_sum d f 0 * A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                    matrix_sum d f n * A\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                    matrix_sum d f n * A\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d", "have \"k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" and dfn: \"f n \\<in> carrier_mat d d\" for k"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                    matrix_sum d f n * A\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. (k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) &&&\n    f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  f n \\<in> carrier_mat d d", "have dsfn: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  f n \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "have \"(f n + matrix_sum d f n) * A = f n * A + matrix_sum d f n * A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f n + matrix_sum d f n) * A = f n * A + matrix_sum d f n * A", "apply (mat_assoc d)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d\n 3. A \\<in> carrier_mat d d", "using Suc dsfn"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                    matrix_sum d f n * A\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (3 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d\n 3. A \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  (f n + matrix_sum d f n) * A = f n * A + matrix_sum d f n * A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "also"], ["proof (state)\nthis:\n  (f n + matrix_sum d f n) * A = f n * A + matrix_sum d f n * A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "have \"\\<dots> = f n * A + matrix_sum d (\\<lambda>k. f k * A) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f n * A + matrix_sum d f n * A =\n    f n * A + matrix_sum d (\\<lambda>k. f k * A) n", "using Suc"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                    matrix_sum d f n * A\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f n * A + matrix_sum d f n * A =\n    f n * A + matrix_sum d (\\<lambda>k. f k * A) n", "by auto"], ["proof (state)\nthis:\n  f n * A + matrix_sum d f n * A =\n  f n * A + matrix_sum d (\\<lambda>k. f k * A) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 A \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) n =\n                                  matrix_sum d f n * A;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        A \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k * A) (Suc n) =\n                         matrix_sum d f (Suc n) * A", "finally"], ["proof (chain)\npicking this:\n  (f n + matrix_sum d f n) * A =\n  f n * A + matrix_sum d (\\<lambda>k. f k * A) n", "show ?case"], ["proof (prove)\nusing this:\n  (f n + matrix_sum d f n) * A =\n  f n * A + matrix_sum d (\\<lambda>k. f k * A) n\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k * A) (Suc n) = matrix_sum d f (Suc n) * A", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k * A) (Suc n) = matrix_sum d f (Suc n) * A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_add_distrib:\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) + (g k)) n = matrix_sum d f n + matrix_sum d g n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                      matrix_sum d f n + matrix_sum d g n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) 0 =\n                      matrix_sum d f 0 + matrix_sum d g 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) 0 =\n                      matrix_sum d f 0 + matrix_sum d g 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k + g k) 0 =\n    matrix_sum d f 0 + matrix_sum d g 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k + g k) 0 =\n  matrix_sum d f 0 + matrix_sum d g 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                    matrix_sum d f n + matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                    matrix_sum d f n + matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d", "have dfn: \"f n \\<in> carrier_mat d d\" and dgn: \"g n \\<in> carrier_mat d d\"\n    and dfk: \"k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" and dgk: \"k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\"\n    and eq: \"matrix_sum d (\\<lambda>k. f k + g k) n = matrix_sum d f n + matrix_sum d g n\" for k"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                    matrix_sum d f n + matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. (f n \\<in> carrier_mat d d &&& g n \\<in> carrier_mat d d) &&&\n    (k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) &&&\n    (k < n \\<Longrightarrow> g k \\<in> carrier_mat d d) &&&\n    matrix_sum d (\\<lambda>k. f k + g k) n =\n    matrix_sum d f n + matrix_sum d g n", "by auto"], ["proof (state)\nthis:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  matrix_sum d (\\<lambda>k. f k + g k) n =\n  matrix_sum d f n + matrix_sum d g n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "have dsf: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim dfk"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "have dsg: \"matrix_sum d g n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d", "using matrix_sum_dim dgk"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    g k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) n =\n                                  matrix_sum d f n + matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n                         matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n    matrix_sum d f (Suc n) + matrix_sum d g (Suc n)", "unfolding matrix_sum.simps eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. f n + g n + (matrix_sum d f n + matrix_sum d g n) =\n    f n + matrix_sum d f n + (g n + matrix_sum d g n)", "using dfn dgn dsf dsg"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  matrix_sum d f n \\<in> carrier_mat d d\n  matrix_sum d g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f n + g n + (matrix_sum d f n + matrix_sum d g n) =\n    f n + matrix_sum d f n + (g n + matrix_sum d g n)", "by (mat_assoc d)"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k + g k) (Suc n) =\n  matrix_sum d f (Suc n) + matrix_sum d g (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_minus_distrib:\n  fixes f g :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. (f k) - (g k)) n = matrix_sum d f n - matrix_sum d g n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "have eq: \"-1 \\<cdot>\\<^sub>m g k = - g k\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 \\<cdot>\\<^sub>m g k = - g k", "by auto"], ["proof (state)\nthis:\n  - 1 \\<cdot>\\<^sub>m g ?k = - g ?k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "assume dfk: \"\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" and dgk: \"\\<And>k. k < n \\<Longrightarrow> (g k) \\<in> carrier_mat d d\""], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d", "have \"k < n \\<Longrightarrow> (f k) - (g k) = (f k) + (- (g k))\" for k"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f k - g k = f k + - g k", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k - g ?k = f ?k + - g ?k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k - g ?k = f ?k + - g ?k", "have \"matrix_sum d (\\<lambda>k. (f k) - (g k)) n = matrix_sum d (\\<lambda>k. (f k) + (- (g k))) n\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k - g ?k = f ?k + - g ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k - g k) n =\n    matrix_sum d (\\<lambda>k. f k + - g k) n", "using matrix_sum_cong[of n \"\\<lambda>k. (f k) - (g k)\"] dfk dgk"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k - g ?k = f ?k + - g ?k\n  (\\<And>k. k < n \\<Longrightarrow> f k - g k = ?f' k) \\<Longrightarrow>\n  matrix_sum ?d (\\<lambda>k. f k - g k) n = matrix_sum ?d ?f' n\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k - g k) n =\n    matrix_sum d (\\<lambda>k. f k + - g k) n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k - g k) n =\n  matrix_sum d (\\<lambda>k. f k + - g k) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "also"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k - g k) n =\n  matrix_sum d (\\<lambda>k. f k + - g k) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "have \"\\<dots> = matrix_sum d f n + matrix_sum d (\\<lambda>k. - (g k)) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k + - g k) n =\n    matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n", "using matrix_sum_add_distrib[of n \"f\"] dfk dgk"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat ?d ?d;\n   \\<And>k. k < n \\<Longrightarrow> ?g k \\<in> carrier_mat ?d ?d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum ?d (\\<lambda>k. f k + ?g k) n =\n                    matrix_sum ?d f n + matrix_sum ?d ?g n\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k + - g k) n =\n    matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k + - g k) n =\n  matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "also"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k + - g k) n =\n  matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "have \"\\<dots> = matrix_sum d f n - matrix_sum d g n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n =\n    matrix_sum d f n - matrix_sum d g n", "apply (subgoal_tac \"matrix_sum d (\\<lambda>k. - (g k)) n = - matrix_sum d g n\", auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. - g k) n = - matrix_sum d g n", "apply (subgoal_tac \"- 1 \\<cdot>\\<^sub>m matrix_sum d g n = - matrix_sum d g n\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. - 1 \\<cdot>\\<^sub>m matrix_sum d g n =\n    - matrix_sum d g n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. - g k) n = - matrix_sum d g n\n 2. - 1 \\<cdot>\\<^sub>m matrix_sum d g n = - matrix_sum d g n", "by (simp add: matrix_sum_smult[of n g d \"-1\", OF dgk, simplified eq, simplified], auto)"], ["proof (state)\nthis:\n  matrix_sum d f n + matrix_sum d (\\<lambda>k. - g k) n =\n  matrix_sum d f n - matrix_sum d g n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. f k - g k) n =\n                      matrix_sum d f n - matrix_sum d g n", "finally"], ["proof (chain)\npicking this:\n  matrix_sum d (\\<lambda>k. f k - g k) n =\n  matrix_sum d f n - matrix_sum d g n", "show ?thesis"], ["proof (prove)\nusing this:\n  matrix_sum d (\\<lambda>k. f k - g k) n =\n  matrix_sum d f n - matrix_sum d g n\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. f k - g k) n =\n    matrix_sum d f n - matrix_sum d g n", "."], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. f k - g k) n =\n  matrix_sum d f n - matrix_sum d g n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_shift_Suc:\n  shows \"(\\<And>k. k < (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d)\n    \\<Longrightarrow> matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k.\n        k < Suc n \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < Suc 0 \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (Suc 0) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < Suc 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < Suc 0 \\<Longrightarrow>\n        f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    matrix_sum d f (Suc 0) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) 0\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < Suc 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "show ?case"], ["proof (prove)\nusing this:\n  ?k < Suc 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc 0) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) 0", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc 0) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k.\n      k < Suc n \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have dfk: \"k < Suc (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < Suc (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d", "using Suc"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < Suc n \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < Suc (Suc n) \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have dsSk: \"k < Suc n \\<Longrightarrow> matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < Suc n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d", "using matrix_sum_dim[of _ \"\\<lambda>k. f (Suc k)\"] dfk"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      f (Suc k) \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d (\\<lambda>k. f (Suc k)) ?n \\<in> carrier_mat ?d ?d\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < Suc n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  ?k < Suc n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have \"matrix_sum d f (Suc (Suc n)) = f (Suc n) + matrix_sum d f (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc (Suc n)) = f (Suc n) + matrix_sum d f (Suc n)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc (Suc n)) = f (Suc n) + matrix_sum d f (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "also"], ["proof (state)\nthis:\n  matrix_sum d f (Suc (Suc n)) = f (Suc n) + matrix_sum d f (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have \"\\<dots> = f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (Suc n) + matrix_sum d f (Suc n) =\n    f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n", "using Suc dsSk assoc_add_mat[of \"f (Suc n)\" d d \"f 0\"]"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < Suc n \\<Longrightarrow>\n      f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f (Suc n) = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\n  \\<lbrakk>f (Suc n) \\<in> carrier_mat d d; f 0 \\<in> carrier_mat d d;\n   ?C \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> f (Suc n) + f 0 + ?C = f (Suc n) + (f 0 + ?C)\n\ngoal (1 subgoal):\n 1. f (Suc n) + matrix_sum d f (Suc n) =\n    f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n", "by fastforce"], ["proof (state)\nthis:\n  f (Suc n) + matrix_sum d f (Suc n) =\n  f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "also"], ["proof (state)\nthis:\n  f (Suc n) + matrix_sum d f (Suc n) =\n  f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have \"\\<dots> = f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n =\n    f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\n 2. f (Suc n) \\<in> carrier_mat d d\n 3. f 0 \\<in> carrier_mat d d", "using dsSk dfk"], ["proof (prove)\nusing this:\n  ?k < Suc n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\n  ?k < Suc (Suc n) \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (3 subgoals):\n 1. matrix_sum d (\\<lambda>k. f (Suc k)) n \\<in> carrier_mat d d\n 2. f (Suc n) \\<in> carrier_mat d d\n 3. f 0 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n =\n  f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "also"], ["proof (state)\nthis:\n  f (Suc n) + f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n =\n  f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "have \"\\<dots> = f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n) =\n    f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "by auto"], ["proof (state)\nthis:\n  f 0 + (f (Suc n) + matrix_sum d (\\<lambda>k. f (Suc k)) n) =\n  f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < Suc n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                matrix_sum d f (Suc n) =\n                f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) n;\n        \\<And>k.\n           k < Suc (Suc n) \\<Longrightarrow>\n           f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc (Suc n)) =\n                         f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "finally"], ["proof (chain)\npicking this:\n  matrix_sum d f (Suc (Suc n)) =\n  f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "show ?case"], ["proof (prove)\nusing this:\n  matrix_sum d f (Suc (Suc n)) =\n  f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)\n\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc (Suc n)) =\n    f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)", "."], ["proof (state)\nthis:\n  matrix_sum d f (Suc (Suc n)) =\n  f 0 + matrix_sum d (\\<lambda>k. f (Suc k)) (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_le_matrix_sum:\n  fixes f g :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d)\n    \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k)\n    \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f 0 \\<le>\\<^sub>L matrix_sum d g 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> g k \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d f 0 \\<le>\\<^sub>L matrix_sum d g 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f 0 \\<le>\\<^sub>L matrix_sum d g 0", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d \\<le>\\<^sub>L 0\\<^sub>m d d", "using lowner_le_refl[of \"0\\<^sub>m d d\" d]"], ["proof (prove)\nusing this:\n  0\\<^sub>m d d \\<in> carrier_mat d d \\<Longrightarrow>\n  0\\<^sub>m d d \\<le>\\<^sub>L 0\\<^sub>m d d\n\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d \\<le>\\<^sub>L 0\\<^sub>m d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f 0 \\<le>\\<^sub>L matrix_sum d g 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k", "have dfn: \"f n \\<in> carrier_mat d d\" and dgn: \"g n \\<in> carrier_mat d d\" and le1: \"f n \\<le>\\<^sub>L g n\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (1 subgoal):\n 1. f n \\<in> carrier_mat d d &&&\n    g n \\<in> carrier_mat d d &&& f n \\<le>\\<^sub>L g n", "by auto"], ["proof (state)\nthis:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  f n \\<le>\\<^sub>L g n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  f n \\<le>\\<^sub>L g n", "have le2: \"matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\""], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  f n \\<le>\\<^sub>L g n\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n", "using Suc"], ["proof (prove)\nusing this:\n  f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  f n \\<le>\\<^sub>L g n\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "have \"k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "using Suc"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have dsf: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "have \"k < n \\<Longrightarrow> g k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d", "using Suc"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<le>\\<^sub>L g ?k\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d", "have dsg: \"matrix_sum d g n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> g ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d g n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>\\<And>k.\n                            k < n \\<Longrightarrow>\n                            f k \\<in> carrier_mat d d;\n                 \\<And>k. k < n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d f n \\<le>\\<^sub>L\n                                  matrix_sum d g n;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> g k \\<in> carrier_mat d d;\n        \\<And>k. k < Suc n \\<Longrightarrow> f k \\<le>\\<^sub>L g k\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d f (Suc n) \\<le>\\<^sub>L\n                         matrix_sum d g (Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d f (Suc n) \\<le>\\<^sub>L matrix_sum d g (Suc n)", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. f n + matrix_sum d f n \\<le>\\<^sub>L g n + matrix_sum d g n", "using lowner_le_add dfn dsf dgn dsg le1 le2"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; ?B \\<in> carrier_mat ?n ?n;\n   ?C \\<in> carrier_mat ?n ?n; ?D \\<in> carrier_mat ?n ?n;\n   ?A \\<le>\\<^sub>L ?B; ?C \\<le>\\<^sub>L ?D\\<rbrakk>\n  \\<Longrightarrow> ?A + ?C \\<le>\\<^sub>L ?B + ?D\n  f n \\<in> carrier_mat d d\n  matrix_sum d f n \\<in> carrier_mat d d\n  g n \\<in> carrier_mat d d\n  matrix_sum d g n \\<in> carrier_mat d d\n  f n \\<le>\\<^sub>L g n\n  matrix_sum d f n \\<le>\\<^sub>L matrix_sum d g n\n\ngoal (1 subgoal):\n 1. f n + matrix_sum d f n \\<le>\\<^sub>L g n + matrix_sum d g n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f (Suc n) \\<le>\\<^sub>L matrix_sum d g (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_lub_add:\n  assumes \"matrix_seq d f\" \"matrix_seq d g\" \"\\<forall> n. trace (f n + g n) \\<le> 1\"\n  shows \"matrix_seq.lowner_lub (\\<lambda>n. f n + g n) = matrix_seq.lowner_lub f + matrix_seq.lowner_lub g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have msf: \"matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "using assms(1) matrix_seq.lowner_lub_prop"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  matrix_seq.lowner_is_lub ?f (matrix_seq.lowner_lub ?f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "have \"limit_mat f (matrix_seq.lowner_lub f) d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. limit_mat f (matrix_seq.lowner_lub f) d", "using matrix_seq.lowner_lub_is_limit assms"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  limit_mat ?f (matrix_seq.lowner_lub ?f) ?dim\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. limit_mat f (matrix_seq.lowner_lub f) d", "by auto"], ["proof (state)\nthis:\n  limit_mat f (matrix_seq.lowner_lub f) d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  limit_mat f (matrix_seq.lowner_lub f) d", "have lim1: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub f) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat f (matrix_seq.lowner_lub f) d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "using limit_mat_def assms"], ["proof (prove)\nusing this:\n  limit_mat f (matrix_seq.lowner_lub f) d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have msg: \"matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)", "using assms(2) matrix_seq.lowner_lub_prop"], ["proof (prove)\nusing this:\n  matrix_seq d g\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  matrix_seq.lowner_is_lub ?f (matrix_seq.lowner_lub ?f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)", "have \"limit_mat g (matrix_seq.lowner_lub g) d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\n\ngoal (1 subgoal):\n 1. limit_mat g (matrix_seq.lowner_lub g) d", "using matrix_seq.lowner_lub_is_limit assms"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  limit_mat ?f (matrix_seq.lowner_lub ?f) ?dim\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. limit_mat g (matrix_seq.lowner_lub g) d", "by auto"], ["proof (state)\nthis:\n  limit_mat g (matrix_seq.lowner_lub g) d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  limit_mat g (matrix_seq.lowner_lub g) d", "have lim2: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub g) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat g (matrix_seq.lowner_lub g) d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)", "using limit_mat_def assms"], ["proof (prove)\nusing this:\n  limit_mat g (matrix_seq.lowner_lub g) d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. g n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"\\<forall>n. f n + g n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. f n + g n \\<in> carrier_mat d d", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>n. f n + g n \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>n. f n + g n \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"\\<forall>n. partial_density_operator (f n + g n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. partial_density_operator (f n + g n)", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>n. partial_density_operator (f n + g n)", "unfolding matrix_seq_def partial_density_operator_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (f n) \\<and> trace (f n) \\<le> 1) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (g n) \\<and> trace (g n) \\<le> 1) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>n. positive (f n + g n) \\<and> trace (f n + g n) \\<le> 1", "using positive_add"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (f n) \\<and> trace (f n) \\<le> 1) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (g n) \\<and> trace (g n) \\<le> 1) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n  \\<lbrakk>positive ?A; positive ?B; ?A \\<in> carrier_mat ?n ?n;\n   ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> positive (?A + ?B)\n\ngoal (1 subgoal):\n 1. \\<forall>n. positive (f n + g n) \\<and> trace (f n + g n) \\<le> 1", "by blast"], ["proof (state)\nthis:\n  \\<forall>n. partial_density_operator (f n + g n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. partial_density_operator (f n + g n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"(f n + g n) \\<le>\\<^sub>L (f (Suc n) + g (Suc n))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n)", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n)", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n)", "using lowner_le_add[of \"f n\" d  \"f (Suc n)\" \"g n\" \"g (Suc n)\"]"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n  \\<lbrakk>f n \\<in> carrier_mat d d; f (Suc n) \\<in> carrier_mat d d;\n   g n \\<in> carrier_mat d d; g (Suc n) \\<in> carrier_mat d d;\n   f n \\<le>\\<^sub>L f (Suc n); g n \\<le>\\<^sub>L g (Suc n)\\<rbrakk>\n  \\<Longrightarrow> f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n)\n\ngoal (1 subgoal):\n 1. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n)", "by auto"], ["proof (state)\nthis:\n  f ?n + g ?n \\<le>\\<^sub>L f (Suc ?n) + g (Suc ?n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n  \\<forall>n. partial_density_operator (f n + g n)\n  f ?n + g ?n \\<le>\\<^sub>L f (Suc ?n) + g (Suc ?n)", "have msfg: \"matrix_seq d (\\<lambda>n. f n + g n)\""], ["proof (prove)\nusing this:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n  \\<forall>n. partial_density_operator (f n + g n)\n  f ?n + g ?n \\<le>\\<^sub>L f (Suc ?n) + g (Suc ?n)\n\ngoal (1 subgoal):\n 1. matrix_seq d (\\<lambda>n. f n + g n)", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n  \\<forall>n. partial_density_operator (f n + g n)\n  f ?n + g ?n \\<le>\\<^sub>L f (Suc ?n) + g (Suc ?n)\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. matrix_seq d (\\<lambda>n. f n + g n)", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<forall>n. f n + g n \\<in> carrier_mat d d\n  \\<forall>n. partial_density_operator (f n + g n)\n  f ?n + g ?n \\<le>\\<^sub>L f (Suc ?n) + g (Suc ?n)\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. (\\<forall>n. f n + g n \\<in> carrier_mat d d) \\<and>\n    (\\<forall>n. partial_density_operator (f n + g n)) \\<and>\n    (\\<forall>n. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n))", "by auto"], ["proof (state)\nthis:\n  matrix_seq d (\\<lambda>n. f n + g n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  matrix_seq d (\\<lambda>n. f n + g n)", "have mslfg: \"matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n) (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\""], ["proof (prove)\nusing this:\n  matrix_seq d (\\<lambda>n. f n + g n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n     (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))", "using matrix_seq.lowner_lub_prop"], ["proof (prove)\nusing this:\n  matrix_seq d (\\<lambda>n. f n + g n)\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  matrix_seq.lowner_is_lub ?f (matrix_seq.lowner_lub ?f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n     (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))", "have \"limit_mat (\\<lambda>n. f n + g n) (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. f n + g n)\n     (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d", "using matrix_seq.lowner_lub_is_limit msfg"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  limit_mat ?f (matrix_seq.lowner_lub ?f) ?dim\n  matrix_seq d (\\<lambda>n. f n + g n)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. f n + g n)\n     (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d", "have lim3: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. (f n + g n) $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. (f n + g n) $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n. f n + g n) $$\n                                    (i, j)", "using limit_mat_def assms"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. (f n + g n) $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n. f n + g n) $$\n                                    (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. (f n + g n) $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n. f n + g n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"\\<forall> i<d. \\<forall> j<d. \\<forall> n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq d g\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  \\<forall>n. trace (f n + g n) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)", "by (metis carrier_matD(1) carrier_matD(2) index_add_mat(1))"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)", "have add: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub (\\<lambda>n. f n + g n)) $$ (i, j)\""], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n. f n + g n) $$\n                                    (i, j)", "using lim3"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n. (f n + g n) $$ (i, j) = f n $$ (i, j) + g n $$ (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. (f n + g n) $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n. f n + g n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n. f n + g n) $$\n                                    (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n. f n + g n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) = matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)\"\n    if i: \"i < d\" and j: \"j < d\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "have \"(\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "using lim1 i j"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "have \"(\\<lambda>n. g n $$ (i, j)) \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)", "using lim2 i j"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. g n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  (\\<lambda>n. g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)", "have \"(\\<lambda>n. f n $$ (i, j) + g n $$ (i, j)) \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  (\\<lambda>n. g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                              matrix_seq.lowner_lub g $$ (i, j)", "using tendsto_add[of \"\\<lambda>n. f n $$ (i, j)\" \"matrix_seq.lowner_lub f $$ (i, j)\" sequentially \"\\<lambda>n. g n $$ (i, j)\" \"matrix_seq.lowner_lub g $$ (i, j)\"]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  (\\<lambda>n. g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\n  \\<lbrakk>(\\<lambda>n. f n $$ (i, j))\n           \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j);\n   (\\<lambda>n. g n $$ (i, j))\n   \\<longlonglongrightarrow> matrix_seq.lowner_lub g $$ (i, j)\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. f x $$ (i, j) + g x $$ (i, j))\n                    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$\n        (i, j) +\n        matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                              matrix_seq.lowner_lub g $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                            matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                            matrix_seq.lowner_lub g $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "have \"(\\<lambda>n. f n $$ (i, j) + g n $$ (i, j)) \\<longlonglongrightarrow> matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                               (\\<lambda>n. f n + g n) $$\n                              (i, j)", "using add i j"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n. f n + g n) $$\n                                  (i, j)\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                               (\\<lambda>n. f n + g n) $$\n                              (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                            (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                            matrix_seq.lowner_lub g $$ (i, j)\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                            (i, j)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                            matrix_seq.lowner_lub g $$ (i, j)\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                            (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j) +\n                            matrix_seq.lowner_lub g $$ (i, j)\n  (\\<lambda>n. f n $$ (i, j) + g n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                            (i, j)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub f $$ (i, j) + matrix_seq.lowner_lub g $$ (i, j) =\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"matrix_seq.lowner_lub f \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "using matrix_seq.lowner_is_lub_dim assms(1) msf"], ["proof (prove)\nusing this:\n  \\<lbrakk>matrix_seq ?dim ?f; matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  matrix_seq d f\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<forall>n. ?f n \\<in> carrier_mat ?dim ?dim) \\<and>\n           (\\<forall>n. partial_density_operator (?f n)) \\<and>\n           (\\<forall>n. ?f n \\<le>\\<^sub>L ?f (Suc n));\n   matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "moreover"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"matrix_seq.lowner_lub g \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub g \\<in> carrier_mat d d", "using matrix_seq.lowner_is_lub_dim assms(2) msg"], ["proof (prove)\nusing this:\n  \\<lbrakk>matrix_seq ?dim ?f; matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  matrix_seq d g\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub g \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<forall>n. ?f n \\<in> carrier_mat ?dim ?dim) \\<and>\n           (\\<forall>n. partial_density_operator (?f n)) \\<and>\n           (\\<forall>n. ?f n \\<le>\\<^sub>L ?f (Suc n));\n   matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (g n)) \\<and>\n  (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))\n  matrix_seq.lowner_is_lub g (matrix_seq.lowner_lub g)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub g \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "moreover"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "have \"matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d", "using matrix_seq.lowner_is_lub_dim  msfg mslfg"], ["proof (prove)\nusing this:\n  \\<lbrakk>matrix_seq ?dim ?f; matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  matrix_seq d (\\<lambda>n. f n + g n)\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<forall>n. ?f n \\<in> carrier_mat ?dim ?dim) \\<and>\n           (\\<forall>n. partial_density_operator (?f n)) \\<and>\n           (\\<forall>n. ?f n \\<le>\\<^sub>L ?f (Suc n));\n   matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  (\\<forall>n. f n + g n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n + g n)) \\<and>\n  (\\<forall>n. f n + g n \\<le>\\<^sub>L f (Suc n) + g (Suc n))\n  matrix_seq.lowner_is_lub (\\<lambda>n. f n + g n)\n   (matrix_seq.lowner_lub (\\<lambda>n. f n + g n))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "using mat_eq_iff"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> matrix_seq.lowner_lub f $$ (?i, ?j) +\n                    matrix_seq.lowner_lub g $$ (?i, ?j) =\n                    matrix_seq.lowner_lub (\\<lambda>n. f n + g n) $$\n                    (?i, ?j)\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n  matrix_seq.lowner_lub g \\<in> carrier_mat d d\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) \\<in> carrier_mat d d\n  (?x = ?y) =\n  (dim_row ?x = dim_row ?y \\<and>\n   dim_col ?x = dim_col ?y \\<and>\n   (\\<forall>i j.\n       i < dim_row ?y \\<longrightarrow>\n       j < dim_col ?y \\<longrightarrow> ?x $$ (i, j) = ?y $$ (i, j)))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n    matrix_seq.lowner_lub f + matrix_seq.lowner_lub g", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub (\\<lambda>n. f n + g n) =\n  matrix_seq.lowner_lub f + matrix_seq.lowner_lub g\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lowner_lub_scale:\n  fixes c :: real\n  assumes \"matrix_seq d f\"  \"\\<forall> n. trace (c \\<cdot>\\<^sub>m f n) \\<le> 1\"  \"c\\<ge>0\"\n  shows \"matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n) = c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have msf: \"matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "using assms(1) matrix_seq.lowner_lub_prop"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  matrix_seq.lowner_is_lub ?f (matrix_seq.lowner_lub ?f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)", "have \"limit_mat f (matrix_seq.lowner_lub f) d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. limit_mat f (matrix_seq.lowner_lub f) d", "using matrix_seq.lowner_lub_is_limit assms"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  limit_mat ?f (matrix_seq.lowner_lub ?f) ?dim\n  matrix_seq d f\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. limit_mat f (matrix_seq.lowner_lub f) d", "by auto"], ["proof (state)\nthis:\n  limit_mat f (matrix_seq.lowner_lub f) d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  limit_mat f (matrix_seq.lowner_lub f) d", "have lim1: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub f) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat f (matrix_seq.lowner_lub f) d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "using limit_mat_def assms"], ["proof (prove)\nusing this:\n  limit_mat f (matrix_seq.lowner_lub f) d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  matrix_seq d f\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have dimcf: \"\\<forall>n. c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have \"\\<forall>n. partial_density_operator (c \\<cdot>\\<^sub>m f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)", "using assms"], ["proof (prove)\nusing this:\n  matrix_seq d f\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)", "unfolding matrix_seq_def partial_density_operator_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (f n) \\<and> trace (f n) \\<le> 1) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       positive (complex_of_real c \\<cdot>\\<^sub>m f n) \\<and>\n       trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1", "using positive_scale"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (f n) \\<and> trace (f n) \\<le> 1) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A; 0 \\<le> ?c\\<rbrakk>\n  \\<Longrightarrow> positive (complex_of_real ?c \\<cdot>\\<^sub>m ?A)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       positive (complex_of_real c \\<cdot>\\<^sub>m f n) \\<and>\n       trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1", "by blast"], ["proof (state)\nthis:\n  \\<forall>n.\n     partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "moreover"], ["proof (state)\nthis:\n  \\<forall>n.\n     partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have \"\\<forall>n.  c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L  c \\<cdot>\\<^sub>m f (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n       complex_of_real c \\<cdot>\\<^sub>m f (Suc n)", "using lowner_le_smult assms(1,3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?c; ?A \\<le>\\<^sub>L ?B; ?A \\<in> carrier_mat ?n ?n;\n   ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> complex_of_real ?c \\<cdot>\\<^sub>m ?A \\<le>\\<^sub>L\n                    complex_of_real ?c \\<cdot>\\<^sub>m ?B\n  matrix_seq d f\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n       complex_of_real c \\<cdot>\\<^sub>m f (Suc n)", "unfolding matrix_seq_def partial_density_operator_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?c; ?A \\<le>\\<^sub>L ?B; ?A \\<in> carrier_mat ?n ?n;\n   ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> complex_of_real ?c \\<cdot>\\<^sub>m ?A \\<le>\\<^sub>L\n                    complex_of_real ?c \\<cdot>\\<^sub>m ?B\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. positive (f n) \\<and> trace (f n) \\<le> 1) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n       complex_of_real c \\<cdot>\\<^sub>m f (Suc n)", "by blast"], ["proof (state)\nthis:\n  \\<forall>n.\n     complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n     complex_of_real c \\<cdot>\\<^sub>m f (Suc n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\n  \\<forall>n.\n     partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<forall>n.\n     complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n     complex_of_real c \\<cdot>\\<^sub>m f (Suc n)", "have mscf: \"matrix_seq d (\\<lambda>n. c \\<cdot>\\<^sub>m f n)\""], ["proof (prove)\nusing this:\n  \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\n  \\<forall>n.\n     partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<forall>n.\n     complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n     complex_of_real c \\<cdot>\\<^sub>m f (Suc n)\n\ngoal (1 subgoal):\n 1. matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<forall>n. complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d\n  \\<forall>n.\n     partial_density_operator (complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<forall>n.\n     complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n     complex_of_real c \\<cdot>\\<^sub>m f (Suc n)\n\ngoal (1 subgoal):\n 1. (\\<forall>n.\n        complex_of_real c \\<cdot>\\<^sub>m f n \\<in> carrier_mat d d) \\<and>\n    (\\<forall>n.\n        partial_density_operator\n         (complex_of_real c \\<cdot>\\<^sub>m f n)) \\<and>\n    (\\<forall>n.\n        complex_of_real c \\<cdot>\\<^sub>m f n \\<le>\\<^sub>L\n        complex_of_real c \\<cdot>\\<^sub>m f (Suc n))", "by auto"], ["proof (state)\nthis:\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)", "have mslfg: \"matrix_seq.lowner_is_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n) (matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n))\""], ["proof (prove)\nusing this:\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n     (matrix_seq.lowner_lub\n       (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))", "using matrix_seq.lowner_lub_prop"], ["proof (prove)\nusing this:\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  matrix_seq.lowner_is_lub ?f (matrix_seq.lowner_lub ?f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_is_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n     (matrix_seq.lowner_lub\n       (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))", "have \"limit_mat (\\<lambda>n. c \\<cdot>\\<^sub>m f n) (matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n)) d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n     (matrix_seq.lowner_lub\n       (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n     d", "using matrix_seq.lowner_lub_is_limit mscf"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  limit_mat ?f (matrix_seq.lowner_lub ?f) ?dim\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n     (matrix_seq.lowner_lub\n       (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n     d", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n   d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n   d", "have lim3: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n. (c \\<cdot>\\<^sub>m f n) $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n)) $$ (i, j)\""], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n   d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n.\n   complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                    (i, j)", "using limit_mat_def assms"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n   d\n  limit_mat ?X ?A ?m =\n  (\\<forall>n.\n      ?X n \\<in> carrier_mat ?m ?m \\<and>\n      ?A \\<in> carrier_mat ?m ?m \\<and>\n      (\\<forall>i<?m.\n          \\<forall>j<?m.\n             (\\<lambda>n. ?X n $$ (i, j))\n             \\<longlonglongrightarrow> ?A $$ (i, j)))\n  matrix_seq d f\n  \\<forall>n. trace (complex_of_real c \\<cdot>\\<^sub>m f n) \\<le> 1\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n.\n   complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                    (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n.\n complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "from mslfg mscf"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)", "have dleft: \"matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n) \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n    \\<in> carrier_mat d d", "using matrix_seq.lowner_is_lub_dim"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n   (matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n))\n  matrix_seq d (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<lbrakk>matrix_seq ?dim ?f; matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n    \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have dllf: \"matrix_seq.lowner_lub f \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "using matrix_seq.lowner_is_lub_dim assms(1) msf"], ["proof (prove)\nusing this:\n  \\<lbrakk>matrix_seq ?dim ?f; matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  matrix_seq d f\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<forall>n. ?f n \\<in> carrier_mat ?dim ?dim) \\<and>\n           (\\<forall>n. partial_density_operator (?f n)) \\<and>\n           (\\<forall>n. ?f n \\<le>\\<^sub>L ?f (Suc n));\n   matrix_seq.lowner_is_lub ?f ?M\\<rbrakk>\n  \\<Longrightarrow> ?M \\<in> carrier_mat ?dim ?dim\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  matrix_seq.lowner_is_lub f (matrix_seq.lowner_lub f)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub f \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d", "have dright: \"c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n    \\<in> carrier_mat d d", "using index_smult_mat(2,3)"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n  dim_row (?a \\<cdot>\\<^sub>m ?A) = dim_row ?A\n  dim_col (?a \\<cdot>\\<^sub>m ?A) = dim_col ?A\n\ngoal (1 subgoal):\n 1. complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n    \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n  \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have \"\\<forall> i<d. \\<forall> j<d. \\<forall> n. (c \\<cdot>\\<^sub>m f n) $$ (i, j) = c * f n $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n.\n             (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n             complex_of_real c * f n $$ (i, j)", "using assms(1)"], ["proof (prove)\nusing this:\n  matrix_seq d f\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n.\n             (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n             complex_of_real c * f n $$ (i, j)", "unfolding matrix_seq_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n.\n             (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n             complex_of_real c * f n $$ (i, j)", "using index_smult_mat(1)"], ["proof (prove)\nusing this:\n  (\\<forall>n. f n \\<in> carrier_mat d d) \\<and>\n  (\\<forall>n. partial_density_operator (f n)) \\<and>\n  (\\<forall>n. f n \\<le>\\<^sub>L f (Suc n))\n  \\<lbrakk>?i < dim_row ?A; ?j < dim_col ?A\\<rbrakk>\n  \\<Longrightarrow> (?a \\<cdot>\\<^sub>m ?A) $$ (?i, ?j) =\n                    ?a * ?A $$ (?i, ?j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          \\<forall>n.\n             (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n             complex_of_real c * f n $$ (i, j)", "by (metis carrier_matD(1-2))"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n.\n           (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n           complex_of_real c * f n $$ (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n.\n           (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n           complex_of_real c * f n $$ (i, j)", "have smult: \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n.  c * f n $$ (i, j)) \\<longlonglongrightarrow> (matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n)) $$ (i, j)\""], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n.\n           (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n           complex_of_real c * f n $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n.\n   complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                    (i, j)", "using lim3"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        \\<forall>n.\n           (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j) =\n           complex_of_real c * f n $$ (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. (complex_of_real c \\<cdot>\\<^sub>m f n) $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n.\n complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n          \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                     (\\<lambda>n.\n   complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                    (i, j)", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n.\n complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "have ij: \"(c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) = (matrix_seq.lowner_lub (\\<lambda>n. c \\<cdot>\\<^sub>m f n)) $$ (i, j)\"\n    if i: \"i < d\" and j: \"j < d\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "have \"(\\<lambda>n. f n $$ (i, j)) \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "using lim1 i j"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n $$ (i, j))\n    \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "have \"\\<forall>i<d. \\<forall>j<d.(c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =  c *  matrix_seq.lowner_lub f $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n          (i, j) =\n          complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)", "using index_smult_mat dllf"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < dim_row ?A; ?j < dim_col ?A\\<rbrakk>\n  \\<Longrightarrow> (?a \\<cdot>\\<^sub>m ?A) $$ (?i, ?j) =\n                    ?a * ?A $$ (?i, ?j)\n  dim_row (?a \\<cdot>\\<^sub>m ?A) = dim_row ?A\n  dim_col (?a \\<cdot>\\<^sub>m ?A) = dim_col ?A\n  matrix_seq.lowner_lub f \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n          (i, j) =\n          complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n        (i, j) =\n        complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n        (i, j) =\n        complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)", "have \"\\<forall>i<d. \\<forall>j<d. (\\<lambda>n.  c * f n $$ (i, j)) \\<longlonglongrightarrow>(c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n        (i, j) =\n        complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n          \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                     matrix_seq.lowner_lub f) $$\n                                    (i, j)", "using tendsto_intros(18)[of \"\\<lambda>n. c\" \"c\" sequentially \"\\<lambda>n. f n $$ (i, j)\" \"matrix_seq.lowner_lub f $$ (i, j)\"] i j"], ["proof (prove)\nusing this:\n  (\\<lambda>n. f n $$ (i, j))\n  \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n        (i, j) =\n        complex_of_real c * matrix_seq.lowner_lub f $$ (i, j)\n  \\<lbrakk>(\\<lambda>n. c) \\<longlonglongrightarrow> c;\n   (\\<lambda>n. f n $$ (i, j))\n   \\<longlonglongrightarrow> matrix_seq.lowner_lub f $$ (i, j)\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. c *\\<^sub>R f x $$ (i, j))\n                    \\<longlonglongrightarrow> c *\\<^sub>R\n        matrix_seq.lowner_lub f $$ (i, j)\n  i < d\n  j < d\n\ngoal (1 subgoal):\n 1. \\<forall>i<d.\n       \\<forall>j<d.\n          (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n          \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                     matrix_seq.lowner_lub f) $$\n                                    (i, j)", "by (simp add: lim1 tendsto_mult_left)"], ["proof (state)\nthis:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                   matrix_seq.lowner_lub f) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                   matrix_seq.lowner_lub f) $$\n                                  (i, j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                   matrix_seq.lowner_lub f) $$\n                                  (i, j)\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "using smult i j LIMSEQ_unique"], ["proof (prove)\nusing this:\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                                   matrix_seq.lowner_lub f) $$\n                                  (i, j)\n  \\<forall>i<d.\n     \\<forall>j<d.\n        (\\<lambda>n. complex_of_real c * f n $$ (i, j))\n        \\<longlonglongrightarrow> matrix_seq.lowner_lub\n                                   (\\<lambda>n.\n complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                                  (i, j)\n  i < d\n  j < d\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n    matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n    (i, j)", "by metis"], ["proof (state)\nthis:\n  (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$ (i, j) =\n  matrix_seq.lowner_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                     matrix_seq.lowner_lub f) $$\n                    (?i, ?j) =\n                    matrix_seq.lowner_lub\n                     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                    (?i, ?j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "from dleft dright ij"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_lub (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<in> carrier_mat d d\n  complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n  \\<in> carrier_mat d d\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                     matrix_seq.lowner_lub f) $$\n                    (?i, ?j) =\n                    matrix_seq.lowner_lub\n                     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                    (?i, ?j)", "show ?thesis"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_lub (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<in> carrier_mat d d\n  complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n  \\<in> carrier_mat d d\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                     matrix_seq.lowner_lub f) $$\n                    (?i, ?j) =\n                    matrix_seq.lowner_lub\n                     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                    (?i, ?j)\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "using mat_eq_iff[of \"matrix_seq.lowner_lub  (\\<lambda>n. c \\<cdot>\\<^sub>m f n)\" \"c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\"]"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_lub (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)\n  \\<in> carrier_mat d d\n  complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n  \\<in> carrier_mat d d\n  \\<lbrakk>?i < d; ?j < d\\<rbrakk>\n  \\<Longrightarrow> (complex_of_real c \\<cdot>\\<^sub>m\n                     matrix_seq.lowner_lub f) $$\n                    (?i, ?j) =\n                    matrix_seq.lowner_lub\n                     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n                    (?i, ?j)\n  (matrix_seq.lowner_lub\n    (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n   complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) =\n  (dim_row\n    (matrix_seq.lowner_lub\n      (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)) =\n   dim_row\n    (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) \\<and>\n   dim_col\n    (matrix_seq.lowner_lub\n      (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n)) =\n   dim_col\n    (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) \\<and>\n   (\\<forall>i j.\n       i < dim_row\n            (complex_of_real c \\<cdot>\\<^sub>m\n             matrix_seq.lowner_lub f) \\<longrightarrow>\n       j < dim_col\n            (complex_of_real c \\<cdot>\\<^sub>m\n             matrix_seq.lowner_lub f) \\<longrightarrow>\n       matrix_seq.lowner_lub\n        (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) $$\n       (i, j) =\n       (complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f) $$\n       (i, j)))\n\ngoal (1 subgoal):\n 1. matrix_seq.lowner_lub\n     (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n    complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f", "by (metis (mono_tags) carrier_matD(1) carrier_matD(2))"], ["proof (state)\nthis:\n  matrix_seq.lowner_lub\n   (\\<lambda>n. complex_of_real c \\<cdot>\\<^sub>m f n) =\n  complex_of_real c \\<cdot>\\<^sub>m matrix_seq.lowner_lub f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_matrix_sum_linear:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"(\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> trace (matrix_sum d f n) = sum (\\<lambda>k. trace (f k)) {0..<n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k.\n        k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    trace (matrix_sum d f 0) = (\\<Sum>k = 0..<0. trace (f k))\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "case 0"], ["proof (state)\nthis:\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. (\\<And>k.\n        k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n    trace (matrix_sum d f 0) = (\\<Sum>k = 0..<0. trace (f k))\n 2. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (matrix_sum d f 0) = (\\<Sum>k = 0..<0. trace (f k))", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d f 0) = (\\<Sum>k = 0..<0. trace (f k))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "then"], ["proof (chain)\npicking this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have \"\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have ds: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "have \"trace (matrix_sum d f (Suc n)) = trace (f n) + trace (matrix_sum d f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (matrix_sum d f (Suc n)) = trace (f n) + trace (matrix_sum d f n)", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (f n + matrix_sum d f n) = trace (f n) + trace (matrix_sum d f n)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (2 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d", "using ds Suc"], ["proof (prove)\nusing this:\n  matrix_sum d f n \\<in> carrier_mat d d\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d f (Suc n)) = trace (f n) + trace (matrix_sum d f n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "also"], ["proof (state)\nthis:\n  trace (matrix_sum d f (Suc n)) = trace (f n) + trace (matrix_sum d f n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "have \"\\<dots> = sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (f n) + trace (matrix_sum d f n) =\n    sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n", "using Suc"], ["proof (prove)\nusing this:\n  (\\<And>k.\n      k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow>\n  trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k))\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (f n) + trace (matrix_sum d f n) =\n    sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n", "by auto"], ["proof (state)\nthis:\n  trace (f n) + trace (matrix_sum d f n) =\n  sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "also"], ["proof (state)\nthis:\n  trace (f n) + trace (matrix_sum d f n) =\n  sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "have \"\\<dots> = sum (trace \\<circ> f) {0..<Suc n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n =\n    sum (trace \\<circ> f) {0..<Suc n}", "by auto"], ["proof (state)\nthis:\n  sum (trace \\<circ> f) {0..<n} + (trace \\<circ> f) n =\n  sum (trace \\<circ> f) {0..<Suc n}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>(\\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d) \\<Longrightarrow>\n                trace (matrix_sum d f n) = (\\<Sum>k = 0..<n. trace (f k));\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> trace (matrix_sum d f (Suc n)) =\n                         (\\<Sum>k = 0..<Suc n. trace (f k))", "finally"], ["proof (chain)\npicking this:\n  trace (matrix_sum d f (Suc n)) = sum (trace \\<circ> f) {0..<Suc n}", "show ?case"], ["proof (prove)\nusing this:\n  trace (matrix_sum d f (Suc n)) = sum (trace \\<circ> f) {0..<Suc n}\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d f (Suc n)) = (\\<Sum>k = 0..<Suc n. trace (f k))", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d f (Suc n)) = (\\<Sum>k = 0..<Suc n. trace (f k))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matrix_sum_distrib_left:\n  fixes f :: \"nat \\<Rightarrow> complex mat\"\n  shows \"P \\<in> carrier_mat d d \\<Longrightarrow> (\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d) \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * (f k)) n = P * (matrix_sum d f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<in> carrier_mat d d;\n     \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                      P * matrix_sum d f n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) 0 =\n                      P * matrix_sum d f 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "case 0"], ["proof (state)\nthis:\n  P \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<in> carrier_mat d d;\n     \\<And>k. k < 0 \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n    \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) 0 =\n                      P * matrix_sum d f 0\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. P * f k) 0 = P * matrix_sum d f 0", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d = P * 0\\<^sub>m d d", "using 0"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat d d\n  ?k < 0 \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d = P * 0\\<^sub>m d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. P * f k) 0 = P * matrix_sum d f 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have \"\\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d", "have ds: \"matrix_sum d f n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "using matrix_sum_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < ?n \\<Longrightarrow>\n      ?f k \\<in> carrier_mat ?d ?d) \\<Longrightarrow>\n  matrix_sum ?d ?f ?n \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. matrix_sum d f n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  matrix_sum d f n \\<in> carrier_mat d d", "have dPf: \"\\<And>k. k < n \\<Longrightarrow> P * f k \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  matrix_sum d f n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> P * f k \\<in> carrier_mat d d", "using Suc"], ["proof (prove)\nusing this:\n  matrix_sum d f n \\<in> carrier_mat d d\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> P * f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> P * f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> P * f ?k \\<in> carrier_mat d d", "have \"matrix_sum d (\\<lambda>k. P * f k) n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> P * f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. P * f k) n \\<in> carrier_mat d d", "using matrix_sum_dim[OF dPf]"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> P * f ?k \\<in> carrier_mat d d\n  (\\<And>k. k < ?n \\<Longrightarrow> ?k1 k < n) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. P * f (?k1 k)) ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. P * f k) n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. P * f k) n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "have \"matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * f n + matrix_sum d (\\<lambda>k. P * f k) n \""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n    P * f n + matrix_sum d (\\<lambda>k. P * f k) n", "unfolding matrix_sum.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n    P * f n + matrix_sum d (\\<lambda>k. P * f k) n", "using Suc(2)"], ["proof (prove)\nusing this:\n  P \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n    P * f n + matrix_sum d (\\<lambda>k. P * f k) n", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n  P * f n + matrix_sum d (\\<lambda>k. P * f k) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "also"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n  P * f n + matrix_sum d (\\<lambda>k. P * f k) n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "have \"\\<dots> = P * f n + P * matrix_sum d f n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n    P * f n + P * matrix_sum d f n", "using Suc"], ["proof (prove)\nusing this:\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n    P * f n + P * matrix_sum d f n", "by auto"], ["proof (state)\nthis:\n  P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n  P * f n + P * matrix_sum d f n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "also"], ["proof (state)\nthis:\n  P * f n + matrix_sum d (\\<lambda>k. P * f k) n =\n  P * f n + P * matrix_sum d f n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "have \"\\<dots> = P * (f n + matrix_sum d f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P * f n + P * matrix_sum d f n = P * (f n + matrix_sum d f n)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d\n 3. P \\<in> carrier_mat d d", "using ds dPf Suc"], ["proof (prove)\nusing this:\n  matrix_sum d f n \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> P * f ?k \\<in> carrier_mat d d\n  \\<lbrakk>P \\<in> carrier_mat d d;\n   \\<And>k. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                    P * matrix_sum d f n\n  P \\<in> carrier_mat d d\n  ?k < Suc n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (3 subgoals):\n 1. matrix_sum d f n \\<in> carrier_mat d d\n 2. f n \\<in> carrier_mat d d\n 3. P \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  P * f n + P * matrix_sum d f n = P * (f n + matrix_sum d f n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>P \\<in> carrier_mat d d;\n                 \\<And>k.\n                    k < n \\<Longrightarrow>\n                    f k \\<in> carrier_mat d d\\<rbrakk>\n                \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) n =\n                                  P * matrix_sum d f n;\n        P \\<in> carrier_mat d d;\n        \\<And>k.\n           k < Suc n \\<Longrightarrow> f k \\<in> carrier_mat d d\\<rbrakk>\n       \\<Longrightarrow> matrix_sum d (\\<lambda>k. P * f k) (Suc n) =\n                         P * matrix_sum d f (Suc n)", "finally"], ["proof (chain)\npicking this:\n  matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * (f n + matrix_sum d f n)", "show \"matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * (matrix_sum d f (Suc n))\""], ["proof (prove)\nusing this:\n  matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * (f n + matrix_sum d f n)\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * matrix_sum d f (Suc n)", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. P * f k) (Suc n) = P * matrix_sum d f (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Measurement\\<close>"], ["", "definition measurement :: \"nat \\<Rightarrow> nat \\<Rightarrow> (nat \\<Rightarrow> complex mat) \\<Rightarrow> bool\" where\n  \"measurement d n M \\<longleftrightarrow> (\\<forall>j < n. M j \\<in> carrier_mat d d)\n                        \\<and> matrix_sum d (\\<lambda>j. (adjoint (M j)) * M j) n = 1\\<^sub>m d\""], ["", "lemma measurement_dim:\n  assumes \"measurement d n M\"\n  shows \"\\<And>k. k < n \\<Longrightarrow> (M k) \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "using assms"], ["proof (prove)\nusing this:\n  measurement d n M\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "unfolding measurement_def"], ["proof (prove)\nusing this:\n  (\\<forall>j<n. M j \\<in> carrier_mat d d) \\<and>\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>k. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "by auto"], ["", "lemma measurement_id2:\n  assumes \"measurement d 2 M\"\n  shows \"adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "have ssz: \"(Suc (Suc 0)) = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Suc (Suc 0) = 2", "by auto"], ["proof (state)\nthis:\n  Suc (Suc 0) = 2\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "have \"M 0 \\<in> carrier_mat d d\" \"M 1 \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M 0 \\<in> carrier_mat d d &&& M 1 \\<in> carrier_mat d d", "using assms measurement_def"], ["proof (prove)\nusing this:\n  measurement d 2 M\n  measurement ?d ?n ?M =\n  ((\\<forall>j<?n. ?M j \\<in> carrier_mat ?d ?d) \\<and>\n   matrix_sum ?d (\\<lambda>j. adjoint (?M j) * ?M j) ?n = 1\\<^sub>m ?d)\n\ngoal (1 subgoal):\n 1. M 0 \\<in> carrier_mat d d &&& M 1 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  M 0 \\<in> carrier_mat d d\n  M 1 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "then"], ["proof (chain)\npicking this:\n  M 0 \\<in> carrier_mat d d\n  M 1 \\<in> carrier_mat d d", "have \"adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = matrix_sum d (\\<lambda>j. (adjoint (M j)) * M j) (Suc (Suc 0)) \""], ["proof (prove)\nusing this:\n  M 0 \\<in> carrier_mat d d\n  M 1 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 =\n    matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0))", "by auto"], ["proof (state)\nthis:\n  adjoint (M 0) * M 0 + adjoint (M 1) * M 1 =\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0))\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "also"], ["proof (state)\nthis:\n  adjoint (M 0) * M 0 + adjoint (M 1) * M 1 =\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0))\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "have \"\\<dots> = matrix_sum d (\\<lambda>j. (adjoint (M j)) * M j) (2::nat)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0)) =\n    matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2", "by (subst ssz, auto)"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0)) =\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "also"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) (Suc (Suc 0)) =\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "have \"\\<dots> = 1\\<^sub>m d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2 = 1\\<^sub>m d", "using measurement_def[of d 2 M] assms"], ["proof (prove)\nusing this:\n  measurement d 2 M =\n  ((\\<forall>j<2. M j \\<in> carrier_mat d d) \\<and>\n   matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2 = 1\\<^sub>m d)\n  measurement d 2 M\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2 = 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) 2 = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "finally"], ["proof (chain)\npicking this:\n  adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "show ?thesis"], ["proof (prove)\nusing this:\n  adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  adjoint (M 0) * M 0 + adjoint (M 1) * M 1 = 1\\<^sub>m d\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Result of measurement on $\\rho$ by matrix M\\<close>"], ["", "definition measurement_res :: \"complex mat \\<Rightarrow> complex mat \\<Rightarrow> complex mat\" where\n  \"measurement_res M \\<rho> = M * \\<rho> * adjoint M\""], ["", "lemma add_positive_le_reduce1:\n  assumes dA: \"A \\<in> carrier_mat n n\" and dB: \"B \\<in> carrier_mat n n\" and dC: \"C \\<in> carrier_mat n n\"\n    and pB: \"positive B\" and le: \"A + B \\<le>\\<^sub>L C\"\n  shows \"A \\<le>\\<^sub>L C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<le>\\<^sub>L C", "unfolding lowner_le_def positive_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row A = dim_row C \\<and>\n    dim_col A = dim_col C \\<and>\n    C - A \\<in> carrier_mat (dim_col (C - A)) (dim_col (C - A)) \\<and>\n    (\\<forall>v.\n        dim_vec v = dim_col (C - A) \\<longrightarrow>\n        0 \\<le> inner_prod v ((C - A) *\\<^sub>v v))", "proof (auto simp add: carrier_matD[OF dA] carrier_matD[OF dC] simp del: less_eq_complex_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have eq: \"C - (A + B) = (C - A + (-B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C - (A + B) = C - A + - B", "using dA dB dC"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  C \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. C - (A + B) = C - A + - B", "by auto"], ["proof (state)\nthis:\n  C - (A + B) = C - A + - B\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"positive (C - (A + B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (C - (A + B))", "using le lowner_le_def dA dB dC"], ["proof (prove)\nusing this:\n  A + B \\<le>\\<^sub>L C\n  (?A \\<le>\\<^sub>L ?B) =\n  (dim_row ?A = dim_row ?B \\<and>\n   dim_col ?A = dim_col ?B \\<and> positive (?B - ?A))\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  C \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. positive (C - (A + B))", "by auto"], ["proof (state)\nthis:\n  positive (C - (A + B))\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "with eq"], ["proof (chain)\npicking this:\n  C - (A + B) = C - A + - B\n  positive (C - (A + B))", "have p: \"positive (C - A + (-B))\""], ["proof (prove)\nusing this:\n  C - (A + B) = C - A + - B\n  positive (C - (A + B))\n\ngoal (1 subgoal):\n 1. positive (C - A + - B)", "by auto"], ["proof (state)\nthis:\n  positive (C - A + - B)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "fix v :: \"complex vec\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "assume \" n = dim_vec v\""], ["proof (state)\nthis:\n  n = dim_vec v\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "then"], ["proof (chain)\npicking this:\n  n = dim_vec v", "have dv: \"v \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  n = dim_vec v\n\ngoal (1 subgoal):\n 1. v \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have ge: \"inner_prod v (B *\\<^sub>v v) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v (B *\\<^sub>v v)", "using pB dv dB positive_def"], ["proof (prove)\nusing this:\n  positive B\n  v \\<in> carrier_vec n\n  B \\<in> carrier_mat n n\n  positive ?A =\n  (?A \\<in> carrier_mat (dim_col ?A) (dim_col ?A) \\<and>\n   (\\<forall>v.\n       dim_vec v = dim_col ?A \\<longrightarrow>\n       0 \\<le> inner_prod v (?A *\\<^sub>v v)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v (B *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> inner_prod v (B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"0 \\<le> inner_prod v ((C - A + (-B)) *\\<^sub>v v) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v ((C - A + - B) *\\<^sub>v v)", "using p positive_def dv dA dB dC"], ["proof (prove)\nusing this:\n  positive (C - A + - B)\n  positive ?A =\n  (?A \\<in> carrier_mat (dim_col ?A) (dim_col ?A) \\<and>\n   (\\<forall>v.\n       dim_vec v = dim_col ?A \\<longrightarrow>\n       0 \\<le> inner_prod v (?A *\\<^sub>v v)))\n  v \\<in> carrier_vec n\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  C \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v ((C - A + - B) *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> inner_prod v ((C - A + - B) *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "also"], ["proof (state)\nthis:\n  0 \\<le> inner_prod v ((C - A + - B) *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"\\<dots> = inner_prod v ((C - A)*\\<^sub>v v + (-B) *\\<^sub>v v) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v ((C - A + - B) *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v)", "using dv dA dB dC add_mult_distrib_mat_vec[OF minus_carrier_mat[OF dA]]"], ["proof (prove)\nusing this:\n  v \\<in> carrier_vec n\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  C \\<in> carrier_mat n n\n  \\<lbrakk>?B \\<in> carrier_mat n n; ?v \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> (?A1 - A + ?B) *\\<^sub>v ?v =\n                    (?A1 - A) *\\<^sub>v ?v + ?B *\\<^sub>v ?v\n\ngoal (1 subgoal):\n 1. inner_prod v ((C - A + - B) *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  inner_prod v ((C - A + - B) *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "also"], ["proof (state)\nthis:\n  inner_prod v ((C - A + - B) *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"\\<dots> = inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v ((-B) *\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v)", "apply (subst inner_prod_distrib_right)"], ["proof (prove)\ngoal (4 subgoals):\n 1. v \\<in> carrier_vec ?n\n 2. (C - A) *\\<^sub>v v \\<in> carrier_vec ?n\n 3. - B *\\<^sub>v v \\<in> carrier_vec ?n\n 4. inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v)", "by (rule dv, auto simp add: mult_mat_vec_carrier[OF minus_carrier_mat[OF dA]] mult_mat_vec_carrier[OF uminus_carrier_mat[OF dB]] dv)"], ["proof (state)\nthis:\n  inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "also"], ["proof (state)\nthis:\n  inner_prod v ((C - A) *\\<^sub>v v + - B *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"\\<dots> = inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)", "using dB dv"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat n n\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v) =\n    inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "also"], ["proof (state)\nthis:\n  inner_prod v ((C - A) *\\<^sub>v v) + inner_prod v (- B *\\<^sub>v v) =\n  inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "have \"\\<dots> \\<le> inner_prod v ((C - A) *\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\n    \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "using ge"], ["proof (prove)\nusing this:\n  0 \\<le> inner_prod v (B *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\n    \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "by auto"], ["proof (state)\nthis:\n  inner_prod v ((C - A) *\\<^sub>v v) - inner_prod v (B *\\<^sub>v v)\n  \\<le> inner_prod v ((C - A) *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       n = dim_vec v \\<Longrightarrow>\n       0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "finally"], ["proof (chain)\npicking this:\n  0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "show \"0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)\""], ["proof (prove)\nusing this:\n  0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. 0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)", "."], ["proof (state)\nthis:\n  0 \\<le> inner_prod v ((C - A) *\\<^sub>v v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma add_positive_le_reduce2:\n  assumes dA: \"A \\<in> carrier_mat n n\" and dB: \"B \\<in> carrier_mat n n\" and dC: \"C \\<in> carrier_mat n n\"\n    and pB: \"positive B\" and le: \"B + A \\<le>\\<^sub>L C\"\n  shows \"A \\<le>\\<^sub>L C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<le>\\<^sub>L C", "apply (subgoal_tac \"B + A = A + B\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. B + A = A + B \\<Longrightarrow> A \\<le>\\<^sub>L C\n 2. B + A = A + B", "using add_positive_le_reduce1[of A n B C] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<in> carrier_mat n n; B \\<in> carrier_mat n n;\n   C \\<in> carrier_mat n n; positive B; A + B \\<le>\\<^sub>L C\\<rbrakk>\n  \\<Longrightarrow> A \\<le>\\<^sub>L C\n  A \\<in> carrier_mat n n\n  B \\<in> carrier_mat n n\n  C \\<in> carrier_mat n n\n  positive B\n  B + A \\<le>\\<^sub>L C\n\ngoal (2 subgoals):\n 1. B + A = A + B \\<Longrightarrow> A \\<le>\\<^sub>L C\n 2. B + A = A + B", "by auto"], ["", "lemma measurement_le_one_mat:\n  assumes \"measurement d n f\"\n  shows \"\\<And>j. j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "fix j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "assume j: \"j < n\""], ["proof (state)\nthis:\n  j < n\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "define M where \"M = adjoint (f j) * f j\""], ["proof (state)\nthis:\n  M = adjoint (f j) * f j\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have df: \"k < n \\<Longrightarrow> f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "using assms measurement_dim"], ["proof (prove)\nusing this:\n  measurement d n f\n  \\<lbrakk>measurement ?d ?n ?M; ?k < ?n\\<rbrakk>\n  \\<Longrightarrow> ?M ?k \\<in> carrier_mat ?d ?d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have daf: \"k < n \\<Longrightarrow> adjoint (f k) * f k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (f k) * f k \\<in> carrier_mat d d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (f k) * f k \\<in> carrier_mat d d", "assume \"k < n\""], ["proof (state)\nthis:\n  k < n\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (f k) * f k \\<in> carrier_mat d d", "then"], ["proof (chain)\npicking this:\n  k < n", "have \"f k \\<in> carrier_mat d d\" \"adjoint (f k) \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  k < n\n\ngoal (1 subgoal):\n 1. f k \\<in> carrier_mat d d &&& adjoint (f k) \\<in> carrier_mat d d", "using df adjoint_dim"], ["proof (prove)\nusing this:\n  k < n\n  ?k < n \\<Longrightarrow> f ?k \\<in> carrier_mat d d\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  adjoint ?A \\<in> carrier_mat ?n ?n\n\ngoal (1 subgoal):\n 1. f k \\<in> carrier_mat d d &&& adjoint (f k) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f k \\<in> carrier_mat d d\n  adjoint (f k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (f k) * f k \\<in> carrier_mat d d", "then"], ["proof (chain)\npicking this:\n  f k \\<in> carrier_mat d d\n  adjoint (f k) \\<in> carrier_mat d d", "show \"adjoint (f k) * f k \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  f k \\<in> carrier_mat d d\n  adjoint (f k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. adjoint (f k) * f k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  adjoint (f k) * f k \\<in> carrier_mat d d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> adjoint (f ?k) * f ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have pafj: \"k < n \\<Longrightarrow> positive (adjoint (f k) * (f k)) \"  for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> positive (adjoint (f k) * f k)", "apply (subst (2) adjoint_adjoint[of \"f k\", symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    positive (adjoint (f k) * adjoint (adjoint (f k)))", "by (metis adjoint_adjoint daf positive_if_decomp)"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> positive (adjoint (f ?k) * f ?k)\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "define f' where \"\\<And>k. f' k = (if k = j then 0\\<^sub>m d d else adjoint (f k) * f k)\""], ["proof (state)\nthis:\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else adjoint (f ?k) * f ?k)\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have pf': \"k < n \\<Longrightarrow> positive (f' k)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> positive (f' k)", "unfolding f'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    positive (if k = j then 0\\<^sub>m d d else adjoint (f k) * f k)", "using positive_zero pafj j"], ["proof (prove)\nusing this:\n  positive (0\\<^sub>m ?n ?n)\n  ?k < n \\<Longrightarrow> positive (adjoint (f ?k) * f ?k)\n  j < n\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    positive (if k = j then 0\\<^sub>m d d else adjoint (f k) * f k)", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> positive (f' ?k)\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have df': \"k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d", "using daf j zero_carrier_mat f'_def"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> adjoint (f ?k) * f ?k \\<in> carrier_mat d d\n  j < n\n  0\\<^sub>m ?nr ?nc \\<in> carrier_mat ?nr ?nc\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else adjoint (f ?k) * f ?k)\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d", "have dsf': \"matrix_sum d f' n \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f' n \\<in> carrier_mat d d", "using matrix_sum_dim[of n f' d]"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n  (\\<And>k.\n      k < n \\<Longrightarrow> f' k \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d f' n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_sum d f' n \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d f' n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have psf': \"positive (matrix_sum d f' n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (matrix_sum d f' n)", "using matrix_sum_positive pafj df' pf'"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < ?n \\<Longrightarrow> ?f k \\<in> carrier_mat ?d ?d;\n   \\<And>k. k < ?n \\<Longrightarrow> positive (?f k)\\<rbrakk>\n  \\<Longrightarrow> positive (matrix_sum ?d ?f ?n)\n  ?k < n \\<Longrightarrow> positive (adjoint (f ?k) * f ?k)\n  ?k < n \\<Longrightarrow> f' ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> positive (f' ?k)\n\ngoal (1 subgoal):\n 1. positive (matrix_sum d f' n)", "by auto"], ["proof (state)\nthis:\n  positive (matrix_sum d f' n)\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have \"M + matrix_sum d f' n = matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M + matrix_sum d f' n = matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n", "using matrix_sum_remove[OF j , of \"(\\<lambda>k. adjoint (f k) * f k)\", OF daf, of f'] f'_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> k < n;\n   \\<And>k.\n      f' k = (if k = j then 0\\<^sub>m d d else adjoint (f k) * f k)\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n =\n                    adjoint (f j) * f j + matrix_sum d f' n\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else adjoint (f ?k) * f ?k)\n\ngoal (1 subgoal):\n 1. M + matrix_sum d f' n = matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n", "unfolding M_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> k < n;\n   \\<And>k.\n      f' k = (if k = j then 0\\<^sub>m d d else adjoint (f k) * f k)\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n =\n                    adjoint (f j) * f j + matrix_sum d f' n\n  f' ?k = (if ?k = j then 0\\<^sub>m d d else adjoint (f ?k) * f ?k)\n\ngoal (1 subgoal):\n 1. adjoint (f j) * f j + matrix_sum d f' n =\n    matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n", "by auto"], ["proof (state)\nthis:\n  M + matrix_sum d f' n = matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "also"], ["proof (state)\nthis:\n  M + matrix_sum d f' n = matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have \"\\<dots> = 1\\<^sub>m d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n = 1\\<^sub>m d", "using measurement_def assms"], ["proof (prove)\nusing this:\n  measurement ?d ?n ?M =\n  ((\\<forall>j<?n. ?M j \\<in> carrier_mat ?d ?d) \\<and>\n   matrix_sum ?d (\\<lambda>j. adjoint (?M j) * ?M j) ?n = 1\\<^sub>m ?d)\n  measurement d n f\n\ngoal (1 subgoal):\n 1. matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n = 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  matrix_sum d (\\<lambda>k. adjoint (f k) * f k) n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "finally"], ["proof (chain)\npicking this:\n  M + matrix_sum d f' n = 1\\<^sub>m d", "have \"M + matrix_sum d f' n = 1\\<^sub>m d\""], ["proof (prove)\nusing this:\n  M + matrix_sum d f' n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. M + matrix_sum d f' n = 1\\<^sub>m d", "."], ["proof (state)\nthis:\n  M + matrix_sum d f' n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "moreover"], ["proof (state)\nthis:\n  M + matrix_sum d f' n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "have \"1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d", "using lowner_le_refl[of _ d]"], ["proof (prove)\nusing this:\n  ?A \\<in> carrier_mat d d \\<Longrightarrow> ?A \\<le>\\<^sub>L ?A\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "ultimately"], ["proof (chain)\npicking this:\n  M + matrix_sum d f' n = 1\\<^sub>m d\n  1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d", "have \"(M + matrix_sum d f' n) \\<le>\\<^sub>L 1\\<^sub>m d\""], ["proof (prove)\nusing this:\n  M + matrix_sum d f' n = 1\\<^sub>m d\n  1\\<^sub>m d \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. M + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  M + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       j < n \\<Longrightarrow> adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "then"], ["proof (chain)\npicking this:\n  M + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d", "show \"M \\<le>\\<^sub>L 1\\<^sub>m d\""], ["proof (prove)\nusing this:\n  M + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. M \\<le>\\<^sub>L 1\\<^sub>m d", "unfolding M_def"], ["proof (prove)\nusing this:\n  adjoint (f j) * f j + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "using add_positive_le_reduce1[OF _ dsf' one_carrier_mat psf'] daf j"], ["proof (prove)\nusing this:\n  adjoint (f j) * f j + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d\n  \\<lbrakk>?A \\<in> carrier_mat d d;\n   ?A + matrix_sum d f' n \\<le>\\<^sub>L 1\\<^sub>m d\\<rbrakk>\n  \\<Longrightarrow> ?A \\<le>\\<^sub>L 1\\<^sub>m d\n  ?k < n \\<Longrightarrow> adjoint (f ?k) * f ?k \\<in> carrier_mat d d\n  j < n\n\ngoal (1 subgoal):\n 1. adjoint (f j) * f j \\<le>\\<^sub>L 1\\<^sub>m d", "by auto"], ["proof (state)\nthis:\n  M \\<le>\\<^sub>L 1\\<^sub>m d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pdo_close_under_measurement:\n  fixes M \\<rho> :: \"complex mat\"\n  assumes dM: \"M \\<in> carrier_mat n n\" and dr: \"\\<rho> \\<in> carrier_mat n n\"\n    and pdor: \"partial_density_operator \\<rho>\"\n    and le: \"adjoint M * M \\<le>\\<^sub>L 1\\<^sub>m n\"\n  shows \"partial_density_operator (M * \\<rho> * adjoint M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. partial_density_operator (M * \\<rho> * adjoint M)", "unfolding partial_density_operator_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (M * \\<rho> * adjoint M) \\<and>\n    trace (M * \\<rho> * adjoint M) \\<le> 1", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. positive (M * \\<rho> * adjoint M)\n 2. trace (M * \\<rho> * adjoint M) \\<le> 1", "show \"positive (M * \\<rho> * adjoint M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (M * \\<rho> * adjoint M)", "using positive_close_under_left_right_mult_adjoint[OF dM dr] pdor partial_density_operator_def"], ["proof (prove)\nusing this:\n  positive \\<rho> \\<Longrightarrow> positive (M * \\<rho> * adjoint M)\n  partial_density_operator \\<rho>\n  partial_density_operator ?A = (positive ?A \\<and> trace ?A \\<le> 1)\n\ngoal (1 subgoal):\n 1. positive (M * \\<rho> * adjoint M)", "by auto"], ["proof (state)\nthis:\n  positive (M * \\<rho> * adjoint M)\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "have daM: \"adjoint M \\<in> carrier_mat n n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adjoint M \\<in> carrier_mat n n", "using dM"], ["proof (prove)\nusing this:\n  M \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint M \\<in> carrier_mat n n", "by auto"], ["proof (state)\nthis:\n  adjoint M \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "then"], ["proof (chain)\npicking this:\n  adjoint M \\<in> carrier_mat n n", "have daMM: \"adjoint M * M \\<in> carrier_mat n n\""], ["proof (prove)\nusing this:\n  adjoint M \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint M * M \\<in> carrier_mat n n", "using dM"], ["proof (prove)\nusing this:\n  adjoint M \\<in> carrier_mat n n\n  M \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. adjoint M * M \\<in> carrier_mat n n", "by auto"], ["proof (state)\nthis:\n  adjoint M * M \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "have \"trace (M * \\<rho> * adjoint M) = trace (adjoint M * M * \\<rho>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) = trace (adjoint M * M * \\<rho>)", "using dM dr"], ["proof (prove)\nusing this:\n  M \\<in> carrier_mat n n\n  \\<rho> \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) = trace (adjoint M * M * \\<rho>)", "by (mat_assoc n)"], ["proof (state)\nthis:\n  trace (M * \\<rho> * adjoint M) = trace (adjoint M * M * \\<rho>)\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "also"], ["proof (state)\nthis:\n  trace (M * \\<rho> * adjoint M) = trace (adjoint M * M * \\<rho>)\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "have \"\\<dots> \\<le> trace (1\\<^sub>m n * \\<rho>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (adjoint M * M * \\<rho>) \\<le> trace (1\\<^sub>m n * \\<rho>)", "using lowner_le_trace[where ?B = \"1\\<^sub>m n\" and ?A = \"adjoint M * M\", OF daMM one_carrier_mat] le dr pdor"], ["proof (prove)\nusing this:\n  (adjoint M * M \\<le>\\<^sub>L 1\\<^sub>m n) =\n  (\\<forall>\\<rho>\\<in>carrier_mat n n.\n      partial_density_operator \\<rho> \\<longrightarrow>\n      trace (adjoint M * M * \\<rho>) \\<le> trace (1\\<^sub>m n * \\<rho>))\n  adjoint M * M \\<le>\\<^sub>L 1\\<^sub>m n\n  \\<rho> \\<in> carrier_mat n n\n  partial_density_operator \\<rho>\n\ngoal (1 subgoal):\n 1. trace (adjoint M * M * \\<rho>) \\<le> trace (1\\<^sub>m n * \\<rho>)", "by auto"], ["proof (state)\nthis:\n  trace (adjoint M * M * \\<rho>) \\<le> trace (1\\<^sub>m n * \\<rho>)\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "also"], ["proof (state)\nthis:\n  trace (adjoint M * M * \\<rho>) \\<le> trace (1\\<^sub>m n * \\<rho>)\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "have \"\\<dots> = trace \\<rho>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (1\\<^sub>m n * \\<rho>) = trace \\<rho>", "using dr"], ["proof (prove)\nusing this:\n  \\<rho> \\<in> carrier_mat n n\n\ngoal (1 subgoal):\n 1. trace (1\\<^sub>m n * \\<rho>) = trace \\<rho>", "by auto"], ["proof (state)\nthis:\n  trace (1\\<^sub>m n * \\<rho>) = trace \\<rho>\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "also"], ["proof (state)\nthis:\n  trace (1\\<^sub>m n * \\<rho>) = trace \\<rho>\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "have \"\\<dots> \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace \\<rho> \\<le> 1", "using pdor partial_density_operator_def"], ["proof (prove)\nusing this:\n  partial_density_operator \\<rho>\n  partial_density_operator ?A = (positive ?A \\<and> trace ?A \\<le> 1)\n\ngoal (1 subgoal):\n 1. trace \\<rho> \\<le> 1", "by auto"], ["proof (state)\nthis:\n  trace \\<rho> \\<le> 1\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "finally"], ["proof (chain)\npicking this:\n  trace (M * \\<rho> * adjoint M) \\<le> 1", "show \"trace (M * \\<rho> * adjoint M) \\<le> 1\""], ["proof (prove)\nusing this:\n  trace (M * \\<rho> * adjoint M) \\<le> 1\n\ngoal (1 subgoal):\n 1. trace (M * \\<rho> * adjoint M) \\<le> 1", "by auto"], ["proof (state)\nthis:\n  trace (M * \\<rho> * adjoint M) \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trace_measurement:\n  assumes m: \"measurement d n M\" and dA: \"A \\<in> carrier_mat d d\"\n  shows \"trace (matrix_sum d (\\<lambda>k. (M k) * A * adjoint (M k)) n) = trace A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have dMk: \"k < n \\<Longrightarrow> (M k) \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "using m"], ["proof (prove)\nusing this:\n  measurement d n M\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "unfolding measurement_def"], ["proof (prove)\nusing this:\n  (\\<forall>j<n. M j \\<in> carrier_mat d d) \\<and>\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) n = 1\\<^sub>m d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> M k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d", "have daMk: \"k < n \\<Longrightarrow> adjoint (M k) \\<in> carrier_mat d d\" for k"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) \\<in> carrier_mat d d", "using m adjoint_dim"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  measurement d n M\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  adjoint ?A \\<in> carrier_mat ?n ?n\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) \\<in> carrier_mat d d", "unfolding measurement_def"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  (\\<forall>j<n. M j \\<in> carrier_mat d d) \\<and>\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) n = 1\\<^sub>m d\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  adjoint ?A \\<in> carrier_mat ?n ?n\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have d1: \"k < n \\<Longrightarrow> M k * A * adjoint (M k) \\<in> carrier_mat d d\"for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> M k * A * adjoint (M k) \\<in> carrier_mat d d", "using dMk daMk dA"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> adjoint (M ?k) \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> M k * A * adjoint (M k) \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> M ?k * A * adjoint (M ?k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> M ?k * A * adjoint (M ?k) \\<in> carrier_mat d d", "have ds1: \"k < n \\<Longrightarrow> matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k \\<in> carrier_mat d d\" for k"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k * A * adjoint (M ?k) \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k\n    \\<in> carrier_mat d d", "using matrix_sum_dim[of k \"\\<lambda>k. M k * A * adjoint (M k)\" d]"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k * A * adjoint (M ?k) \\<in> carrier_mat d d\n  (\\<And>ka.\n      ka < k \\<Longrightarrow>\n      M ka * A * adjoint (M ka) \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k\n    \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) ?k\n  \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have d2: \"k < n \\<Longrightarrow> adjoint (M k) *M k * A  \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) * M k * A \\<in> carrier_mat d d", "using daMk dMk dA"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) * M k * A \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k * A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "then"], ["proof (chain)\npicking this:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k * A \\<in> carrier_mat d d", "have ds2: \"k < n \\<Longrightarrow> matrix_sum d (\\<lambda>k. adjoint (M k) *M k * A) k \\<in> carrier_mat d d\" for k"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k * A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k\n    \\<in> carrier_mat d d", "using matrix_sum_dim[of k \"\\<lambda>k. adjoint (M k) *M k * A\" d]"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k * A \\<in> carrier_mat d d\n  (\\<And>ka.\n      ka < k \\<Longrightarrow>\n      adjoint (M ka) * M ka * A \\<in> carrier_mat d d) \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow>\n    matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k\n    \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) ?k\n  \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have daMMk: \"k < n \\<Longrightarrow> adjoint (M k) * M k \\<in> carrier_mat d d\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) * M k \\<in> carrier_mat d d", "using dMk"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. k < n \\<Longrightarrow> adjoint (M k) * M k \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have \"k \\<le> n \\<Longrightarrow> trace (matrix_sum d (\\<lambda>k. (M k) * A * adjoint (M k)) k) = trace (matrix_sum d (\\<lambda>k. adjoint (M k) * (M k) * A) k)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. k \\<le> n \\<Longrightarrow>\n    trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)", "proof (induct k)"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> n \\<Longrightarrow>\n    trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) 0) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) 0)\n 2. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "case 0"], ["proof (state)\nthis:\n  0 \\<le> n\n\ngoal (2 subgoals):\n 1. 0 \\<le> n \\<Longrightarrow>\n    trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) 0) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) 0)\n 2. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "then"], ["proof (chain)\npicking this:\n  0 \\<le> n", "show ?case"], ["proof (prove)\nusing this:\n  0 \\<le> n\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) 0) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) 0)", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) 0) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) 0)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "case (Suc k)"], ["proof (state)\nthis:\n  k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)\n  Suc k \\<le> n\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "then"], ["proof (chain)\npicking this:\n  k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)\n  Suc k \\<le> n", "have k: \"k < n\""], ["proof (prove)\nusing this:\n  k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)\n  Suc k \\<le> n\n\ngoal (1 subgoal):\n 1. k < n", "by auto"], ["proof (state)\nthis:\n  k < n\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "have \"trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)", "using dA"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)", "apply (mat_assoc d)"], ["proof (prove)\ngoal (1 subgoal):\n 1. M k \\<in> carrier_mat d d", "using dMk k"], ["proof (prove)\nusing this:\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  k < n\n\ngoal (1 subgoal):\n 1. M k \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>k \\<le> n \\<Longrightarrow>\n                trace\n                 (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n                trace\n                 (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k);\n        Suc k \\<le> n\\<rbrakk>\n       \\<Longrightarrow> trace\n                          (matrix_sum d\n                            (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n                         trace\n                          (matrix_sum d\n                            (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "then"], ["proof (chain)\npicking this:\n  trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)", "show ?case"], ["proof (prove)\nusing this:\n  trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))", "unfolding matrix_sum.simps"], ["proof (prove)\nusing this:\n  trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)\n\ngoal (1 subgoal):\n 1. trace\n     (M k * A * adjoint (M k) +\n      matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n    trace\n     (adjoint (M k) * M k * A +\n      matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)", "using ds1 ds2 d1 d2 k Suc daMk dMk dA"], ["proof (prove)\nusing this:\n  trace (M k * A * adjoint (M k)) = trace (adjoint (M k) * M k * A)\n  ?k < n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) ?k\n  \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow>\n  matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) ?k\n  \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> M ?k * A * adjoint (M ?k) \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> adjoint (M ?k) * M ?k * A \\<in> carrier_mat d d\n  k < n\n  k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)\n  Suc k \\<le> n\n  ?k < n \\<Longrightarrow> adjoint (M ?k) \\<in> carrier_mat d d\n  ?k < n \\<Longrightarrow> M ?k \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace\n     (M k * A * adjoint (M k) +\n      matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) k) =\n    trace\n     (adjoint (M k) * M k * A +\n      matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) k)", "by (subst trace_add_linear[of _ d], auto)+"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) (Suc k)) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) (Suc k))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) ?k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) ?k)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "then"], ["proof (chain)\npicking this:\n  ?k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) ?k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) ?k)", "have \"trace (matrix_sum d (\\<lambda>k. (M k) * A * adjoint (M k)) n) = trace (matrix_sum d (\\<lambda>k. adjoint (M k) * (M k) * A) n)\""], ["proof (prove)\nusing this:\n  ?k \\<le> n \\<Longrightarrow>\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) ?k) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) ?k)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n)", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "also"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have \"\\<dots> = trace (matrix_sum d (\\<lambda>k. adjoint (M k) * (M k)) n * A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A)", "using matrix_sum_mult_right[OF daMMk, of n id A] dA"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k. k < n \\<Longrightarrow> id k < n;\n   A \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> matrix_sum d\n                     (\\<lambda>k. adjoint (M (id k)) * M (id k) * A) n =\n                    matrix_sum d (\\<lambda>k. adjoint (M (id k)) * M (id k))\n                     n *\n                    A\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n) =\n    trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A)", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "also"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k * A) n) =\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A)\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "have \"\\<dots> = trace A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A) = trace A", "using m dA"], ["proof (prove)\nusing this:\n  measurement d n M\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A) = trace A", "unfolding measurement_def"], ["proof (prove)\nusing this:\n  (\\<forall>j<n. M j \\<in> carrier_mat d d) \\<and>\n  matrix_sum d (\\<lambda>j. adjoint (M j) * M j) n = 1\\<^sub>m d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A) = trace A", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. adjoint (M k) * M k) n * A) = trace A\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "finally"], ["proof (chain)\npicking this:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "show ?thesis"], ["proof (prove)\nusing this:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A\n\ngoal (1 subgoal):\n 1. trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A", "by auto"], ["proof (state)\nthis:\n  trace (matrix_sum d (\\<lambda>k. M k * A * adjoint (M k)) n) = trace A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_inc_seq_positive_transform:\n  assumes dfn: \"\\<And>n. f n \\<in> carrier_mat d d\"\n    and inc: \"\\<And>n. f n \\<le>\\<^sub>L f (Suc n)\"\n  shows \"\\<And>n. f n - f 0 \\<in> carrier_mat d d\" and \"\\<And>n. (f n - f 0) \\<le>\\<^sub>L (f (Suc n) - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n. f n - f 0 \\<in> carrier_mat d d) &&&\n    (\\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n. f n - f 0 \\<in> carrier_mat d d\n 2. \\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0", "show \"\\<And>n. f n - f 0 \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. f n - f 0 \\<in> carrier_mat d d", "using dfn"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n. f n - f 0 \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  f ?n - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0", "have \"f 0 \\<le>\\<^sub>L f 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f 0", "using lowner_le_refl[of \"f 0\" d] dfn"], ["proof (prove)\nusing this:\n  f 0 \\<in> carrier_mat d d \\<Longrightarrow> f 0 \\<le>\\<^sub>L f 0\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f 0", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L f 0\n\ngoal (1 subgoal):\n 1. \\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L f 0", "show \"(f n - f 0) \\<le>\\<^sub>L (f (Suc n) - f 0)\" for n"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f 0\n\ngoal (1 subgoal):\n 1. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0", "using lowner_le_minus[of \"f n\" d \"f (Suc n)\" \"f 0\" \"f 0\"] dfn inc"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f 0\n  \\<lbrakk>f n \\<in> carrier_mat d d; f (Suc n) \\<in> carrier_mat d d;\n   f 0 \\<in> carrier_mat d d; f 0 \\<in> carrier_mat d d;\n   f n \\<le>\\<^sub>L f (Suc n); f 0 \\<le>\\<^sub>L f 0\\<rbrakk>\n  \\<Longrightarrow> f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0\n  f ?n \\<in> carrier_mat d d\n  f ?n \\<le>\\<^sub>L f (Suc ?n)\n\ngoal (1 subgoal):\n 1. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0", "by fastforce"], ["proof (state)\nthis:\n  f ?n - f 0 \\<le>\\<^sub>L f (Suc ?n) - f 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_inc_seq_lub:\n  assumes dfn: \"\\<And>n. f n \\<in> carrier_mat d d\"\n    and inc: \"\\<And>n. f n \\<le>\\<^sub>L f (Suc n)\"\n    and ub: \"\\<And>n. f n \\<le>\\<^sub>L A\"\n  shows \"\\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have dmfn0: \"\\<And>n. f n - f 0 \\<in> carrier_mat d d\" and incm0: \"\\<And>n. (f n - f 0) \\<le>\\<^sub>L (f (Suc n) - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n. f n - f 0 \\<in> carrier_mat d d) &&&\n    (\\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0)", "using mat_inc_seq_positive_transform[OF dfn, of id] assms"], ["proof (prove)\nusing this:\n  (\\<And>n. f (id n) \\<le>\\<^sub>L f (id (Suc n))) \\<Longrightarrow>\n  f (id ?n) - f (id 0) \\<in> carrier_mat d d\n  (\\<And>n. f (id n) \\<le>\\<^sub>L f (id (Suc n))) \\<Longrightarrow>\n  f (id ?n) - f (id 0) \\<le>\\<^sub>L f (id (Suc ?n)) - f (id 0)\n  f ?n \\<in> carrier_mat d d\n  f ?n \\<le>\\<^sub>L f (Suc ?n)\n  f ?n \\<le>\\<^sub>L A\n\ngoal (1 subgoal):\n 1. (\\<And>n. f n - f 0 \\<in> carrier_mat d d) &&&\n    (\\<And>n. f n - f 0 \\<le>\\<^sub>L f (Suc n) - f 0)", "by auto"], ["proof (state)\nthis:\n  f ?n - f 0 \\<in> carrier_mat d d\n  f ?n - f 0 \\<le>\\<^sub>L f (Suc ?n) - f 0\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "define c where \"c = 1 / (trace (A - f 0) + 1)\""], ["proof (state)\nthis:\n  c = 1 / (trace (A - f 0) + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"f 0 \\<le>\\<^sub>L A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L A", "using ub"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L A\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L A", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L A\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L A", "have dA: \"A \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L A\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "using ub"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L A\n  f ?n \\<le>\\<^sub>L A\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  dim_row (f 0) = dim_row A \\<and>\n  dim_col (f 0) = dim_col A \\<and> positive (A - f 0)\n  dim_row (f ?n) = dim_row A \\<and>\n  dim_col (f ?n) = dim_col A \\<and> positive (A - f ?n)\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "using dfn[of 0]"], ["proof (prove)\nusing this:\n  dim_row (f 0) = dim_row A \\<and>\n  dim_col (f 0) = dim_col A \\<and> positive (A - f 0)\n  dim_row (f ?n) = dim_row A \\<and>\n  dim_col (f ?n) = dim_col A \\<and> positive (A - f ?n)\n  f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat d d", "by fastforce"], ["proof (state)\nthis:\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  A \\<in> carrier_mat d d", "have dAmf0: \"A - f 0 \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. A - f 0 \\<in> carrier_mat d d", "using dfn[of 0]"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat d d\n  f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. A - f 0 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  A - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"positive (A - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. positive (A - f 0)", "using ub lowner_le_def"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L A\n  (?A \\<le>\\<^sub>L ?B) =\n  (dim_row ?A = dim_row ?B \\<and>\n   dim_col ?A = dim_col ?B \\<and> positive (?B - ?A))\n\ngoal (1 subgoal):\n 1. positive (A - f 0)", "by auto"], ["proof (state)\nthis:\n  positive (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  positive (A - f 0)", "have tgeq0: \"trace (A - f 0) \\<ge> 0\""], ["proof (prove)\nusing this:\n  positive (A - f 0)\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (A - f 0)", "using positive_trace dAmf0"], ["proof (prove)\nusing this:\n  positive (A - f 0)\n  \\<lbrakk>?A \\<in> carrier_mat ?n ?n; positive ?A\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> trace ?A\n  A - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. 0 \\<le> trace (A - f 0)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> trace (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  0 \\<le> trace (A - f 0)", "have \"trace (A - f 0) + 1 > 0\""], ["proof (prove)\nusing this:\n  0 \\<le> trace (A - f 0)\n\ngoal (1 subgoal):\n 1. 0 < trace (A - f 0) + 1", "by auto"], ["proof (state)\nthis:\n  0 < trace (A - f 0) + 1\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  0 < trace (A - f 0) + 1", "have gtc: \"c > 0\""], ["proof (prove)\nusing this:\n  0 < trace (A - f 0) + 1\n\ngoal (1 subgoal):\n 1. 0 < c", "unfolding c_def"], ["proof (prove)\nusing this:\n  0 < trace (A - f 0) + 1\n\ngoal (1 subgoal):\n 1. 0 < 1 / (trace (A - f 0) + 1)", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  0 < trace (A - f 0) + 1\n  (?z \\<in> \\<real>) = (Im ?z = 0)\n\ngoal (1 subgoal):\n 1. 0 < 1 / (trace (A - f 0) + 1)", "by auto"], ["proof (state)\nthis:\n  0 < c\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  0 < c", "have gtci: \"(1 / c) > 0\""], ["proof (prove)\nusing this:\n  0 < c\n\ngoal (1 subgoal):\n 1. 0 < 1 / c", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  0 < c\n  (?z \\<in> \\<real>) = (Im ?z = 0)\n\ngoal (1 subgoal):\n 1. 0 < 1 / c", "by auto"], ["proof (state)\nthis:\n  0 < 1 / c\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"trace (c \\<cdot>\\<^sub>m (A - f 0)) = c * trace (A - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (A - f 0)) = c * trace (A - f 0)", "using trace_smult dAmf0"], ["proof (prove)\nusing this:\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow>\n  trace (?c \\<cdot>\\<^sub>m ?A) = ?c * trace ?A\n  A - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (A - f 0)) = c * trace (A - f 0)", "by auto"], ["proof (state)\nthis:\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) = c * trace (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "also"], ["proof (state)\nthis:\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) = c * trace (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"\\<dots> = (1 / (trace (A - f 0) + 1)) * trace (A - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c * trace (A - f 0) = 1 / (trace (A - f 0) + 1) * trace (A - f 0)", "unfolding c_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (trace (A - f 0) + 1) * trace (A - f 0) =\n    1 / (trace (A - f 0) + 1) * trace (A - f 0)", "by auto"], ["proof (state)\nthis:\n  c * trace (A - f 0) = 1 / (trace (A - f 0) + 1) * trace (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "also"], ["proof (state)\nthis:\n  c * trace (A - f 0) = 1 / (trace (A - f 0) + 1) * trace (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"\\<dots> < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (trace (A - f 0) + 1) * trace (A - f 0) < 1", "using tgeq0"], ["proof (prove)\nusing this:\n  0 \\<le> trace (A - f 0)\n\ngoal (1 subgoal):\n 1. 1 / (trace (A - f 0) + 1) * trace (A - f 0) < 1", "by (simp add: complex_is_Real_iff)"], ["proof (state)\nthis:\n  1 / (trace (A - f 0) + 1) * trace (A - f 0) < 1\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "finally"], ["proof (chain)\npicking this:\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1", "have lt1: \"trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1\""], ["proof (prove)\nusing this:\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1", "."], ["proof (state)\nthis:\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have le0: \"- f 0 \\<le>\\<^sub>L - f 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - f 0 \\<le>\\<^sub>L - f 0", "using lowner_le_refl[of \"- f 0\" d] dfn"], ["proof (prove)\nusing this:\n  - f 0 \\<in> carrier_mat d d \\<Longrightarrow> - f 0 \\<le>\\<^sub>L - f 0\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. - f 0 \\<le>\\<^sub>L - f 0", "by auto"], ["proof (state)\nthis:\n  - f 0 \\<le>\\<^sub>L - f 0\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have dmf0: \"- f 0 \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - f 0 \\<in> carrier_mat d d", "using dfn"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. - f 0 \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have mf0smcle: \"(c \\<cdot>\\<^sub>m (X - f 0)) \\<le>\\<^sub>L (c \\<cdot>\\<^sub>m (Y - f 0))\" if \"X \\<le>\\<^sub>L Y\" and \"X \\<in> carrier_mat d d\" and \"Y \\<in> carrier_mat d d\" for X Y"], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "have \"(X - f 0) \\<le>\\<^sub>L (Y - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X - f 0 \\<le>\\<^sub>L Y - f 0", "using lowner_le_minus[of \"X\" d \"Y\" \"f 0\" \"f 0\"] that dfn lowner_le_refl"], ["proof (prove)\nusing this:\n  \\<lbrakk>X \\<in> carrier_mat d d; Y \\<in> carrier_mat d d;\n   f 0 \\<in> carrier_mat d d; f 0 \\<in> carrier_mat d d; X \\<le>\\<^sub>L Y;\n   f 0 \\<le>\\<^sub>L f 0\\<rbrakk>\n  \\<Longrightarrow> X - f 0 \\<le>\\<^sub>L Y - f 0\n  X \\<le>\\<^sub>L Y\n  X \\<in> carrier_mat d d\n  Y \\<in> carrier_mat d d\n  f ?n \\<in> carrier_mat d d\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow> ?A \\<le>\\<^sub>L ?A\n\ngoal (1 subgoal):\n 1. X - f 0 \\<le>\\<^sub>L Y - f 0", "by auto"], ["proof (state)\nthis:\n  X - f 0 \\<le>\\<^sub>L Y - f 0\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "then"], ["proof (chain)\npicking this:\n  X - f 0 \\<le>\\<^sub>L Y - f 0", "show ?thesis"], ["proof (prove)\nusing this:\n  X - f 0 \\<le>\\<^sub>L Y - f 0\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "using lowner_le_smultc[of c \"(X - f 0)\" \"Y - f 0\" d]"], ["proof (prove)\nusing this:\n  X - f 0 \\<le>\\<^sub>L Y - f 0\n  \\<lbrakk>0 \\<le> c; X - f 0 \\<le>\\<^sub>L Y - f 0;\n   X - f 0 \\<in> carrier_mat d d; Y - f 0 \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m (Y - f 0)\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "using that dfn gtc"], ["proof (prove)\nusing this:\n  X - f 0 \\<le>\\<^sub>L Y - f 0\n  \\<lbrakk>0 \\<le> c; X - f 0 \\<le>\\<^sub>L Y - f 0;\n   X - f 0 \\<in> carrier_mat d d; Y - f 0 \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m (Y - f 0)\n  X \\<le>\\<^sub>L Y\n  X \\<in> carrier_mat d d\n  Y \\<in> carrier_mat d d\n  f ?n \\<in> carrier_mat d d\n  0 < c\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)", "by fastforce"], ["proof (state)\nthis:\n  c \\<cdot>\\<^sub>m (X - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (Y - f 0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?X \\<le>\\<^sub>L ?Y; ?X \\<in> carrier_mat d d;\n   ?Y \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (?X - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m (?Y - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"(c \\<cdot>\\<^sub>m (f n - f 0)) \\<le>\\<^sub>L (c \\<cdot>\\<^sub>m (A - f 0))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)", "using mf0smcle ub dfn dA"], ["proof (prove)\nusing this:\n  \\<lbrakk>?X \\<le>\\<^sub>L ?Y; ?X \\<in> carrier_mat d d;\n   ?Y \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (?X - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m (?Y - f 0)\n  f ?n \\<le>\\<^sub>L A\n  f ?n \\<in> carrier_mat d d\n  A \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)", "by auto"], ["proof (state)\nthis:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)", "have \"trace (c \\<cdot>\\<^sub>m (f n - f 0)) \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))\" for n"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (f n - f 0))\n    \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))", "using lowner_le_imp_trace_le[of \"c \\<cdot>\\<^sub>m (f n - f 0)\" d] dmfn0 dAmf0"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (A - f 0)\n  \\<lbrakk>c \\<cdot>\\<^sub>m (f n - f 0) \\<in> carrier_mat d d;\n   ?B \\<in> carrier_mat d d;\n   c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L ?B\\<rbrakk>\n  \\<Longrightarrow> trace (c \\<cdot>\\<^sub>m (f n - f 0)) \\<le> trace ?B\n  f ?n - f 0 \\<in> carrier_mat d d\n  A - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (f n - f 0))\n    \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))", "by auto"], ["proof (state)\nthis:\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0))\n  \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0))\n  \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))", "have trlt1: \"trace (c \\<cdot>\\<^sub>m (f n - f 0)) < 1\" for n"], ["proof (prove)\nusing this:\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0))\n  \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (f n - f 0)) < 1", "using lt1"], ["proof (prove)\nusing this:\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0))\n  \\<le> trace (c \\<cdot>\\<^sub>m (A - f 0))\n  trace (c \\<cdot>\\<^sub>m (A - f 0)) < 1\n\ngoal (1 subgoal):\n 1. trace (c \\<cdot>\\<^sub>m (f n - f 0)) < 1", "by fastforce"], ["proof (state)\nthis:\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0)) < 1\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"f 0 \\<le>\\<^sub>L f n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f 0 \\<le>\\<^sub>L f 0\n 2. \\<And>n.\n       f 0 \\<le>\\<^sub>L f n \\<Longrightarrow> f 0 \\<le>\\<^sub>L f (Suc n)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. f 0 \\<le>\\<^sub>L f 0\n 2. \\<And>n.\n       f 0 \\<le>\\<^sub>L f n \\<Longrightarrow> f 0 \\<le>\\<^sub>L f (Suc n)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f 0", "using dfn lowner_le_refl"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat d d\n  ?A \\<in> carrier_mat ?n ?n \\<Longrightarrow> ?A \\<le>\\<^sub>L ?A\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f 0", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L f 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f 0 \\<le>\\<^sub>L f n \\<Longrightarrow> f 0 \\<le>\\<^sub>L f (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       f 0 \\<le>\\<^sub>L f n \\<Longrightarrow> f 0 \\<le>\\<^sub>L f (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L f n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f 0 \\<le>\\<^sub>L f n \\<Longrightarrow> f 0 \\<le>\\<^sub>L f (Suc n)", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L f n", "show ?case"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f n\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f (Suc n)", "using dfn lowner_le_trans[of \"f 0\" d \"f n\"] inc"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f n\n  f ?n \\<in> carrier_mat d d\n  \\<lbrakk>f 0 \\<in> carrier_mat d d; f n \\<in> carrier_mat d d;\n   ?C \\<in> carrier_mat d d; f 0 \\<le>\\<^sub>L f n;\n   f n \\<le>\\<^sub>L ?C\\<rbrakk>\n  \\<Longrightarrow> f 0 \\<le>\\<^sub>L ?C\n  f ?n \\<le>\\<^sub>L f (Suc ?n)\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L f (Suc n)", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L f (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L f ?n\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L f ?n", "have \"positive (f n - f 0)\" for n"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f ?n\n\ngoal (1 subgoal):\n 1. positive (f n - f 0)", "using lowner_le_def"], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L f ?n\n  (?A \\<le>\\<^sub>L ?B) =\n  (dim_row ?A = dim_row ?B \\<and>\n   dim_col ?A = dim_col ?B \\<and> positive (?B - ?A))\n\ngoal (1 subgoal):\n 1. positive (f n - f 0)", "by auto"], ["proof (state)\nthis:\n  positive (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  positive (f ?n - f 0)", "have p: \"positive (c \\<cdot>\\<^sub>m (f n - f 0))\" for n"], ["proof (prove)\nusing this:\n  positive (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. positive (c \\<cdot>\\<^sub>m (f n - f 0))", "by (intro positive_smult, insert gtc dmfn0, auto)"], ["proof (state)\nthis:\n  positive (c \\<cdot>\\<^sub>m (f ?n - f 0))\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have inc': \"c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (f (Suc n) - f 0)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n    c \\<cdot>\\<^sub>m (f (Suc n) - f 0)", "using incm0 lowner_le_smultc[of c \"f n - f 0\"] gtc dmfn0"], ["proof (prove)\nusing this:\n  f ?n - f 0 \\<le>\\<^sub>L f (Suc ?n) - f 0\n  \\<lbrakk>0 \\<le> c; f n - f 0 \\<le>\\<^sub>L ?B;\n   f n - f 0 \\<in> carrier_mat ?n ?n; ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m ?B\n  0 < c\n  f ?n - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n    c \\<cdot>\\<^sub>m (f (Suc n) - f 0)", "by fastforce"], ["proof (state)\nthis:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L\n  c \\<cdot>\\<^sub>m (f (Suc ?n) - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "define g where \"g n = c \\<cdot>\\<^sub>m (f n - f 0)\" for n"], ["proof (state)\nthis:\n  g ?n = c \\<cdot>\\<^sub>m (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  g ?n = c \\<cdot>\\<^sub>m (f ?n - f 0)", "have \"positive (g n)\" and \"trace (g n) < 1\" and \"(g n) \\<le>\\<^sub>L (g (Suc n))\" and dgn: \"(g n) \\<in> carrier_mat d d\" for n"], ["proof (prove)\nusing this:\n  g ?n = c \\<cdot>\\<^sub>m (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. (positive (g n) &&& trace (g n) < 1) &&&\n    g n \\<le>\\<^sub>L g (Suc n) &&& g n \\<in> carrier_mat d d", "unfolding g_def"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) = c \\<cdot>\\<^sub>m (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. (positive (c \\<cdot>\\<^sub>m (f n - f 0)) &&&\n     trace (c \\<cdot>\\<^sub>m (f n - f 0)) < 1) &&&\n    c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n    c \\<cdot>\\<^sub>m (f (Suc n) - f 0) &&&\n    c \\<cdot>\\<^sub>m (f n - f 0) \\<in> carrier_mat d d", "using p trlt1 inc' dmfn0"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) = c \\<cdot>\\<^sub>m (f ?n - f 0)\n  positive (c \\<cdot>\\<^sub>m (f ?n - f 0))\n  trace (c \\<cdot>\\<^sub>m (f ?n - f 0)) < 1\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L\n  c \\<cdot>\\<^sub>m (f (Suc ?n) - f 0)\n  f ?n - f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. (positive (c \\<cdot>\\<^sub>m (f n - f 0)) &&&\n     trace (c \\<cdot>\\<^sub>m (f n - f 0)) < 1) &&&\n    c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n    c \\<cdot>\\<^sub>m (f (Suc n) - f 0) &&&\n    c \\<cdot>\\<^sub>m (f n - f 0) \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  positive (g ?n)\n  trace (g ?n) < 1\n  g ?n \\<le>\\<^sub>L g (Suc ?n)\n  g ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  positive (g ?n)\n  trace (g ?n) < 1\n  g ?n \\<le>\\<^sub>L g (Suc ?n)\n  g ?n \\<in> carrier_mat d d", "have ms: \"matrix_seq d g\""], ["proof (prove)\nusing this:\n  positive (g ?n)\n  trace (g ?n) < 1\n  g ?n \\<le>\\<^sub>L g (Suc ?n)\n  g ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. matrix_seq d g", "unfolding matrix_seq_def partial_density_operator_def"], ["proof (prove)\nusing this:\n  positive (g ?n)\n  trace (g ?n) < 1\n  g ?n \\<le>\\<^sub>L g (Suc ?n)\n  g ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. (\\<forall>n. g n \\<in> carrier_mat d d) \\<and>\n    (\\<forall>n. positive (g n) \\<and> trace (g n) \\<le> 1) \\<and>\n    (\\<forall>n. g n \\<le>\\<^sub>L g (Suc n))", "by fastforce"], ["proof (state)\nthis:\n  matrix_seq d g\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  matrix_seq d g", "have uniM: \"\\<exists>!M. matrix_seq.lowner_is_lub g M\""], ["proof (prove)\nusing this:\n  matrix_seq d g\n\ngoal (1 subgoal):\n 1. \\<exists>!M. matrix_seq.lowner_is_lub g M", "using matrix_seq.lowner_lub_unique"], ["proof (prove)\nusing this:\n  matrix_seq d g\n  matrix_seq ?dim ?f \\<Longrightarrow>\n  \\<exists>!M. matrix_seq.lowner_is_lub ?f M\n\ngoal (1 subgoal):\n 1. \\<exists>!M. matrix_seq.lowner_is_lub g M", "by auto"], ["proof (state)\nthis:\n  \\<exists>!M. matrix_seq.lowner_is_lub g M\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  \\<exists>!M. matrix_seq.lowner_is_lub g M", "obtain M where M: \"matrix_seq.lowner_is_lub g M\""], ["proof (prove)\nusing this:\n  \\<exists>!M. matrix_seq.lowner_is_lub g M\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        matrix_seq.lowner_is_lub g M \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  matrix_seq.lowner_is_lub g M\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  matrix_seq.lowner_is_lub g M", "have leg: \"g n \\<le>\\<^sub>L M\" and lubg: \"\\<And>M'. (\\<forall>n. g n \\<le>\\<^sub>L M') \\<longrightarrow> M \\<le>\\<^sub>L M'\" for n"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_is_lub g M\n\ngoal (1 subgoal):\n 1. g n \\<le>\\<^sub>L M &&&\n    (\\<And>M'.\n        (\\<forall>n. g n \\<le>\\<^sub>L M') \\<longrightarrow>\n        M \\<le>\\<^sub>L M')", "unfolding matrix_seq.lowner_is_lub_def[OF ms]"], ["proof (prove)\nusing this:\n  (\\<forall>n. g n \\<le>\\<^sub>L M) \\<and>\n  (\\<forall>M'.\n      (\\<forall>n. g n \\<le>\\<^sub>L M') \\<longrightarrow>\n      M \\<le>\\<^sub>L M')\n\ngoal (1 subgoal):\n 1. g n \\<le>\\<^sub>L M &&&\n    (\\<And>M'.\n        (\\<forall>n. g n \\<le>\\<^sub>L M') \\<longrightarrow>\n        M \\<le>\\<^sub>L M')", "by auto"], ["proof (state)\nthis:\n  g ?n \\<le>\\<^sub>L M\n  (\\<forall>n. g n \\<le>\\<^sub>L ?M') \\<longrightarrow> M \\<le>\\<^sub>L ?M'\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"M = matrix_seq.lowner_lub g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M = matrix_seq.lowner_lub g", "using matrix_seq.lowner_lub_def[OF ms] M uniM theI_unique[of \"matrix_seq.lowner_is_lub g\"]"], ["proof (prove)\nusing this:\n  matrix_seq.lowner_lub g = (THE M. matrix_seq.lowner_is_lub g M)\n  matrix_seq.lowner_is_lub g M\n  \\<exists>!M. matrix_seq.lowner_is_lub g M\n  \\<exists>!x. matrix_seq.lowner_is_lub g x \\<Longrightarrow>\n  matrix_seq.lowner_is_lub g ?x = (?x = The (matrix_seq.lowner_is_lub g))\n\ngoal (1 subgoal):\n 1. M = matrix_seq.lowner_lub g", "by auto"], ["proof (state)\nthis:\n  M = matrix_seq.lowner_lub g\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  M = matrix_seq.lowner_lub g", "have limg: \"limit_mat g M d\""], ["proof (prove)\nusing this:\n  M = matrix_seq.lowner_lub g\n\ngoal (1 subgoal):\n 1. limit_mat g M d", "using M matrix_seq.lowner_lub_is_limit[OF ms]"], ["proof (prove)\nusing this:\n  M = matrix_seq.lowner_lub g\n  matrix_seq.lowner_is_lub g M\n  limit_mat g (matrix_seq.lowner_lub g) d\n\ngoal (1 subgoal):\n 1. limit_mat g M d", "by auto"], ["proof (state)\nthis:\n  limit_mat g M d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  limit_mat g M d", "have dM: \"M \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  limit_mat g M d\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat d d", "unfolding limit_mat_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     g n \\<in> carrier_mat d d \\<and>\n     M \\<in> carrier_mat d d \\<and>\n     (\\<forall>i<d.\n         \\<forall>j<d.\n            (\\<lambda>n. g n $$ (i, j))\n            \\<longlonglongrightarrow> M $$ (i, j))\n\ngoal (1 subgoal):\n 1. M \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  M \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "define B where \"B = f 0 + (1 / c) \\<cdot>\\<^sub>m M\""], ["proof (state)\nthis:\n  B = f 0 + 1 / c \\<cdot>\\<^sub>m M\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have eqinv: \"f 0 + (1 / c) \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X\" if \"X \\<in> carrier_mat d d\" for X"], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"f 0 + (1 / c) \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = f 0 + (1 / c * c) \\<cdot>\\<^sub>m (X - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) =\n    f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0)", "apply (subgoal_tac \"(1 / c) \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = (1 / c * c) \\<cdot>\\<^sub>m (X - f 0)\", simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) =\n    1 / c * c \\<cdot>\\<^sub>m (X - f 0)", "using smult_smult_mat dfn that"], ["proof (prove)\nusing this:\n  ?A \\<in> carrier_mat ?nr ?n \\<Longrightarrow>\n  ?k \\<cdot>\\<^sub>m (?l \\<cdot>\\<^sub>m ?A) = ?k * ?l \\<cdot>\\<^sub>m ?A\n  f ?n \\<in> carrier_mat d d\n  X \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) =\n    1 / c * c \\<cdot>\\<^sub>m (X - f 0)", "by auto"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) =\n  f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "also"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) =\n  f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"\\<dots> = f 0 + 1 \\<cdot>\\<^sub>m (X - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0) =\n    f 0 + 1 \\<cdot>\\<^sub>m (X - f 0)", "using gtc"], ["proof (prove)\nusing this:\n  0 < c\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0) =\n    f 0 + 1 \\<cdot>\\<^sub>m (X - f 0)", "by auto"], ["proof (state)\nthis:\n  f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0) =\n  f 0 + 1 \\<cdot>\\<^sub>m (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "also"], ["proof (state)\nthis:\n  f 0 + 1 / c * c \\<cdot>\\<^sub>m (X - f 0) =\n  f 0 + 1 \\<cdot>\\<^sub>m (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"\\<dots> = f 0 + (X - f 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 \\<cdot>\\<^sub>m (X - f 0) = f 0 + (X - f 0)", "by auto"], ["proof (state)\nthis:\n  f 0 + 1 \\<cdot>\\<^sub>m (X - f 0) = f 0 + (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "also"], ["proof (state)\nthis:\n  f 0 + 1 \\<cdot>\\<^sub>m (X - f 0) = f 0 + (X - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"\\<dots> = (- f 0) + f 0 + X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + (X - f 0) = - f 0 + f 0 + X", "apply (mat_assoc d)"], ["proof (prove)\ngoal (2 subgoals):\n 1. f 0 \\<in> carrier_mat d d\n 2. X \\<in> carrier_mat d d", "using that dfn"], ["proof (prove)\nusing this:\n  X \\<in> carrier_mat d d\n  f ?n \\<in> carrier_mat d d\n\ngoal (2 subgoals):\n 1. f 0 \\<in> carrier_mat d d\n 2. X \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  f 0 + (X - f 0) = - f 0 + f 0 + X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "also"], ["proof (state)\nthis:\n  f 0 + (X - f 0) = - f 0 + f 0 + X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"\\<dots> = 0\\<^sub>m d d + X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - f 0 + f 0 + X = 0\\<^sub>m d d + X", "using dfn uminus_l_inv_mat[of \"f 0\" d d]"], ["proof (prove)\nusing this:\n  f ?n \\<in> carrier_mat d d\n  f 0 \\<in> carrier_mat d d \\<Longrightarrow> - f 0 + f 0 = 0\\<^sub>m d d\n\ngoal (1 subgoal):\n 1. - f 0 + f 0 + X = 0\\<^sub>m d d + X", "by fastforce"], ["proof (state)\nthis:\n  - f 0 + f 0 + X = 0\\<^sub>m d d + X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "also"], ["proof (state)\nthis:\n  - f 0 + f 0 + X = 0\\<^sub>m d d + X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "have \"\\<dots> = X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d + X = X", "using that"], ["proof (prove)\nusing this:\n  X \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. 0\\<^sub>m d d + X = X", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>m d d + X = X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "finally"], ["proof (chain)\npicking this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "show ?thesis"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X", "by auto"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (X - f 0)) = X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?X \\<in> carrier_mat d d \\<Longrightarrow>\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (?X - f 0)) = ?X\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"limit_mat (\\<lambda>n. (1 / c) \\<cdot>\\<^sub>m g n) ((1 / c) \\<cdot>\\<^sub>m M) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n     (1 / c \\<cdot>\\<^sub>m M) d", "using limit_mat_scale[OF limg] gtci"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. ?c \\<cdot>\\<^sub>m g n) (?c \\<cdot>\\<^sub>m M) d\n  0 < 1 / c\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n     (1 / c \\<cdot>\\<^sub>m M) d", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n   (1 / c \\<cdot>\\<^sub>m M) d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n   (1 / c \\<cdot>\\<^sub>m M) d", "have \"limit_mat (\\<lambda>n. f 0 + (1 / c) \\<cdot>\\<^sub>m g n) (f 0 + (1 / c) \\<cdot>\\<^sub>m M ) d\""], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n   (1 / c \\<cdot>\\<^sub>m M) d\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n     (f 0 + 1 / c \\<cdot>\\<^sub>m M) d", "using mat_add_limit[of \"f 0\"] limg dfn"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n   (1 / c \\<cdot>\\<^sub>m M) d\n  \\<lbrakk>f 0 \\<in> carrier_mat ?m ?m; limit_mat ?X ?A ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (mat_add_seq (f 0) ?X) (f 0 + ?A) ?m\n  limit_mat g M d\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n     (f 0 + 1 / c \\<cdot>\\<^sub>m M) d", "unfolding mat_add_seq_def"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. 1 / c \\<cdot>\\<^sub>m g n)\n   (1 / c \\<cdot>\\<^sub>m M) d\n  \\<lbrakk>f 0 \\<in> carrier_mat ?m ?m; limit_mat ?X ?A ?m\\<rbrakk>\n  \\<Longrightarrow> limit_mat (\\<lambda>n. f 0 + ?X n) (f 0 + ?A) ?m\n  limit_mat g M d\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n     (f 0 + 1 / c \\<cdot>\\<^sub>m M) d", "by auto"], ["proof (state)\nthis:\n  limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n   (f 0 + 1 / c \\<cdot>\\<^sub>m M) d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n   (f 0 + 1 / c \\<cdot>\\<^sub>m M) d", "have limf: \"limit_mat f B d\""], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n   (f 0 + 1 / c \\<cdot>\\<^sub>m M) d\n\ngoal (1 subgoal):\n 1. limit_mat f B d", "using eqinv[OF dfn]"], ["proof (prove)\nusing this:\n  limit_mat (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m g n)\n   (f 0 + 1 / c \\<cdot>\\<^sub>m M) d\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (f ?n1 - f 0)) = f ?n1\n\ngoal (1 subgoal):\n 1. limit_mat f B d", "unfolding B_def g_def"], ["proof (prove)\nusing this:\n  limit_mat\n   (\\<lambda>n. f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (f n - f 0)))\n   (f 0 + 1 / c \\<cdot>\\<^sub>m M) d\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (f ?n1 - f 0)) = f ?n1\n\ngoal (1 subgoal):\n 1. limit_mat f (f 0 + 1 / c \\<cdot>\\<^sub>m M) d", "by auto"], ["proof (state)\nthis:\n  limit_mat f B d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have f0acmcile: \"(f 0 + (1 / c) \\<cdot>\\<^sub>m X) \\<le>\\<^sub>L (f 0 + (1 / c) \\<cdot>\\<^sub>m Y )\" if \"X \\<le>\\<^sub>L Y\" and \"X \\<in> carrier_mat d d\" and \"Y \\<in> carrier_mat d d\" for X Y"], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m Y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m Y", "have \"((1 / c) \\<cdot>\\<^sub>m X) \\<le>\\<^sub>L ((1 / c) \\<cdot>\\<^sub>m Y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y", "using lowner_le_smultc[of \"1/c\"] that gtci"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> 1 / c; ?A \\<le>\\<^sub>L ?B; ?A \\<in> carrier_mat ?n ?n;\n   ?B \\<in> carrier_mat ?n ?n\\<rbrakk>\n  \\<Longrightarrow> 1 / c \\<cdot>\\<^sub>m ?A \\<le>\\<^sub>L\n                    1 / c \\<cdot>\\<^sub>m ?B\n  X \\<le>\\<^sub>L Y\n  X \\<in> carrier_mat d d\n  Y \\<in> carrier_mat d d\n  0 < 1 / c\n\ngoal (1 subgoal):\n 1. 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y", "by fastforce"], ["proof (state)\nthis:\n  1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m Y", "then"], ["proof (chain)\npicking this:\n  1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y", "show \"(f 0 + (1 / c) \\<cdot>\\<^sub>m X) \\<le>\\<^sub>L (f 0 + (1 / c) \\<cdot>\\<^sub>m Y)\""], ["proof (prove)\nusing this:\n  1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m Y", "using lowner_le_add[of _ d _ \"(1 / c) \\<cdot>\\<^sub>m X\" \"(1 / c) \\<cdot>\\<^sub>m Y\"]\n        that gtci dfn lowner_le_refl[of \"f 0\", OF dfn]"], ["proof (prove)\nusing this:\n  1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y\n  \\<lbrakk>?A \\<in> carrier_mat d d; ?B \\<in> carrier_mat d d;\n   1 / c \\<cdot>\\<^sub>m X \\<in> carrier_mat d d;\n   1 / c \\<cdot>\\<^sub>m Y \\<in> carrier_mat d d; ?A \\<le>\\<^sub>L ?B;\n   1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L 1 / c \\<cdot>\\<^sub>m Y\\<rbrakk>\n  \\<Longrightarrow> ?A + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n                    ?B + 1 / c \\<cdot>\\<^sub>m Y\n  X \\<le>\\<^sub>L Y\n  X \\<in> carrier_mat d d\n  Y \\<in> carrier_mat d d\n  0 < 1 / c\n  f ?n \\<in> carrier_mat d d\n  f 0 \\<le>\\<^sub>L f 0\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m Y", "by fastforce"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m X \\<le>\\<^sub>L f 0 + 1 / c \\<cdot>\\<^sub>m Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?X \\<le>\\<^sub>L ?Y; ?X \\<in> carrier_mat d d;\n   ?Y \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> f 0 + 1 / c \\<cdot>\\<^sub>m ?X \\<le>\\<^sub>L\n                    f 0 + 1 / c \\<cdot>\\<^sub>m ?Y\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"(f 0 + (1 / c) \\<cdot>\\<^sub>m g n) \\<le>\\<^sub>L (f 0 + (1 / c) \\<cdot>\\<^sub>m M )\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m g n \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m M", "using f0acmcile[OF leg dgn dM]"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m g ?n1 \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m M\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m g n \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m M", "by auto"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m g ?n \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m M\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m g ?n \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m M", "have lubf: \"f n \\<le>\\<^sub>L B\" for n"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m g ?n \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m M\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L B", "using eqinv[OF dfn] g_def B_def"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m g ?n \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m M\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (f ?n1 - f 0)) = f ?n1\n  g ?n = c \\<cdot>\\<^sub>m (f ?n - f 0)\n  B = f 0 + 1 / c \\<cdot>\\<^sub>m M\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L B", "by auto"], ["proof (state)\nthis:\n  f ?n \\<le>\\<^sub>L B\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "{"], ["proof (state)\nthis:\n  f ?n \\<le>\\<^sub>L B\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "fix B'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "assume asm: \"\\<forall>n. f n \\<le>\\<^sub>L B'\""], ["proof (state)\nthis:\n  \\<forall>n. f n \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  \\<forall>n. f n \\<le>\\<^sub>L B'", "have \"f 0 \\<le>\\<^sub>L B'\""], ["proof (prove)\nusing this:\n  \\<forall>n. f n \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. f 0 \\<le>\\<^sub>L B'", "by auto"], ["proof (state)\nthis:\n  f 0 \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f 0 \\<le>\\<^sub>L B'", "have dB': \"B' \\<in> carrier_mat d d\""], ["proof (prove)\nusing this:\n  f 0 \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. B' \\<in> carrier_mat d d", "unfolding lowner_le_def"], ["proof (prove)\nusing this:\n  dim_row (f 0) = dim_row B' \\<and>\n  dim_col (f 0) = dim_col B' \\<and> positive (B' - f 0)\n\ngoal (1 subgoal):\n 1. B' \\<in> carrier_mat d d", "using dfn[of 0]"], ["proof (prove)\nusing this:\n  dim_row (f 0) = dim_row B' \\<and>\n  dim_col (f 0) = dim_col B' \\<and> positive (B' - f 0)\n  f 0 \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. B' \\<in> carrier_mat d d", "by auto"], ["proof (state)\nthis:\n  B' \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "have \"f n \\<le>\\<^sub>L B'\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L B'", "using asm"], ["proof (prove)\nusing this:\n  \\<forall>n. f n \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. f n \\<le>\\<^sub>L B'", "by auto"], ["proof (state)\nthis:\n  f ?n \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f ?n \\<le>\\<^sub>L B'", "have \"(c \\<cdot>\\<^sub>m (f n - f 0)) \\<le>\\<^sub>L (c \\<cdot>\\<^sub>m (B' - f 0))\" for n"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "using mf0smcle[of \"f n\" B'] dfn dB'"], ["proof (prove)\nusing this:\n  f ?n \\<le>\\<^sub>L B'\n  \\<lbrakk>f n \\<le>\\<^sub>L B'; f n \\<in> carrier_mat d d;\n   B' \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L\n                    c \\<cdot>\\<^sub>m (B' - f 0)\n  f ?n \\<in> carrier_mat d d\n  B' \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. c \\<cdot>\\<^sub>m (f n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "by auto"], ["proof (state)\nthis:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "have \"g n \\<le>\\<^sub>L (c \\<cdot>\\<^sub>m (B' - f 0))\" for n"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. g n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "using g_def"], ["proof (prove)\nusing this:\n  c \\<cdot>\\<^sub>m (f ?n - f 0) \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n  g ?n = c \\<cdot>\\<^sub>m (f ?n - f 0)\n\ngoal (1 subgoal):\n 1. g n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "by auto"], ["proof (state)\nthis:\n  g ?n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  g ?n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "have \"M \\<le>\\<^sub>L  (c \\<cdot>\\<^sub>m (B' - f 0))\""], ["proof (prove)\nusing this:\n  g ?n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "using lubg"], ["proof (prove)\nusing this:\n  g ?n \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n  (\\<forall>n. g n \\<le>\\<^sub>L ?M') \\<longrightarrow> M \\<le>\\<^sub>L ?M'\n\ngoal (1 subgoal):\n 1. M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "by auto"], ["proof (state)\nthis:\n  M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)", "have \"(f 0 + (1 / c) \\<cdot>\\<^sub>m M) \\<le>\\<^sub>L (f 0 + (1 / c) \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0)))\""], ["proof (prove)\nusing this:\n  M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))", "using f0acmcile[of \"M\" \"(c \\<cdot>\\<^sub>m (B' - f 0))\", OF _ dM]"], ["proof (prove)\nusing this:\n  M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n  \\<lbrakk>M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0);\n   c \\<cdot>\\<^sub>m (B' - f 0) \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n                    f 0 +\n                    1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))", "using dB' dfn"], ["proof (prove)\nusing this:\n  M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0)\n  \\<lbrakk>M \\<le>\\<^sub>L c \\<cdot>\\<^sub>m (B' - f 0);\n   c \\<cdot>\\<^sub>m (B' - f 0) \\<in> carrier_mat d d\\<rbrakk>\n  \\<Longrightarrow> f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n                    f 0 +\n                    1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n  B' \\<in> carrier_mat d d\n  f ?n \\<in> carrier_mat d d\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n    f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))", "by fastforce"], ["proof (state)\nthis:\n  f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))", "have \"B \\<le>\\<^sub>L B'\""], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n\ngoal (1 subgoal):\n 1. B \\<le>\\<^sub>L B'", "unfolding B_def"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L B'", "using eqinv[OF dB']"], ["proof (prove)\nusing this:\n  f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0))\n  f 0 + 1 / c \\<cdot>\\<^sub>m (c \\<cdot>\\<^sub>m (B' - f 0)) = B'\n\ngoal (1 subgoal):\n 1. f 0 + 1 / c \\<cdot>\\<^sub>m M \\<le>\\<^sub>L B'", "by auto"], ["proof (state)\nthis:\n  B \\<le>\\<^sub>L B'\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "}"], ["proof (state)\nthis:\n  \\<forall>n. f n \\<le>\\<^sub>L ?B'2 \\<Longrightarrow> B \\<le>\\<^sub>L ?B'2\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "with limf lubf"], ["proof (chain)\npicking this:\n  limit_mat f B d\n  f ?n \\<le>\\<^sub>L B\n  \\<forall>n. f n \\<le>\\<^sub>L ?B'2 \\<Longrightarrow> B \\<le>\\<^sub>L ?B'2", "have \"((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and> (\\<forall>M'. (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow> B \\<le>\\<^sub>L M')) \\<and> limit_mat f B d\""], ["proof (prove)\nusing this:\n  limit_mat f B d\n  f ?n \\<le>\\<^sub>L B\n  \\<forall>n. f n \\<le>\\<^sub>L ?B'2 \\<Longrightarrow> B \\<le>\\<^sub>L ?B'2\n\ngoal (1 subgoal):\n 1. ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n     (\\<forall>M'.\n         (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n         B \\<le>\\<^sub>L M')) \\<and>\n    limit_mat f B d", "by auto"], ["proof (state)\nthis:\n  ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n   (\\<forall>M'.\n       (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n       B \\<le>\\<^sub>L M')) \\<and>\n  limit_mat f B d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "then"], ["proof (chain)\npicking this:\n  ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n   (\\<forall>M'.\n       (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n       B \\<le>\\<^sub>L M')) \\<and>\n  limit_mat f B d", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n   (\\<forall>M'.\n       (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n       B \\<le>\\<^sub>L M')) \\<and>\n  limit_mat f B d\n\ngoal (1 subgoal):\n 1. \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d", "unfolding lowner_is_lub_def"], ["proof (prove)\nusing this:\n  ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n   (\\<forall>M'.\n       (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n       B \\<le>\\<^sub>L M')) \\<and>\n  limit_mat f B d\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       ((\\<forall>n. f n \\<le>\\<^sub>L B) \\<and>\n        (\\<forall>M'.\n            (\\<forall>n. f n \\<le>\\<^sub>L M') \\<longrightarrow>\n            B \\<le>\\<^sub>L M')) \\<and>\n       limit_mat f B d", "by auto"], ["proof (state)\nthis:\n  \\<exists>B. lowner_is_lub f B \\<and> limit_mat f B d\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}