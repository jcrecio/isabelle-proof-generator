{"file_name": "/home/qj213/afp-2021-10-22/thys/Types_To_Sets_Extension/ETTS/Manual/ETTS_Examples.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Types_To_Sets_Extension", "problem_names": ["lemma closed_Un'':\n  assumes \"S \\<subseteq> U\"\n    and \"T \\<subseteq> U\"\n    and \"topological_space_ow U \\<tau>\"\n    and \"closed_ow U \\<tau> S\"\n    and \"closed_ow U \\<tau> T\"\n  shows \"closed_ow U \\<tau> (S \\<union> T)\""], "translations": [["", "lemma closed_Un'':\n  assumes \"S \\<subseteq> U\"\n    and \"T \\<subseteq> U\"\n    and \"topological_space_ow U \\<tau>\"\n    and \"closed_ow U \\<tau> S\"\n    and \"closed_ow U \\<tau> T\"\n  shows \"closed_ow U \\<tau> (S \\<union> T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_ow U \\<tau> (S \\<union> T)", "using assms"], ["proof (prove)\nusing this:\n  S \\<subseteq> U\n  T \\<subseteq> U\n  topological_space_ow U \\<tau>\n  closed_ow U \\<tau> S\n  closed_ow U \\<tau> T\n\ngoal (1 subgoal):\n 1. closed_ow U \\<tau> (S \\<union> T)", "unfolding topological_space_ow_def"], ["proof (prove)\nusing this:\n  S \\<subseteq> U\n  T \\<subseteq> U\n  \\<tau> U \\<and>\n  (\\<forall>K\\<in>Pow (Pow U).\n      Ball K \\<tau> \\<longrightarrow> \\<tau> (\\<Union> K)) \\<and>\n  (\\<forall>S\\<in>Pow U.\n      \\<forall>T\\<in>Pow U.\n         \\<tau> S \\<longrightarrow>\n         \\<tau> T \\<longrightarrow> \\<tau> (S \\<inter> T))\n  closed_ow U \\<tau> S\n  closed_ow U \\<tau> T\n\ngoal (1 subgoal):\n 1. closed_ow U \\<tau> (S \\<union> T)", "by (cases \\<open>U = {}\\<close>) (auto simp: assms(3) closed_Un' subset_iff)"], ["", "text\\<open>\nHowever, having to restate the theorem presents a grave inconvenience.\nThis can be avoided by using a different format of the @{syntax tts_addendum}:\n\\<close>"], ["", "tts_context\n  tts: (?'a to \\<open>U::'a set\\<close>)\nbegin"], ["", "tts_lemma closed_Un''':\n  assumes \"S \\<subseteq> U\"\n    and \"T \\<subseteq> U\"\n    and \"topological_space_ow U \\<tau>\"\n    and \"closed_ow U \\<tau> S\"\n    and \"closed_ow U \\<tau> T\"\n  shows \"closed_ow U \\<tau> (S \\<union> T)\"\n    given topological_space_class.closed_Un"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T)\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)", "proof(cases \\<open>U = {}\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U = {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)\n 2. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)", "case False"], ["proof (state)\nthis:\n  U \\<noteq> {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U = {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)\n 2. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)", "assume prems[OF False]:\n    \"\\<lbrakk> \n      U \\<noteq> {}; \n      \\<forall>x\\<in>S. x \\<in> U;\n      \\<forall>x\\<in>T. x \\<in> U; \n      topological_space_ow U \\<tau>;  \n      closed_ow U \\<tau> S;\n      closed_ow U \\<tau> T \n     \\<rbrakk> \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)\"\n    for U :: \"'a set\" and S T \\<tau>"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>x\\<in>?S. x \\<in> U; \\<forall>x\\<in>?T. x \\<in> U;\n   topological_space_ow U ?\\<tau>; closed_ow U ?\\<tau> ?S;\n   closed_ow U ?\\<tau> ?T\\<rbrakk>\n  \\<Longrightarrow> closed_ow U ?\\<tau> (?S \\<union> ?T)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U = {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)\n 2. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)", "from prems"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<forall>x\\<in>?S. x \\<in> U; \\<forall>x\\<in>?T. x \\<in> U;\n   topological_space_ow U ?\\<tau>; closed_ow U ?\\<tau> ?S;\n   closed_ow U ?\\<tau> ?T\\<rbrakk>\n  \\<Longrightarrow> closed_ow U ?\\<tau> (?S \\<union> ?T)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>x\\<in>?S. x \\<in> U; \\<forall>x\\<in>?T. x \\<in> U;\n   topological_space_ow U ?\\<tau>; closed_ow U ?\\<tau> ?S;\n   closed_ow U ?\\<tau> ?T\\<rbrakk>\n  \\<Longrightarrow> closed_ow U ?\\<tau> (?S \\<union> ?T)\n\ngoal (1 subgoal):\n 1. closed_ow U \\<tau> (S \\<union> T)", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>x\\<in>?S. x \\<in> U; \\<forall>x\\<in>?T. x \\<in> U;\n   topological_space_ow U ?\\<tau>; closed_ow U ?\\<tau> ?S;\n   closed_ow U ?\\<tau> ?T\\<rbrakk>\n  \\<Longrightarrow> closed_ow U ?\\<tau> (?S \\<union> ?T)\n  S \\<subseteq> U\n  T \\<subseteq> U\n  topological_space_ow U \\<tau>\n  closed_ow U \\<tau> S\n  closed_ow U \\<tau> T\n\ngoal (1 subgoal):\n 1. closed_ow U \\<tau> (S \\<union> T)", "by blast"], ["proof (state)\nthis:\n  closed_ow U \\<tau> (S \\<union> T)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> U; T \\<subseteq> U;\n     topological_space_ow U \\<tau>; closed_ow U \\<tau> S;\n     closed_ow U \\<tau> T;\n     \\<And>U S T open.\n        \\<lbrakk>U \\<noteq> {}; \\<forall>x\\<in>S. x \\<in> U;\n         \\<forall>x\\<in>T. x \\<in> U; topological_space_ow U open;\n         closed_ow U open S; closed_ow U open T\\<rbrakk>\n        \\<Longrightarrow> closed_ow U open (S \\<union> T);\n     U = {}\\<rbrakk>\n    \\<Longrightarrow> closed_ow U \\<tau> (S \\<union> T)", "qed simp"], ["", "end"], ["", "text\\<open>\nNevertheless, could there still be some space for improvement? \nIt turns out that instead of having to state\nthe theorem in the desired form manually, often enough, it suffices \nto provide additional parameters for post-processing\nof the raw set-based theorem, as demonstrated in the code below:\n\\<close>"], ["", "tts_context\n  tts: (?'a to \\<open>U::'a set\\<close>)\n  rewriting ctr_simps\n  eliminating \\<open>?U\\<noteq>{}\\<close> through (auto simp: topological_space_ow_def)\n  applying[of _ _ _ \\<tau>]\nbegin"], ["", "tts_lemma closed_Un'''':\n  assumes \"S \\<subseteq> U\"\n    and \"T \\<subseteq> U\"\n    and \"topological_space_ow U \\<tau>\"\n    and \"closed_ow U \\<tau> S\"\n    and \"closed_ow U \\<tau> T\"\n  shows \"closed_ow U \\<tau> (S \\<union> T)\"\n    is topological_space_class.closed_Un"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "end"], ["", "text\\<open>\nFinding the most suitable set of parameters for post-processing of the \nresult of the relativization is an iterative process and requires practice \nbefore fluency can be achieved.\n\\<close>"], ["", "text\\<open>\\newpage\\<close>"], ["", "end"]]}