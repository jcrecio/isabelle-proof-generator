{"file_name": "/home/qj213/afp-2021-10-22/thys/Types_To_Sets_Extension/Examples/TTS_Foundations/Foundations/FNDS_Definite_Description.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Types_To_Sets_Extension", "problem_names": ["lemma The_on_UNIV_eq_The:\n  assumes \"\\<exists>!x. P x\"\n  obtains x where \"(THE x on UNIV. P x) = Some x\" and \"(THE x. P x) = x\"", "lemma The_on_UNIV_None:\n  assumes \"\\<not>(\\<exists>!x. P x)\"\n  shows \"(THE x on UNIV. P x) = None\"", "lemma The_on_eq_The:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"(THE x. x \\<in> U \\<and> P x) = x\"", "lemma The_on_None:\n  assumes \"\\<not>(\\<exists>!x. x \\<in> U \\<and> P x)\"\n  shows \"(THE x on U. P x) = None\"", "lemma The_on_Some_equality[intro]:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"(THE x on U. P x) = Some a\"", "lemma The_on_equality[intro]:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"the (THE x on U. P x) = a\"", "lemma The_on_SomeI:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"P x\"", "lemma The_onI:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"P (the (THE x on U. P x))\"", "lemma The_on_SomeI': \n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" \n  obtains x where \"(THE x on U. P x) = Some x\" and \"P x\"", "lemma The_onI':\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" \n  shows \"P (the (THE x on U. P x))\"", "lemma The_on_SomeI2:\n  assumes \"a \\<in> U\" \n    and \"P a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"Q x\"", "lemma The_on_I2:\n  assumes \"a \\<in> U\" \n    and \"P a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  shows \"Q (the (THE x on U. P x))\"", "lemma The_on_Some1I2:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"Q x\"", "lemma The_on1I2:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  shows \"Q (the (THE x on U. P x))\"", "lemma The_on1_equality [elim?]: \n  assumes \"\\<exists>!x. P x\" and \"a \\<in> U\" and \"P a\" \n  shows \"(THE x on U. P x) = Some a\"", "lemma the_sym_eq_trivial: \n  assumes \"x \\<in> U\" \n  shows \"(THE y on U. x = y) = Some x\"", "lemma The_on_transfer[transfer_rule]:\n  includes lifting_syntax\n  assumes [transfer_rule]: \"bi_unique A\" \"right_total A\"\n  shows \"(rel_set A ===> (A ===> (=)) ===> rel_option A) The_on The_on\""], "translations": [["", "lemma The_on_UNIV_eq_The:\n  assumes \"\\<exists>!x. P x\"\n  obtains x where \"(THE x on UNIV. P x) = Some x\" and \"(THE x. P x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on UNIV. P x) = Some x; (THE x. P x) = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding The_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(if \\<exists>!x. x \\<in> UNIV \\<and> P x\n                  then Some (THE x. x \\<in> UNIV \\<and> P x) else None) =\n                 Some x;\n         (THE x. P x) = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (simp add: assms)"], ["", "lemma The_on_UNIV_None:\n  assumes \"\\<not>(\\<exists>!x. P x)\"\n  shows \"(THE x on UNIV. P x) = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x on UNIV. P x) = None", "unfolding The_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if \\<exists>!x. x \\<in> UNIV \\<and> P x\n     then Some (THE x. x \\<in> UNIV \\<and> P x) else None) =\n    None", "by (simp add: assms)"], ["", "lemma The_on_eq_The:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"(THE x. x \\<in> U \\<and> P x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x;\n         (THE x. x \\<in> U \\<and> P x) = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding The_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(if \\<exists>!x. x \\<in> U \\<and> P x\n                  then Some (THE x. x \\<in> U \\<and> P x) else None) =\n                 Some x;\n         (THE x. x \\<in> U \\<and> P x) = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (simp add: assms)"], ["", "lemma The_on_None:\n  assumes \"\\<not>(\\<exists>!x. x \\<in> U \\<and> P x)\"\n  shows \"(THE x on U. P x) = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x on U. P x) = None", "unfolding The_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if \\<exists>!x. x \\<in> U \\<and> P x\n     then Some (THE x. x \\<in> U \\<and> P x) else None) =\n    None", "by (auto simp: assms)"], ["", "lemma The_on_Some_equality[intro]:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"(THE x on U. P x) = Some a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "from assms"], ["proof (chain)\npicking this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a", "have \"\\<exists>!x. x \\<in> U \\<and> P x\""], ["proof (prove)\nusing this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a\n\ngoal (1 subgoal):\n 1. \\<exists>!x. x \\<in> U \\<and> P x", "by auto"], ["proof (state)\nthis:\n  \\<exists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "moreover"], ["proof (state)\nthis:\n  \\<exists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "have \"(THE x. x \\<in> U \\<and> P x) = a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x. x \\<in> U \\<and> P x) = a", "apply standard"], ["proof (prove)\ngoal (2 subgoals):\n 1. a \\<in> U \\<and> P a\n 2. \\<And>x. x \\<in> U \\<and> P x \\<Longrightarrow> x = a", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a\n\ngoal (2 subgoals):\n 1. a \\<in> U \\<and> P a\n 2. \\<And>x. x \\<in> U \\<and> P x \\<Longrightarrow> x = a", "by blast+"], ["proof (state)\nthis:\n  (THE x. x \\<in> U \\<and> P x) = a\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  (THE x. x \\<in> U \\<and> P x) = a", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  (THE x. x \\<in> U \\<and> P x) = a\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  (THE x. x \\<in> U \\<and> P x) = a\n\ngoal (1 subgoal):\n 1. (if \\<exists>!x. x \\<in> U \\<and> P x\n     then Some (THE x. x \\<in> U \\<and> P x) else None) =\n    Some a", "by auto"], ["proof (state)\nthis:\n  (THE x on U. P x) = Some a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma The_on_equality[intro]:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"the (THE x on U. P x) = a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the (THE x on U. P x) = a", "by (metis assms option.sel The_on_Some_equality)"], ["", "lemma The_on_SomeI:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"P x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(if \\<exists>!x. x \\<in> U \\<and> P x\n                  then Some (THE x. x \\<in> U \\<and> P x) else None) =\n                 Some x;\n         P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson that The_on_Some_equality)"], ["", "lemma The_onI:\n  assumes \"a \\<in> U\" and \"P a\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\"\n  shows \"P (the (THE x on U. P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (the (THE x on U. P x))", "by (metis assms The_on_equality)"], ["", "lemma The_on_SomeI': \n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" \n  obtains x where \"(THE x on U. P x) = Some x\" and \"P x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis assms The_on_SomeI)"], ["", "lemma The_onI':\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" \n  shows \"P (the (THE x on U. P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (the (THE x on U. P x))", "by (metis assms The_onI)"], ["", "lemma The_on_SomeI2:\n  assumes \"a \\<in> U\" \n    and \"P a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"Q x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; Q x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> U\n  P a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> ?x = a\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> Q ?x\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; Q x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma The_on_I2:\n  assumes \"a \\<in> U\" \n    and \"P a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> x = a\" \n    and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  shows \"Q (the (THE x on U. P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q (the (THE x on U. P x))", "by (metis assms The_on_equality)"], ["", "lemma The_on_Some1I2:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  obtains x where \"(THE x on U. P x) = Some x\" and \"Q x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; Q x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  \\<lbrakk>?x \\<in> U; P ?x\\<rbrakk> \\<Longrightarrow> Q ?x\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>(THE x on U. P x) = Some x; Q x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma The_on1I2:\n  assumes \"\\<exists>!x. x \\<in> U \\<and> P x\" and \"\\<And>x. x \\<in> U \\<Longrightarrow> P x \\<Longrightarrow> Q x\"\n  shows \"Q (the (THE x on U. P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q (the (THE x on U. P x))", "by (metis (mono_tags, hide_lams) The_on_I2 assms)"], ["", "lemma The_on1_equality [elim?]: \n  assumes \"\\<exists>!x. P x\" and \"a \\<in> U\" and \"P a\" \n  shows \"(THE x on U. P x) = Some a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>!x. P x\n  a \\<in> U\n  P a\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some a", "by blast"], ["", "lemma the_sym_eq_trivial: \n  assumes \"x \\<in> U\" \n  shows \"(THE y on U. x = y) = Some x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE y on U. x = y) = Some x", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> U\n\ngoal (1 subgoal):\n 1. (THE y on U. x = y) = Some x", "by blast"], ["", "subsection\\<open>Transfer rules\\<close>"], ["", "lemma The_on_transfer[transfer_rule]:\n  includes lifting_syntax\n  assumes [transfer_rule]: \"bi_unique A\" \"right_total A\"\n  shows \"(rel_set A ===> (A ===> (=)) ===> rel_option A) The_on The_on\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (rel_set A ===> (A ===> (=)) ===> rel_option A) The_on The_on", "proof(intro rel_funI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y xa ya.\n       \\<lbrakk>rel_set A x y; (A ===> (=)) xa ya\\<rbrakk>\n       \\<Longrightarrow> rel_option A (The_on x xa) (The_on y ya)", "fix U and U' and P :: \"'a \\<Rightarrow> bool\" and P' :: \"'b \\<Rightarrow> bool\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y xa ya.\n       \\<lbrakk>rel_set A x y; (A ===> (=)) xa ya\\<rbrakk>\n       \\<Longrightarrow> rel_option A (The_on x xa) (The_on y ya)", "assume UU'[transfer_rule]: \"rel_set A U U'\" \n    and PP'[transfer_rule]: \"(A ===> (=)) P P'\""], ["proof (state)\nthis:\n  rel_set A U U'\n  (A ===> (=)) P P'\n\ngoal (1 subgoal):\n 1. \\<And>x y xa ya.\n       \\<lbrakk>rel_set A x y; (A ===> (=)) xa ya\\<rbrakk>\n       \\<Longrightarrow> rel_option A (The_on x xa) (The_on y ya)", "show \"rel_option A (THE x on U. P x) (THE x on U'. P' x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "proof(cases \\<open>\\<exists>!x'. x' \\<in> U' \\<and> P' x'\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)\n 2. \\<nexists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "case True"], ["proof (state)\nthis:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n\ngoal (2 subgoals):\n 1. \\<exists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)\n 2. \\<nexists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from True"], ["proof (chain)\npicking this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'", "obtain x' where \"x' \\<in> U'\" and \"P' x'\""], ["proof (prove)\nusing this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> U'; P' x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by clarsimp"], ["proof (state)\nthis:\n  x' \\<in> U'\n  P' x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "with True"], ["proof (chain)\npicking this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n  x' \\<in> U'\n  P' x'", "have The_on': \"(THE x on U'. P' x) = Some x'\""], ["proof (prove)\nusing this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n  x' \\<in> U'\n  P' x'\n\ngoal (1 subgoal):\n 1. (THE x on U'. P' x) = Some x'", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n  x' \\<in> U'\n  P' x'\n\ngoal (1 subgoal):\n 1. (if \\<exists>!x. x \\<in> U' \\<and> P' x\n     then Some (THE x. x \\<in> U' \\<and> P' x) else None) =\n    Some x'", "by auto"], ["proof (state)\nthis:\n  (THE x on U'. P' x) = Some x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from assms(2)"], ["proof (chain)\npicking this:\n  right_total A", "obtain x where [transfer_rule]: \"A x x'\""], ["proof (prove)\nusing this:\n  right_total A\n\ngoal (1 subgoal):\n 1. (\\<And>x. A x x' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "unfolding right_total_def"], ["proof (prove)\nusing this:\n  \\<forall>y. \\<exists>x. A x y\n\ngoal (1 subgoal):\n 1. (\\<And>x. A x x' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  A x x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from True"], ["proof (chain)\npicking this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'", "have \"\\<forall>y'\\<in>U'. x' \\<noteq> y' \\<longrightarrow> (\\<not>P' y')\""], ["proof (prove)\nusing this:\n  \\<exists>!x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. \\<forall>y'\\<in>U'. x' \\<noteq> y' \\<longrightarrow> \\<not> P' y'", "by (auto simp: \\<open>x' \\<in> U'\\<close> \\<open>P' x'\\<close>)"], ["proof (state)\nthis:\n  \\<forall>y'\\<in>U'. x' \\<noteq> y' \\<longrightarrow> \\<not> P' y'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "then"], ["proof (chain)\npicking this:\n  \\<forall>y'\\<in>U'. x' \\<noteq> y' \\<longrightarrow> \\<not> P' y'", "have \"\\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> (\\<not>P y)\""], ["proof (prove)\nusing this:\n  \\<forall>y'\\<in>U'. x' \\<noteq> y' \\<longrightarrow> \\<not> P' y'\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y", "by transfer"], ["proof (state)\nthis:\n  \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "moreover"], ["proof (state)\nthis:\n  \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from \\<open>P' x'\\<close>"], ["proof (chain)\npicking this:\n  P' x'", "have \"P x\""], ["proof (prove)\nusing this:\n  P' x'\n\ngoal (1 subgoal):\n 1. P x", "by transfer"], ["proof (state)\nthis:\n  P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y\n  P x", "have \"\\<exists>!x. x \\<in> U \\<and> P x\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y\n  P x\n\ngoal (1 subgoal):\n 1. \\<exists>!x. x \\<in> U \\<and> P x", "using UU' \\<open>A x x'\\<close> \\<open>x' \\<in> U'\\<close> assms(1)"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>U. x \\<noteq> y \\<longrightarrow> \\<not> P y\n  P x\n  rel_set A U U'\n  A x x'\n  x' \\<in> U'\n  bi_unique A\n\ngoal (1 subgoal):\n 1. \\<exists>!x. x \\<in> U \\<and> P x", "by (auto dest: bi_uniqueDl rel_setD2)"], ["proof (state)\nthis:\n  \\<exists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "moreover"], ["proof (state)\nthis:\n  \\<exists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from \\<open>x' \\<in> U'\\<close>"], ["proof (chain)\npicking this:\n  x' \\<in> U'", "have \"x \\<in> U\""], ["proof (prove)\nusing this:\n  x' \\<in> U'\n\ngoal (1 subgoal):\n 1. x \\<in> U", "by transfer"], ["proof (state)\nthis:\n  x \\<in> U\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  x \\<in> U", "have The_on: \"(THE x on U. P x) = Some x\""], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  x \\<in> U\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some x", "using \\<open>P x\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  x \\<in> U\n  P x\n\ngoal (1 subgoal):\n 1. (THE x on U. P x) = Some x", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  \\<exists>!x. x \\<in> U \\<and> P x\n  x \\<in> U\n  P x\n\ngoal (1 subgoal):\n 1. (if \\<exists>!x. x \\<in> U \\<and> P x\n     then Some (THE x. x \\<in> U \\<and> P x) else None) =\n    Some x", "by auto"], ["proof (state)\nthis:\n  (THE x on U. P x) = Some x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "unfolding The_on The_on'"], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (Some x) (Some x')", "by transfer_prover"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal (1 subgoal):\n 1. \\<nexists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "case nux: False"], ["proof (state)\nthis:\n  \\<nexists>!x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. \\<nexists>!x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "proof(cases \\<open>\\<exists>x'. x' \\<in> U' \\<and> P' x'\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)\n 2. \\<nexists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "case True"], ["proof (state)\nthis:\n  \\<exists>x'. x' \\<in> U' \\<and> P' x'\n\ngoal (2 subgoals):\n 1. \\<exists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)\n 2. \\<nexists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from True"], ["proof (chain)\npicking this:\n  \\<exists>x'. x' \\<in> U' \\<and> P' x'", "obtain x' where \"x' \\<in> U'\" and \"P' x'\""], ["proof (prove)\nusing this:\n  \\<exists>x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> U'; P' x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by clarsimp"], ["proof (state)\nthis:\n  x' \\<in> U'\n  P' x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "with nux True"], ["proof (chain)\npicking this:\n  \\<nexists>!x'. x' \\<in> U' \\<and> P' x'\n  \\<exists>x'. x' \\<in> U' \\<and> P' x'\n  x' \\<in> U'\n  P' x'", "obtain y' where \"y' \\<in> U'\" and \"P' y'\" and \"x' \\<noteq> y'\""], ["proof (prove)\nusing this:\n  \\<nexists>!x'. x' \\<in> U' \\<and> P' x'\n  \\<exists>x'. x' \\<in> U' \\<and> P' x'\n  x' \\<in> U'\n  P' x'\n\ngoal (1 subgoal):\n 1. (\\<And>y'.\n        \\<lbrakk>y' \\<in> U'; P' y'; x' \\<noteq> y'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y' \\<in> U'\n  P' y'\n  x' \\<noteq> y'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from assms(2) \\<open>P' x'\\<close>"], ["proof (chain)\npicking this:\n  right_total A\n  P' x'", "obtain x where [transfer_rule]: \"A x x'\""], ["proof (prove)\nusing this:\n  right_total A\n  P' x'\n\ngoal (1 subgoal):\n 1. (\\<And>x. A x x' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "unfolding right_total_def"], ["proof (prove)\nusing this:\n  \\<forall>y. \\<exists>x. A x y\n  P' x'\n\ngoal (1 subgoal):\n 1. (\\<And>x. A x x' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  A x x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from assms(2) \\<open>P' y'\\<close>"], ["proof (chain)\npicking this:\n  right_total A\n  P' y'", "obtain y where [transfer_rule]: \"A y y'\""], ["proof (prove)\nusing this:\n  right_total A\n  P' y'\n\ngoal (1 subgoal):\n 1. (\\<And>y. A y y' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "unfolding right_total_def"], ["proof (prove)\nusing this:\n  \\<forall>y. \\<exists>x. A x y\n  P' y'\n\ngoal (1 subgoal):\n 1. (\\<And>y. A y y' \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  A y y'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from \\<open>P' x'\\<close>"], ["proof (chain)\npicking this:\n  P' x'", "have \"P x\""], ["proof (prove)\nusing this:\n  P' x'\n\ngoal (1 subgoal):\n 1. P x", "by transfer"], ["proof (state)\nthis:\n  P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "moreover"], ["proof (state)\nthis:\n  P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from \\<open>P' y'\\<close>"], ["proof (chain)\npicking this:\n  P' y'", "have \"P y\""], ["proof (prove)\nusing this:\n  P' y'\n\ngoal (1 subgoal):\n 1. P y", "by transfer"], ["proof (state)\nthis:\n  P y\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "moreover"], ["proof (state)\nthis:\n  P y\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "from \\<open>x' \\<noteq> y'\\<close>"], ["proof (chain)\npicking this:\n  x' \\<noteq> y'", "have \"x \\<noteq> y\""], ["proof (prove)\nusing this:\n  x' \\<noteq> y'\n\ngoal (1 subgoal):\n 1. x \\<noteq> y", "by transfer"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "ultimately"], ["proof (chain)\npicking this:\n  P x\n  P y\n  x \\<noteq> y", "have \"\\<nexists>!x. x \\<in> U \\<and> P x\""], ["proof (prove)\nusing this:\n  P x\n  P y\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<nexists>!x. x \\<in> U \\<and> P x", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P x; P y; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<nexists>!x. x \\<in> U \\<and> P x", "using UU' \\<open>A x x'\\<close> \\<open>A y y'\\<close> \\<open>x' \\<in> U'\\<close> \\<open>y' \\<in> U'\\<close> assms(1)"], ["proof (prove)\nusing this:\n  rel_set A U U'\n  A x x'\n  A y y'\n  x' \\<in> U'\n  y' \\<in> U'\n  bi_unique A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P x; P y; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<nexists>!x. x \\<in> U \\<and> P x", "by (blast dest: bi_uniqueDl rel_setD2)"], ["proof (state)\nthis:\n  \\<nexists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "then"], ["proof (chain)\npicking this:\n  \\<nexists>!x. x \\<in> U \\<and> P x", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<nexists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  \\<nexists>!x. x \\<in> U \\<and> P x\n\ngoal (1 subgoal):\n 1. rel_option A\n     (if \\<exists>!x. x \\<in> U \\<and> P x\n      then Some (THE x. x \\<in> U \\<and> P x) else None)\n     (if \\<exists>!x. x \\<in> U' \\<and> P' x\n      then Some (THE x. x \\<in> U' \\<and> P' x) else None)", "by (auto simp: nux)"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal (1 subgoal):\n 1. \\<nexists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "case False"], ["proof (state)\nthis:\n  \\<nexists>x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. \\<nexists>x'. x' \\<in> U' \\<and> P' x' \\<Longrightarrow>\n    rel_option A (THE x on U. P x) (THE x on U'. P' x)", "then"], ["proof (chain)\npicking this:\n  \\<nexists>x'. x' \\<in> U' \\<and> P' x'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<nexists>x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. rel_option A (THE x on U. P x) (THE x on U'. P' x)", "unfolding The_on_def"], ["proof (prove)\nusing this:\n  \\<nexists>x'. x' \\<in> U' \\<and> P' x'\n\ngoal (1 subgoal):\n 1. rel_option A\n     (if \\<exists>!x. x \\<in> U \\<and> P x\n      then Some (THE x. x \\<in> U \\<and> P x) else None)\n     (if \\<exists>!x. x \\<in> U' \\<and> P' x\n      then Some (THE x. x \\<in> U' \\<and> P' x) else None)", "using PP' UU'"], ["proof (prove)\nusing this:\n  \\<nexists>x'. x' \\<in> U' \\<and> P' x'\n  (A ===> (=)) P P'\n  rel_set A U U'\n\ngoal (1 subgoal):\n 1. rel_option A\n     (if \\<exists>!x. x \\<in> U \\<and> P x\n      then Some (THE x. x \\<in> U \\<and> P x) else None)\n     (if \\<exists>!x. x \\<in> U' \\<and> P' x\n      then Some (THE x. x \\<in> U' \\<and> P' x) else None)", "by (fastforce dest: rel_funD rel_setD1)"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_option A (THE x on U. P x) (THE x on U'. P' x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\\newpage\\<close>"], ["", "end"]]}