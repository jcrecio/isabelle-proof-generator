{"file_name": "/home/qj213/afp-2021-10-22/thys/Amortized_Complexity/Splay_Tree_Analysis_Base.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Amortized_Complexity", "problem_names": ["lemma T_splay_simps[simp]:\n  \"T_splay a (Node l a r) = 1\"\n  \"x<b \\<Longrightarrow> T_splay x (Node Leaf b CD) = 1\"\n  \"a<b \\<Longrightarrow> T_splay a (Node (Node A a B) b CD) = 1\"\n  \"x<a \\<Longrightarrow> x<b \\<Longrightarrow> T_splay x (Node (Node A a B) b CD) =\n   (if A = Leaf then 1 else T_splay x A + 1)\"\n  \"x<b \\<Longrightarrow> a<x \\<Longrightarrow> T_splay x (Node (Node A a B) b CD) =\n   (if B = Leaf then 1 else T_splay x B + 1)\"\n  \"b<x \\<Longrightarrow> T_splay x (Node AB b Leaf) = 1\"\n  \"b<a \\<Longrightarrow> T_splay a (Node AB b (Node C a D)) = 1\"\n  \"b<x \\<Longrightarrow> x<c \\<Longrightarrow> T_splay x (Node AB b (Node C c D)) =\n  (if C=Leaf then 1 else T_splay x C + 1)\"\n  \"b<x \\<Longrightarrow> c<x \\<Longrightarrow> T_splay x (Node AB b (Node C c D)) =\n  (if D=Leaf then 1 else T_splay x D + 1)\"", "lemma ex_in_set_tree: \"t \\<noteq> Leaf \\<Longrightarrow> bst t \\<Longrightarrow>\n  \\<exists>x' \\<in> set_tree t. splay x' t = splay x t \\<and> T_splay x' t = T_splay x t\""], "translations": [["", "lemma T_splay_simps[simp]:\n  \"T_splay a (Node l a r) = 1\"\n  \"x<b \\<Longrightarrow> T_splay x (Node Leaf b CD) = 1\"\n  \"a<b \\<Longrightarrow> T_splay a (Node (Node A a B) b CD) = 1\"\n  \"x<a \\<Longrightarrow> x<b \\<Longrightarrow> T_splay x (Node (Node A a B) b CD) =\n   (if A = Leaf then 1 else T_splay x A + 1)\"\n  \"x<b \\<Longrightarrow> a<x \\<Longrightarrow> T_splay x (Node (Node A a B) b CD) =\n   (if B = Leaf then 1 else T_splay x B + 1)\"\n  \"b<x \\<Longrightarrow> T_splay x (Node AB b Leaf) = 1\"\n  \"b<a \\<Longrightarrow> T_splay a (Node AB b (Node C a D)) = 1\"\n  \"b<x \\<Longrightarrow> x<c \\<Longrightarrow> T_splay x (Node AB b (Node C c D)) =\n  (if C=Leaf then 1 else T_splay x C + 1)\"\n  \"b<x \\<Longrightarrow> c<x \\<Longrightarrow> T_splay x (Node AB b (Node C c D)) =\n  (if D=Leaf then 1 else T_splay x D + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((T_splay a \\<langle>l, a, r\\<rangle> = 1 &&&\n      (x < b \\<Longrightarrow>\n       T_splay x \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> = 1)) &&&\n     (a < b \\<Longrightarrow>\n      T_splay a \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> = 1) &&&\n     (\\<lbrakk>x < a; x < b\\<rbrakk>\n      \\<Longrightarrow> T_splay x\n                         \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                          CD\\<rangle> =\n                        (if A = \\<langle>\\<rangle> then 1\n                         else T_splay x A + 1))) &&&\n    ((\\<lbrakk>x < b; a < x\\<rbrakk>\n      \\<Longrightarrow> T_splay x\n                         \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                          CD\\<rangle> =\n                        (if B = \\<langle>\\<rangle> then 1\n                         else T_splay x B + 1)) &&&\n     (b < x \\<Longrightarrow>\n      T_splay x \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> = 1)) &&&\n    (b < a \\<Longrightarrow>\n     T_splay a \\<langle>AB, b, \\<langle>C, a, D\\<rangle>\\<rangle> = 1) &&&\n    (\\<lbrakk>b < x; x < c\\<rbrakk>\n     \\<Longrightarrow> T_splay x\n                        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> =\n                       (if C = \\<langle>\\<rangle> then 1\n                        else T_splay x C + 1)) &&&\n    (\\<lbrakk>b < x; c < x\\<rbrakk>\n     \\<Longrightarrow> T_splay x\n                        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> =\n                       (if D = \\<langle>\\<rangle> then 1\n                        else T_splay x D + 1))", "by auto"], ["", "declare T_splay.simps(2)[simp del]"], ["", "definition T_insert :: \"'a::linorder \\<Rightarrow> 'a tree \\<Rightarrow> nat\" where\n\"T_insert x t = 1 + (if t = Leaf then 0 else T_splay x t)\""], ["", "fun T_splay_max :: \"'a::linorder tree \\<Rightarrow> nat\" where\n\"T_splay_max Leaf = 1\" |\n\"T_splay_max (Node A a Leaf) = 1\" |\n\"T_splay_max (Node A a (Node B b C)) = (if C=Leaf then 1 else T_splay_max C + 1)\""], ["", "definition T_delete :: \"'a::linorder \\<Rightarrow> 'a tree \\<Rightarrow> nat\" where\n\"T_delete x t =\n  1 + (if t = Leaf then 0\n   else T_splay x t +\n     (case splay x t of\n        Node l a r \\<Rightarrow> if x \\<noteq> a then 0 else if l = Leaf then 0 else T_splay_max l))\""], ["", "lemma ex_in_set_tree: \"t \\<noteq> Leaf \\<Longrightarrow> bst t \\<Longrightarrow>\n  \\<exists>x' \\<in> set_tree t. splay x' t = splay x t \\<and> T_splay x' t = T_splay x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<noteq> \\<langle>\\<rangle>; bst t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x'\\<in>set_tree t.\n                         splay x' t = splay x t \\<and>\n                         T_splay x' t = T_splay x t", "proof(induction x t rule: splay.induct)"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "case (6 x b c A)"], ["proof (state)\nthis:\n  x < b\n  x < c\n  A \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                       splay x' A = splay x A \\<and>\n                       T_splay x' A = T_splay x A\n  \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "hence \"splay x A \\<noteq> Leaf\""], ["proof (prove)\nusing this:\n  x < b\n  x < c\n  A \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                       splay x' A = splay x A \\<and>\n                       T_splay x' A = T_splay x A\n  \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. splay x A \\<noteq> \\<langle>\\<rangle>", "by simp"], ["proof (state)\nthis:\n  splay x A \\<noteq> \\<langle>\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  splay x A \\<noteq> \\<langle>\\<rangle>", "obtain A1 u A2 where [simp]: \"splay x A = Node A1 u A2\""], ["proof (prove)\nusing this:\n  splay x A \\<noteq> \\<langle>\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>A1 u A2.\n        splay x A = \\<langle>A1, u, A2\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis tree.exhaust)"], ["proof (state)\nthis:\n  splay x A = \\<langle>A1, u, A2\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "have \"b < c\" \"bst A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b < c &&& bst A", "using \"6.prems\""], ["proof (prove)\nusing this:\n  \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. b < c &&& bst A", "by auto"], ["proof (state)\nthis:\n  b < c\n  bst A\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "from \"6.IH\"[OF \\<open>A \\<noteq> Leaf\\<close> \\<open>bst A\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>x'\\<in>set_tree A.\n     splay x' A = splay x A \\<and> T_splay x' A = T_splay x A", "obtain x' where \"x' \\<in> set_tree A\" \"splay x' A = splay x A\" \"T_splay x' A = T_splay x A\""], ["proof (prove)\nusing this:\n  \\<exists>x'\\<in>set_tree A.\n     splay x' A = splay x A \\<and> T_splay x' A = T_splay x A\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> set_tree A; splay x' A = splay x A;\n         T_splay x' A = T_splay x A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "moreover"], ["proof (state)\nthis:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "hence \"x'<b\""], ["proof (prove)\nusing this:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n\ngoal (1 subgoal):\n 1. x' < b", "using \"6.prems\"(2)"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n  bst \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. x' < b", "by auto"], ["proof (state)\nthis:\n  x' < b\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>x a b A B CD.\n       \\<lbrakk>x < a; x < b; A \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>A \\<noteq> \\<langle>\\<rangle>; bst A\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree A.\n                             splay x' A = splay x A \\<and>\n                             T_splay x' A = T_splay x A;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 7. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 8. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 9. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 10. \\<And>b x AB.\n        \\<lbrakk>b < x;\n         \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\nA total of 14 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n  x' < b", "show ?case"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n  x' < b\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>.\n       splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n       splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<and>\n       T_splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n       T_splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>", "using \\<open>x<c\\<close> \\<open>x<b\\<close> \\<open>b<c\\<close> \\<open>bst A\\<close>"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree A\n  splay x' A = splay x A\n  T_splay x' A = T_splay x A\n  x' < b\n  x < c\n  x < b\n  b < c\n  bst A\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>.\n       splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n       splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<and>\n       T_splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n       T_splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>", "by force"], ["proof (state)\nthis:\n  \\<exists>x'\\<in>set_tree\n                   \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>.\n     splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n     splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> \\<and>\n     T_splay x' \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle> =\n     T_splay x \\<langle>\\<langle>A, b, B_\\<rangle>, c, CD_\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "case (8 a x c B)"], ["proof (state)\nthis:\n  a < x\n  x < c\n  B \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                       splay x' B = splay x B \\<and>\n                       T_splay x' B = T_splay x B\n  \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "hence \"splay x B \\<noteq> Leaf\""], ["proof (prove)\nusing this:\n  a < x\n  x < c\n  B \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                       splay x' B = splay x B \\<and>\n                       T_splay x' B = T_splay x B\n  \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. splay x B \\<noteq> \\<langle>\\<rangle>", "by simp"], ["proof (state)\nthis:\n  splay x B \\<noteq> \\<langle>\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  splay x B \\<noteq> \\<langle>\\<rangle>", "obtain B1 u B2 where [simp]: \"splay x B = Node B1 u B2\""], ["proof (prove)\nusing this:\n  splay x B \\<noteq> \\<langle>\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>B1 u B2.\n        splay x B = \\<langle>B1, u, B2\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis tree.exhaust)"], ["proof (state)\nthis:\n  splay x B = \\<langle>B1, u, B2\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "have \"a < c\" \"bst B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < c &&& bst B", "using \"8.prems\""], ["proof (prove)\nusing this:\n  \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. a < c &&& bst B", "by auto"], ["proof (state)\nthis:\n  a < c\n  bst B\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "from \"8.IH\"[OF \\<open>B \\<noteq> Leaf\\<close> \\<open>bst B\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>x'\\<in>set_tree B.\n     splay x' B = splay x B \\<and> T_splay x' B = T_splay x B", "obtain x' where \"x' \\<in> set_tree B\" \"splay x' B = splay x B\" \"T_splay x' B = T_splay x B\""], ["proof (prove)\nusing this:\n  \\<exists>x'\\<in>set_tree B.\n     splay x' B = splay x B \\<and> T_splay x' B = T_splay x B\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> set_tree B; splay x' B = splay x B;\n         T_splay x' B = T_splay x B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "moreover"], ["proof (state)\nthis:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "hence \"a<x' & x'<c\""], ["proof (prove)\nusing this:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n\ngoal (1 subgoal):\n 1. a < x' \\<and> x' < c", "using \"8.prems\"(2)"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n  bst \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>\n\ngoal (1 subgoal):\n 1. a < x' \\<and> x' < c", "by simp"], ["proof (state)\nthis:\n  a < x' \\<and> x' < c\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>a x b B A CD.\n       \\<lbrakk>a < x; x < b; B \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>B \\<noteq> \\<langle>\\<rangle>; bst B\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree B.\n                             splay x' B = splay x B \\<and>\n                             T_splay x' B = T_splay x B;\n        \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a, B\\<rangle>, b,\n                              CD\\<rangle>\n 8. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 9. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 10. \\<And>b x c C AB D.\n        \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n         \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n         \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                              splay x' C = splay x C \\<and>\n                              T_splay x' C = T_splay x C;\n         \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c, D\\<rangle>\\<rangle>\nA total of 13 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n  a < x' \\<and> x' < c", "show ?case"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n  a < x' \\<and> x' < c\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>.\n       splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n       splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<and>\n       T_splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n       T_splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>", "using \\<open>x<c\\<close> \\<open>a<x\\<close> \\<open>a<c\\<close> \\<open>bst B\\<close>"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree B\n  splay x' B = splay x B\n  T_splay x' B = T_splay x B\n  a < x' \\<and> x' < c\n  x < c\n  a < x\n  a < c\n  bst B\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>.\n       splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n       splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<and>\n       T_splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n       T_splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>", "by force"], ["proof (state)\nthis:\n  \\<exists>x'\\<in>set_tree\n                   \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>.\n     splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n     splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> \\<and>\n     T_splay x' \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle> =\n     T_splay x \\<langle>\\<langle>A_, a, B\\<rangle>, c, CD_\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "case (11 b x c C)"], ["proof (state)\nthis:\n  b < x\n  x < c\n  C \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                       splay x' C = splay x C \\<and>\n                       T_splay x' C = T_splay x C\n  \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "hence \"splay x C \\<noteq> Leaf\""], ["proof (prove)\nusing this:\n  b < x\n  x < c\n  C \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                       splay x' C = splay x C \\<and>\n                       T_splay x' C = T_splay x C\n  \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. splay x C \\<noteq> \\<langle>\\<rangle>", "by simp"], ["proof (state)\nthis:\n  splay x C \\<noteq> \\<langle>\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  splay x C \\<noteq> \\<langle>\\<rangle>", "obtain C1 u C2 where [simp]: \"splay x C = Node C1 u C2\""], ["proof (prove)\nusing this:\n  splay x C \\<noteq> \\<langle>\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>C1 u C2.\n        splay x C = \\<langle>C1, u, C2\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis tree.exhaust)"], ["proof (state)\nthis:\n  splay x C = \\<langle>C1, u, C2\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "have \"b < c\" \"bst C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b < c &&& bst C", "using \"11.prems\""], ["proof (prove)\nusing this:\n  \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. b < c &&& bst C", "by auto"], ["proof (state)\nthis:\n  b < c\n  bst C\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "from \"11.IH\"[OF \\<open>C \\<noteq> Leaf\\<close> \\<open>bst C\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>x'\\<in>set_tree C.\n     splay x' C = splay x C \\<and> T_splay x' C = T_splay x C", "obtain x' where \"x' \\<in> set_tree C\" \"splay x' C = splay x C\" \"T_splay x' C = T_splay x C\""], ["proof (prove)\nusing this:\n  \\<exists>x'\\<in>set_tree C.\n     splay x' C = splay x C \\<and> T_splay x' C = T_splay x C\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> set_tree C; splay x' C = splay x C;\n         T_splay x' C = T_splay x C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "moreover"], ["proof (state)\nthis:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "hence \"b<x' & x'<c\""], ["proof (prove)\nusing this:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n\ngoal (1 subgoal):\n 1. b < x' \\<and> x' < c", "using \"11.prems\""], ["proof (prove)\nusing this:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n  \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. b < x' \\<and> x' < c", "by simp"], ["proof (state)\nthis:\n  b < x' \\<and> x' < c\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c C AB D.\n       \\<lbrakk>b < x; x < c; C \\<noteq> \\<langle>\\<rangle>;\n        \\<lbrakk>C \\<noteq> \\<langle>\\<rangle>; bst C\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree C.\n                             splay x' C = splay x C \\<and>\n                             T_splay x' C = T_splay x C;\n        \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, c, D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB D.\n        \\<lbrakk>b < x; x < c;\n         \\<langle>AB, b,\n          \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>\\<langle>\\<rangle>, c,\n                                D\\<rangle>\\<rangle>\nA total of 12 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n  b < x' \\<and> x' < c", "show ?case"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n  b < x' \\<and> x' < c\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>.\n       splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n       splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<and>\n       T_splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n       T_splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>", "using \\<open>b<x\\<close> \\<open>x<c\\<close> \\<open>b<c\\<close> \\<open>bst C\\<close>"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree C\n  splay x' C = splay x C\n  T_splay x' C = T_splay x C\n  b < x' \\<and> x' < c\n  b < x\n  x < c\n  b < c\n  bst C\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>.\n       splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n       splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<and>\n       T_splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n       T_splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>", "by force"], ["proof (state)\nthis:\n  \\<exists>x'\\<in>set_tree\n                   \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>.\n     splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n     splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> \\<and>\n     T_splay x' \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle> =\n     T_splay x \\<langle>AB_, b, \\<langle>C, c, D_\\<rangle>\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "case (14 a x c D)"], ["proof (state)\nthis:\n  a < x\n  c < x\n  D \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>D \\<noteq> \\<langle>\\<rangle>; bst D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree D.\n                       splay x' D = splay x D \\<and>\n                       T_splay x' D = T_splay x D\n  \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "hence \"splay x D \\<noteq> Leaf\""], ["proof (prove)\nusing this:\n  a < x\n  c < x\n  D \\<noteq> \\<langle>\\<rangle>\n  \\<lbrakk>D \\<noteq> \\<langle>\\<rangle>; bst D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x'\\<in>set_tree D.\n                       splay x' D = splay x D \\<and>\n                       T_splay x' D = T_splay x D\n  \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. splay x D \\<noteq> \\<langle>\\<rangle>", "by simp"], ["proof (state)\nthis:\n  splay x D \\<noteq> \\<langle>\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  splay x D \\<noteq> \\<langle>\\<rangle>", "obtain D1 u D2 where [simp]: \"splay x D = Node D1 u D2\""], ["proof (prove)\nusing this:\n  splay x D \\<noteq> \\<langle>\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>D1 u D2.\n        splay x D = \\<langle>D1, u, D2\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis tree.exhaust)"], ["proof (state)\nthis:\n  splay x D = \\<langle>D1, u, D2\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "have \"a < c\" \"bst D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < c &&& bst D", "using \"14.prems\""], ["proof (prove)\nusing this:\n  \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<noteq>\n  \\<langle>\\<rangle>\n  bst \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. a < c &&& bst D", "by auto"], ["proof (state)\nthis:\n  a < c\n  bst D\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "from \"14.IH\"[OF \\<open>D \\<noteq> Leaf\\<close> \\<open>bst D\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>x'\\<in>set_tree D.\n     splay x' D = splay x D \\<and> T_splay x' D = T_splay x D", "obtain x' where \"x' \\<in> set_tree D\" \"splay x' D = splay x D\" \"T_splay x' D = T_splay x D\""], ["proof (prove)\nusing this:\n  \\<exists>x'\\<in>set_tree D.\n     splay x' D = splay x D \\<and> T_splay x' D = T_splay x D\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> set_tree D; splay x' D = splay x D;\n         T_splay x' D = T_splay x D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "moreover"], ["proof (state)\nthis:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "hence \"c<x'\""], ["proof (prove)\nusing this:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n\ngoal (1 subgoal):\n 1. c < x'", "using \"14.prems\"(2)"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n  bst \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>\n\ngoal (1 subgoal):\n 1. c < x'", "by simp"], ["proof (state)\nthis:\n  c < x'\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>\nA total of 11 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n  c < x'", "show ?case"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n  c < x'\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>.\n       splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n       splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<and>\n       T_splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n       T_splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>", "using \\<open>a<x\\<close> \\<open>c<x\\<close> \\<open>a<c\\<close> \\<open>bst D\\<close>"], ["proof (prove)\nusing this:\n  x' \\<in> set_tree D\n  splay x' D = splay x D\n  T_splay x' D = T_splay x D\n  c < x'\n  a < x\n  c < x\n  a < c\n  bst D\n\ngoal (1 subgoal):\n 1. \\<exists>x'\\<in>set_tree\n                     \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>.\n       splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n       splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<and>\n       T_splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n       T_splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>", "by force"], ["proof (state)\nthis:\n  \\<exists>x'\\<in>set_tree\n                   \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>.\n     splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n     splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> \\<and>\n     T_splay x' \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle> =\n     T_splay x \\<langle>AB_, a, \\<langle>C_, c, D\\<rangle>\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<langle>\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree \\<langle>\\<rangle>.\n                            splay x' \\<langle>\\<rangle> =\n                            splay x \\<langle>\\<rangle> \\<and>\n                            T_splay x' \\<langle>\\<rangle> =\n                            T_splay x \\<langle>\\<rangle>\n 2. \\<And>x AB CD.\n       \\<lbrakk>\\<langle>AB, x, CD\\<rangle> \\<noteq> \\<langle>\\<rangle>;\n        bst \\<langle>AB, x, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, x, CD\\<rangle>.\n                            splay x' \\<langle>AB, x, CD\\<rangle> =\n                            splay x \\<langle>AB, x, CD\\<rangle> \\<and>\n                            T_splay x' \\<langle>AB, x, CD\\<rangle> =\n                            T_splay x \\<langle>AB, x, CD\\<rangle>\n 3. \\<And>x b A B CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, x, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, x, B\\<rangle>, b,\n                              CD\\<rangle>\n 4. \\<And>x b CD.\n       \\<lbrakk>x < b;\n        \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<rangle>, b,\n                              CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<rangle>, b, CD\\<rangle>\n 5. \\<And>x a b B CD.\n       \\<lbrakk>x < a; x < b;\n        \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>\\<langle>\\<rangle>, a, B\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>\\<langle>\\<rangle>, a,\n B\\<rangle>,\n                              b, CD\\<rangle>\n 6. \\<And>a x b A CD.\n       \\<lbrakk>a < x; x < b;\n        \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n         CD\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b,\n             CD\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>\\<langle>A, a, \\<langle>\\<rangle>\\<rangle>, b, CD\\<rangle>.\n                            splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle> =\n                            T_splay x\n                             \\<langle>\\<langle>A, a,\n \\<langle>\\<rangle>\\<rangle>,\n                              b, CD\\<rangle>\n 7. \\<And>b x AB C D.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>C, x, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>C, x, D\\<rangle>\\<rangle>\n 8. \\<And>b x AB.\n       \\<lbrakk>b < x;\n        \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b, \\<langle>\\<rangle>\\<rangle>\n 9. \\<And>b x c AB D.\n       \\<lbrakk>b < x; x < c;\n        \\<langle>AB, b,\n         \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle> \\<noteq>\n        \\<langle>\\<rangle>;\n        bst \\<langle>AB, b,\n             \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n    \\<langle>AB, b, \\<langle>\\<langle>\\<rangle>, c, D\\<rangle>\\<rangle>.\n                            splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> \\<and>\n                            T_splay x'\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle> =\n                            T_splay x\n                             \\<langle>AB, b,\n                              \\<langle>\\<langle>\\<rangle>, c,\n                               D\\<rangle>\\<rangle>\n 10. \\<And>b x c AB C.\n        \\<lbrakk>b < x; c < x;\n         \\<langle>AB, b,\n          \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<noteq>\n         \\<langle>\\<rangle>;\n         bst \\<langle>AB, b,\n              \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x'\\<in>set_tree\n     \\<langle>AB, b, \\<langle>C, c, \\<langle>\\<rangle>\\<rangle>\\<rangle>.\n                             splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> \\<and>\n                             T_splay x'\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle> =\n                             T_splay x\n                              \\<langle>AB, b,\n                               \\<langle>C, c,\n                                \\<langle>\\<rangle>\\<rangle>\\<rangle>", "qed (auto simp: le_less)"], ["", "datatype 'a op = Empty | Splay 'a | Insert 'a | Delete 'a"], ["", "fun arity :: \"'a::linorder op \\<Rightarrow> nat\" where\n\"arity Empty = 0\" |\n\"arity (Splay x) = 1\" |\n\"arity (Insert x) = 1\" |\n\"arity (Delete x) = 1\""], ["", "fun exec :: \"'a::linorder op \\<Rightarrow> 'a tree list \\<Rightarrow> 'a tree\" where\n\"exec Empty [] = Leaf\" |\n\"exec (Splay x) [t] = splay x t\" |\n\"exec (Insert x) [t] = Splay_Tree.insert x t\" |\n\"exec (Delete x) [t] = Splay_Tree.delete x t\""], ["", "fun cost :: \"'a::linorder op \\<Rightarrow> 'a tree list \\<Rightarrow> nat\" where\n\"cost Empty [] = 1\" |\n\"cost (Splay x) [t] = T_splay x t\" |\n\"cost (Insert x) [t] = T_insert x t\" |\n\"cost (Delete x) [t] = T_delete x t\""], ["", "end"]]}